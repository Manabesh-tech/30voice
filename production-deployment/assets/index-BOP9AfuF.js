(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();function Bd(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function pp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var n=u.default;if(typeof n=="function"){var s=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),s}var bl={exports:{}},rs={},El={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function mp(){if(Zc)return se;Zc=1;var u=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function T(j,I,re){this.props=j,this.context=I,this.refs=O,this.updater=re||b}T.prototype.isReactComponent={},T.prototype.setState=function(j,I){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,I,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=T.prototype;function A(j,I,re){this.props=j,this.context=I,this.refs=O,this.updater=re||b}var D=A.prototype=new R;D.constructor=A,P(D,T.prototype),D.isPureReactComponent=!0;var z=Array.isArray,G=Object.prototype.hasOwnProperty,Q={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function ve(j,I,re){var ie,ue={},ce=null,ye=null;if(I!=null)for(ie in I.ref!==void 0&&(ye=I.ref),I.key!==void 0&&(ce=""+I.key),I)G.call(I,ie)&&!ne.hasOwnProperty(ie)&&(ue[ie]=I[ie]);var me=arguments.length-2;if(me===1)ue.children=re;else if(1<me){for(var Ee=Array(me),ot=0;ot<me;ot++)Ee[ot]=arguments[ot+2];ue.children=Ee}if(j&&j.defaultProps)for(ie in me=j.defaultProps,me)ue[ie]===void 0&&(ue[ie]=me[ie]);return{$$typeof:u,type:j,key:ce,ref:ye,props:ue,_owner:Q.current}}function fe(j,I){return{$$typeof:u,type:j.type,key:I,ref:j.ref,props:j.props,_owner:j._owner}}function pe(j){return typeof j=="object"&&j!==null&&j.$$typeof===u}function le(j){var I={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(re){return I[re]})}var _e=/\/+/g;function Le(j,I){return typeof j=="object"&&j!==null&&j.key!=null?le(""+j.key):I.toString(36)}function be(j,I,re,ie,ue){var ce=typeof j;(ce==="undefined"||ce==="boolean")&&(j=null);var ye=!1;if(j===null)ye=!0;else switch(ce){case"string":case"number":ye=!0;break;case"object":switch(j.$$typeof){case u:case n:ye=!0}}if(ye)return ye=j,ue=ue(ye),j=ie===""?"."+Le(ye,0):ie,z(ue)?(re="",j!=null&&(re=j.replace(_e,"$&/")+"/"),be(ue,I,re,"",function(ot){return ot})):ue!=null&&(pe(ue)&&(ue=fe(ue,re+(!ue.key||ye&&ye.key===ue.key?"":(""+ue.key).replace(_e,"$&/")+"/")+j)),I.push(ue)),1;if(ye=0,ie=ie===""?".":ie+":",z(j))for(var me=0;me<j.length;me++){ce=j[me];var Ee=ie+Le(ce,me);ye+=be(ce,I,re,Ee,ue)}else if(Ee=S(j),typeof Ee=="function")for(j=Ee.call(j),me=0;!(ce=j.next()).done;)ce=ce.value,Ee=ie+Le(ce,me++),ye+=be(ce,I,re,Ee,ue);else if(ce==="object")throw I=String(j),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ye}function $e(j,I,re){if(j==null)return j;var ie=[],ue=0;return be(j,ie,"","",function(ce){return I.call(re,ce,ue++)}),ie}function Re(j){if(j._status===-1){var I=j._result;I=I(),I.then(function(re){(j._status===0||j._status===-1)&&(j._status=1,j._result=re)},function(re){(j._status===0||j._status===-1)&&(j._status=2,j._result=re)}),j._status===-1&&(j._status=0,j._result=I)}if(j._status===1)return j._result.default;throw j._result}var he={current:null},B={transition:null},Y={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:B,ReactCurrentOwner:Q};function W(){throw Error("act(...) is not supported in production builds of React.")}return se.Children={map:$e,forEach:function(j,I,re){$e(j,function(){I.apply(this,arguments)},re)},count:function(j){var I=0;return $e(j,function(){I++}),I},toArray:function(j){return $e(j,function(I){return I})||[]},only:function(j){if(!pe(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},se.Component=T,se.Fragment=s,se.Profiler=a,se.PureComponent=A,se.StrictMode=o,se.Suspense=g,se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,se.act=W,se.cloneElement=function(j,I,re){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ie=P({},j.props),ue=j.key,ce=j.ref,ye=j._owner;if(I!=null){if(I.ref!==void 0&&(ce=I.ref,ye=Q.current),I.key!==void 0&&(ue=""+I.key),j.type&&j.type.defaultProps)var me=j.type.defaultProps;for(Ee in I)G.call(I,Ee)&&!ne.hasOwnProperty(Ee)&&(ie[Ee]=I[Ee]===void 0&&me!==void 0?me[Ee]:I[Ee])}var Ee=arguments.length-2;if(Ee===1)ie.children=re;else if(1<Ee){me=Array(Ee);for(var ot=0;ot<Ee;ot++)me[ot]=arguments[ot+2];ie.children=me}return{$$typeof:u,type:j.type,key:ue,ref:ce,props:ie,_owner:ye}},se.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:c,_context:j},j.Consumer=j},se.createElement=ve,se.createFactory=function(j){var I=ve.bind(null,j);return I.type=j,I},se.createRef=function(){return{current:null}},se.forwardRef=function(j){return{$$typeof:m,render:j}},se.isValidElement=pe,se.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:Re}},se.memo=function(j,I){return{$$typeof:v,type:j,compare:I===void 0?null:I}},se.startTransition=function(j){var I=B.transition;B.transition={};try{j()}finally{B.transition=I}},se.unstable_act=W,se.useCallback=function(j,I){return he.current.useCallback(j,I)},se.useContext=function(j){return he.current.useContext(j)},se.useDebugValue=function(){},se.useDeferredValue=function(j){return he.current.useDeferredValue(j)},se.useEffect=function(j,I){return he.current.useEffect(j,I)},se.useId=function(){return he.current.useId()},se.useImperativeHandle=function(j,I,re){return he.current.useImperativeHandle(j,I,re)},se.useInsertionEffect=function(j,I){return he.current.useInsertionEffect(j,I)},se.useLayoutEffect=function(j,I){return he.current.useLayoutEffect(j,I)},se.useMemo=function(j,I){return he.current.useMemo(j,I)},se.useReducer=function(j,I,re){return he.current.useReducer(j,I,re)},se.useRef=function(j){return he.current.useRef(j)},se.useState=function(j){return he.current.useState(j)},se.useSyncExternalStore=function(j,I,re){return he.current.useSyncExternalStore(j,I,re)},se.useTransition=function(){return he.current.useTransition()},se.version="18.3.1",se}var ed;function Gl(){return ed||(ed=1,El.exports=mp()),El.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function gp(){if(td)return rs;td=1;var u=Gl(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,g,v){var y,x={},S=null,b=null;v!==void 0&&(S=""+v),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(b=g.ref);for(y in g)o.call(g,y)&&!c.hasOwnProperty(y)&&(x[y]=g[y]);if(m&&m.defaultProps)for(y in g=m.defaultProps,g)x[y]===void 0&&(x[y]=g[y]);return{$$typeof:n,type:m,key:S,ref:b,props:x,_owner:a.current}}return rs.Fragment=s,rs.jsx=f,rs.jsxs=f,rs}var rd;function vp(){return rd||(rd=1,bl.exports=gp()),bl.exports}var h=vp(),M=Gl();const yp=Bd(M);var ki={},Cl={exports:{}},st={},Nl={exports:{}},Pl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function wp(){return nd||(nd=1,function(u){function n(B,Y){var W=B.length;B.push(Y);e:for(;0<W;){var j=W-1>>>1,I=B[j];if(0<a(I,Y))B[j]=Y,B[W]=I,W=j;else break e}}function s(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var Y=B[0],W=B.pop();if(W!==Y){B[0]=W;e:for(var j=0,I=B.length,re=I>>>1;j<re;){var ie=2*(j+1)-1,ue=B[ie],ce=ie+1,ye=B[ce];if(0>a(ue,W))ce<I&&0>a(ye,ue)?(B[j]=ye,B[ce]=W,j=ce):(B[j]=ue,B[ie]=W,j=ie);else if(ce<I&&0>a(ye,W))B[j]=ye,B[ce]=W,j=ce;else break e}}return Y}function a(B,Y){var W=B.sortIndex-Y.sortIndex;return W!==0?W:B.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;u.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();u.unstable_now=function(){return f.now()-m}}var g=[],v=[],y=1,x=null,S=3,b=!1,P=!1,O=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(B){for(var Y=s(v);Y!==null;){if(Y.callback===null)o(v);else if(Y.startTime<=B)o(v),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=s(v)}}function z(B){if(O=!1,D(B),!P)if(s(g)!==null)P=!0,Re(G);else{var Y=s(v);Y!==null&&he(z,Y.startTime-B)}}function G(B,Y){P=!1,O&&(O=!1,R(ve),ve=-1),b=!0;var W=S;try{for(D(Y),x=s(g);x!==null&&(!(x.expirationTime>Y)||B&&!le());){var j=x.callback;if(typeof j=="function"){x.callback=null,S=x.priorityLevel;var I=j(x.expirationTime<=Y);Y=u.unstable_now(),typeof I=="function"?x.callback=I:x===s(g)&&o(g),D(Y)}else o(g);x=s(g)}if(x!==null)var re=!0;else{var ie=s(v);ie!==null&&he(z,ie.startTime-Y),re=!1}return re}finally{x=null,S=W,b=!1}}var Q=!1,ne=null,ve=-1,fe=5,pe=-1;function le(){return!(u.unstable_now()-pe<fe)}function _e(){if(ne!==null){var B=u.unstable_now();pe=B;var Y=!0;try{Y=ne(!0,B)}finally{Y?Le():(Q=!1,ne=null)}}else Q=!1}var Le;if(typeof A=="function")Le=function(){A(_e)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,$e=be.port2;be.port1.onmessage=_e,Le=function(){$e.postMessage(null)}}else Le=function(){T(_e,0)};function Re(B){ne=B,Q||(Q=!0,Le())}function he(B,Y){ve=T(function(){B(u.unstable_now())},Y)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(B){B.callback=null},u.unstable_continueExecution=function(){P||b||(P=!0,Re(G))},u.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<B?Math.floor(1e3/B):5},u.unstable_getCurrentPriorityLevel=function(){return S},u.unstable_getFirstCallbackNode=function(){return s(g)},u.unstable_next=function(B){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var W=S;S=Y;try{return B()}finally{S=W}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=S;S=B;try{return Y()}finally{S=W}},u.unstable_scheduleCallback=function(B,Y,W){var j=u.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?j+W:j):W=j,B){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=W+I,B={id:y++,callback:Y,priorityLevel:B,startTime:W,expirationTime:I,sortIndex:-1},W>j?(B.sortIndex=W,n(v,B),s(g)===null&&B===s(v)&&(O?(R(ve),ve=-1):O=!0,he(z,W-j))):(B.sortIndex=I,n(g,B),P||b||(P=!0,Re(G))),B},u.unstable_shouldYield=le,u.unstable_wrapCallback=function(B){var Y=S;return function(){var W=S;S=Y;try{return B.apply(this,arguments)}finally{S=W}}}}(Pl)),Pl}var sd;function xp(){return sd||(sd=1,Nl.exports=wp()),Nl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function _p(){if(id)return st;id=1;var u=Gl(),n=xp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function S(e){return g.call(x,e)?!0:g.call(y,e)?!1:v.test(e)?x[e]=!0:(y[e]=!0,!1)}function b(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P(e,t,r,i){if(t===null||typeof t>"u"||b(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,r,i,l,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(R,A);T[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(R,A);T[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(R,A);T[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,r,i){var l=T.hasOwnProperty(t)?T[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P(t,r,l,i)&&(r=null),i||l===null?S(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var z=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),Q=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),le=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),B=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,j;function I(e){if(j===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return`
`+j+e}var re=!1;function ie(e,t){if(!e||re)return"";re=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var i=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){i=N}e.call(t.prototype)}else{try{throw Error()}catch(N){i=N}e()}}catch(N){if(N&&i&&typeof N.stack=="string"){for(var l=N.stack.split(`
`),d=i.stack.split(`
`),p=l.length-1,w=d.length-1;1<=p&&0<=w&&l[p]!==d[w];)w--;for(;1<=p&&0<=w;p--,w--)if(l[p]!==d[w]){if(p!==1||w!==1)do if(p--,w--,0>w||l[p]!==d[w]){var _=`
`+l[p].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=p&&0<=w);break}}}finally{re=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I(e):""}function ue(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case Q:return"Portal";case fe:return"Profiler";case ve:return"StrictMode";case Le:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case le:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $e:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ot(e){var t=Ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){i=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=ot(e))}function ia(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Ee(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ri(e,t){var r=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function oa(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=me(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function la(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function Oi(e,t){la(e,t);var r=me(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ai(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ai(e,t.type,me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function aa(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ai(e,t,r){(t!=="number"||hs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vn=Array.isArray;function Rr(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+me(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Li(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ua(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(vn(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:me(r)}}function ca(e,t){var r=me(t.value),i=me(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function da(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fa(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ii(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fa(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,ha=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yf=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){yf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wn[t]=wn[e]})});function pa(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wn.hasOwnProperty(e)&&wn[e]?(""+t).trim():t+"px"}function ma(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=pa(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var wf=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $i(e,t){if(t){if(wf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Di(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function Mi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Or=null,Ar=null;function ga(e){if(e=zn(e)){if(typeof Fi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Ds(t),Fi(e.stateNode,e.type,t))}}function va(e){Or?Ar?Ar.push(e):Ar=[e]:Or=e}function ya(){if(Or){var e=Or,t=Ar;if(Ar=Or=null,ga(e),t)for(e=0;e<t.length;e++)ga(t[e])}}function wa(e,t){return e(t)}function xa(){}var zi=!1;function _a(e,t,r){if(zi)return e(t,r);zi=!0;try{return wa(e,t,r)}finally{zi=!1,(Or!==null||Ar!==null)&&(xa(),ya())}}function xn(e,t){var r=e.stateNode;if(r===null)return null;var i=Ds(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Bi=!1;if(m)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Bi=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Bi=!1}function xf(e,t,r,i,l,d,p,w,_){var N=Array.prototype.slice.call(arguments,3);try{t.apply(r,N)}catch($){this.onError($)}}var kn=!1,ms=null,gs=!1,Vi=null,_f={onError:function(e){kn=!0,ms=e}};function kf(e,t,r,i,l,d,p,w,_){kn=!1,ms=null,xf.apply(_f,arguments)}function Sf(e,t,r,i,l,d,p,w,_){if(kf.apply(this,arguments),kn){if(kn){var N=ms;kn=!1,ms=null}else throw Error(s(198));gs||(gs=!0,Vi=N)}}function hr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ka(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sa(e){if(hr(e)!==e)throw Error(s(188))}function jf(e){var t=e.alternate;if(!t){if(t=hr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return Sa(l),e;if(d===i)return Sa(l),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=l,i=d;else{for(var p=!1,w=l.child;w;){if(w===r){p=!0,r=l,i=d;break}if(w===i){p=!0,i=l,r=d;break}w=w.sibling}if(!p){for(w=d.child;w;){if(w===r){p=!0,r=d,i=l;break}if(w===i){p=!0,i=d,r=l;break}w=w.sibling}if(!p)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function ja(e){return e=jf(e),e!==null?ba(e):null}function ba(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ba(e);if(t!==null)return t;e=e.sibling}return null}var Ea=n.unstable_scheduleCallback,Ca=n.unstable_cancelCallback,bf=n.unstable_shouldYield,Ef=n.unstable_requestPaint,Oe=n.unstable_now,Cf=n.unstable_getCurrentPriorityLevel,Wi=n.unstable_ImmediatePriority,Na=n.unstable_UserBlockingPriority,vs=n.unstable_NormalPriority,Nf=n.unstable_LowPriority,Pa=n.unstable_IdlePriority,ys=null,Ct=null;function Pf(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ys,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Of,Tf=Math.log,Rf=Math.LN2;function Of(e){return e>>>=0,e===0?32:31-(Tf(e)/Rf|0)|0}var ws=64,xs=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _s(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,d=e.pingedLanes,p=r&268435455;if(p!==0){var w=p&~l;w!==0?i=Sn(w):(d&=p,d!==0&&(i=Sn(d)))}else p=r&~l,p!==0?i=Sn(p):d!==0&&(i=Sn(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&l)===0&&(l=i&-i,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-yt(t),l=1<<r,i|=e[r],t&=~l;return i}function Af(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-yt(d),w=1<<p,_=l[p];_===-1?((w&r)===0||(w&i)!==0)&&(l[p]=Af(w,t)):_<=t&&(e.expiredLanes|=w),d&=~w}}function qi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ta(){var e=ws;return ws<<=1,(ws&4194240)===0&&(ws=64),e}function Hi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=r}function If(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-yt(r),d=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~d}}function Ki(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-yt(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var ge=0;function Ra(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Oa,Qi,Aa,La,Ia,Gi=!1,ks=[],Vt=null,Wt=null,qt=null,bn=new Map,En=new Map,Ht=[],$f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $a(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(t.pointerId)}}function Cn(e,t,r,i,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[l]},t!==null&&(t=zn(t),t!==null&&Qi(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Df(e,t,r,i,l){switch(t){case"focusin":return Vt=Cn(Vt,e,t,r,i,l),!0;case"dragenter":return Wt=Cn(Wt,e,t,r,i,l),!0;case"mouseover":return qt=Cn(qt,e,t,r,i,l),!0;case"pointerover":var d=l.pointerId;return bn.set(d,Cn(bn.get(d)||null,e,t,r,i,l)),!0;case"gotpointercapture":return d=l.pointerId,En.set(d,Cn(En.get(d)||null,e,t,r,i,l)),!0}return!1}function Da(e){var t=pr(e.target);if(t!==null){var r=hr(t);if(r!==null){if(t=r.tag,t===13){if(t=ka(r),t!==null){e.blockedOn=t,Ia(e.priority,function(){Aa(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Ui=i,r.target.dispatchEvent(i),Ui=null}else return t=zn(r),t!==null&&Qi(t),e.blockedOn=r,!1;t.shift()}return!0}function Ua(e,t,r){Ss(e)&&r.delete(t)}function Uf(){Gi=!1,Vt!==null&&Ss(Vt)&&(Vt=null),Wt!==null&&Ss(Wt)&&(Wt=null),qt!==null&&Ss(qt)&&(qt=null),bn.forEach(Ua),En.forEach(Ua)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,Gi||(Gi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Uf)))}function Pn(e){function t(l){return Nn(l,e)}if(0<ks.length){Nn(ks[0],e);for(var r=1;r<ks.length;r++){var i=ks[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Vt!==null&&Nn(Vt,e),Wt!==null&&Nn(Wt,e),qt!==null&&Nn(qt,e),bn.forEach(t),En.forEach(t),r=0;r<Ht.length;r++)i=Ht[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)Da(r),r.blockedOn===null&&Ht.shift()}var Lr=z.ReactCurrentBatchConfig,js=!0;function Mf(e,t,r,i){var l=ge,d=Lr.transition;Lr.transition=null;try{ge=1,Ji(e,t,r,i)}finally{ge=l,Lr.transition=d}}function Ff(e,t,r,i){var l=ge,d=Lr.transition;Lr.transition=null;try{ge=4,Ji(e,t,r,i)}finally{ge=l,Lr.transition=d}}function Ji(e,t,r,i){if(js){var l=Yi(e,t,r,i);if(l===null)mo(e,t,i,bs,r),$a(e,i);else if(Df(l,e,t,r,i))i.stopPropagation();else if($a(e,i),t&4&&-1<$f.indexOf(e)){for(;l!==null;){var d=zn(l);if(d!==null&&Oa(d),d=Yi(e,t,r,i),d===null&&mo(e,t,i,bs,r),d===l)break;l=d}l!==null&&i.stopPropagation()}else mo(e,t,i,null,r)}}var bs=null;function Yi(e,t,r,i){if(bs=null,e=Mi(i),e=pr(e),e!==null)if(t=hr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ka(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bs=e,null}function Ma(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cf()){case Wi:return 1;case Na:return 4;case vs:case Nf:return 16;case Pa:return 536870912;default:return 16}default:return 16}}var Kt=null,Xi=null,Es=null;function Fa(){if(Es)return Es;var e,t=Xi,r=t.length,i,l="value"in Kt?Kt.value:Kt.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var p=r-e;for(i=1;i<=p&&t[r-i]===l[d-i];i++);return Es=l.slice(e,1<i?1-i:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function za(){return!1}function lt(e){function t(r,i,l,d,p){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ns:za,this.isPropagationStopped=za,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=lt(Ir),Tn=W({},Ir,{view:0,detail:0}),zf=lt(Tn),eo,to,Rn,Ps=W({},Tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:no,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(eo=e.screenX-Rn.screenX,to=e.screenY-Rn.screenY):to=eo=0,Rn=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),Ba=lt(Ps),Bf=W({},Ps,{dataTransfer:0}),Vf=lt(Bf),Wf=W({},Tn,{relatedTarget:0}),ro=lt(Wf),qf=W({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Hf=lt(qf),Kf=W({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qf=lt(Kf),Gf=W({},Ir,{data:0}),Va=lt(Gf),Jf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xf[e])?!!t[e]:!1}function no(){return Zf}var eh=W({},Tn,{key:function(e){if(e.key){var t=Jf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:no,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),th=lt(eh),rh=W({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=lt(rh),nh=W({},Tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:no}),sh=lt(nh),ih=W({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=lt(ih),lh=W({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ah=lt(lh),uh=[9,13,27,32],so=m&&"CompositionEvent"in window,On=null;m&&"documentMode"in document&&(On=document.documentMode);var ch=m&&"TextEvent"in window&&!On,qa=m&&(!so||On&&8<On&&11>=On),Ha=" ",Ka=!1;function Qa(e,t){switch(e){case"keyup":return uh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function dh(e,t){switch(e){case"compositionend":return Ga(t);case"keypress":return t.which!==32?null:(Ka=!0,Ha);case"textInput":return e=t.data,e===Ha&&Ka?null:e;default:return null}}function fh(e,t){if($r)return e==="compositionend"||!so&&Qa(e,t)?(e=Fa(),Es=Xi=Kt=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qa&&t.locale!=="ko"?null:t.data;default:return null}}var hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hh[e.type]:t==="textarea"}function Ya(e,t,r,i){va(i),t=Ls(t,"onChange"),0<t.length&&(r=new Zi("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var An=null,Ln=null;function ph(e){mu(e,0)}function Ts(e){var t=zr(e);if(ia(t))return e}function mh(e,t){if(e==="change")return t}var Xa=!1;if(m){var io;if(m){var oo="oninput"in document;if(!oo){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),oo=typeof Za.oninput=="function"}io=oo}else io=!1;Xa=io&&(!document.documentMode||9<document.documentMode)}function eu(){An&&(An.detachEvent("onpropertychange",tu),Ln=An=null)}function tu(e){if(e.propertyName==="value"&&Ts(Ln)){var t=[];Ya(t,Ln,e,Mi(e)),_a(ph,t)}}function gh(e,t,r){e==="focusin"?(eu(),An=t,Ln=r,An.attachEvent("onpropertychange",tu)):e==="focusout"&&eu()}function vh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ts(Ln)}function yh(e,t){if(e==="click")return Ts(t)}function wh(e,t){if(e==="input"||e==="change")return Ts(t)}function xh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:xh;function In(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!g.call(t,l)||!wt(e[l],t[l]))return!1}return!0}function ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nu(e,t){var r=ru(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ru(r)}}function su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iu(){for(var e=window,t=hs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hs(e.document)}return t}function lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _h(e){var t=iu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&su(r.ownerDocument.documentElement,r)){if(i!==null&&lo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,d=Math.min(i.start,l);i=i.end===void 0?d:Math.min(i.end,l),!e.extend&&d>i&&(l=i,i=d,d=l),l=nu(r,d);var p=nu(r,i);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kh=m&&"documentMode"in document&&11>=document.documentMode,Dr=null,ao=null,$n=null,uo=!1;function ou(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uo||Dr==null||Dr!==hs(i)||(i=Dr,"selectionStart"in i&&lo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$n&&In($n,i)||($n=i,i=Ls(ao,"onSelect"),0<i.length&&(t=new Zi("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Dr)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ur={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},co={},lu={};m&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Os(e){if(co[e])return co[e];if(!Ur[e])return e;var t=Ur[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lu)return co[e]=t[r];return e}var au=Os("animationend"),uu=Os("animationiteration"),cu=Os("animationstart"),du=Os("transitionend"),fu=new Map,hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){fu.set(e,t),c(t,[e])}for(var fo=0;fo<hu.length;fo++){var ho=hu[fo],Sh=ho.toLowerCase(),jh=ho[0].toUpperCase()+ho.slice(1);Qt(Sh,"on"+jh)}Qt(au,"onAnimationEnd"),Qt(uu,"onAnimationIteration"),Qt(cu,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(du,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function pu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Sf(i,t,void 0,e),e.currentTarget=null}function mu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var p=i.length-1;0<=p;p--){var w=i[p],_=w.instance,N=w.currentTarget;if(w=w.listener,_!==d&&l.isPropagationStopped())break e;pu(l,w,N),d=_}else for(p=0;p<i.length;p++){if(w=i[p],_=w.instance,N=w.currentTarget,w=w.listener,_!==d&&l.isPropagationStopped())break e;pu(l,w,N),d=_}}}if(gs)throw e=Vi,gs=!1,Vi=null,e}function ke(e,t){var r=t[_o];r===void 0&&(r=t[_o]=new Set);var i=e+"__bubble";r.has(i)||(gu(t,e,2,!1),r.add(i))}function po(e,t,r){var i=0;t&&(i|=4),gu(r,e,i,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[As]){e[As]=!0,o.forEach(function(r){r!=="selectionchange"&&(bh.has(r)||po(r,!1,e),po(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,po("selectionchange",!1,t))}}function gu(e,t,r,i){switch(Ma(t)){case 1:var l=Mf;break;case 4:l=Ff;break;default:l=Ji}r=l.bind(null,t,r,e),l=void 0,!Bi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function mo(e,t,r,i,l){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var w=i.stateNode.containerInfo;if(w===l||w.nodeType===8&&w.parentNode===l)break;if(p===4)for(p=i.return;p!==null;){var _=p.tag;if((_===3||_===4)&&(_=p.stateNode.containerInfo,_===l||_.nodeType===8&&_.parentNode===l))return;p=p.return}for(;w!==null;){if(p=pr(w),p===null)return;if(_=p.tag,_===5||_===6){i=d=p;continue e}w=w.parentNode}}i=i.return}_a(function(){var N=d,$=Mi(r),U=[];e:{var L=fu.get(e);if(L!==void 0){var V=Zi,H=e;switch(e){case"keypress":if(Cs(r)===0)break e;case"keydown":case"keyup":V=th;break;case"focusin":H="focus",V=ro;break;case"focusout":H="blur",V=ro;break;case"beforeblur":case"afterblur":V=ro;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=sh;break;case au:case uu:case cu:V=Hf;break;case du:V=oh;break;case"scroll":V=zf;break;case"wheel":V=ah;break;case"copy":case"cut":case"paste":V=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Wa}var K=(t&4)!==0,Ae=!K&&e==="scroll",E=K?L!==null?L+"Capture":null:L;K=[];for(var k=N,C;k!==null;){C=k;var F=C.stateNode;if(C.tag===5&&F!==null&&(C=F,E!==null&&(F=xn(k,E),F!=null&&K.push(Mn(k,F,C)))),Ae)break;k=k.return}0<K.length&&(L=new V(L,H,null,r,$),U.push({event:L,listeners:K}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",L&&r!==Ui&&(H=r.relatedTarget||r.fromElement)&&(pr(H)||H[Ot]))break e;if((V||L)&&(L=$.window===$?$:(L=$.ownerDocument)?L.defaultView||L.parentWindow:window,V?(H=r.relatedTarget||r.toElement,V=N,H=H?pr(H):null,H!==null&&(Ae=hr(H),H!==Ae||H.tag!==5&&H.tag!==6)&&(H=null)):(V=null,H=N),V!==H)){if(K=Ba,F="onMouseLeave",E="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(K=Wa,F="onPointerLeave",E="onPointerEnter",k="pointer"),Ae=V==null?L:zr(V),C=H==null?L:zr(H),L=new K(F,k+"leave",V,r,$),L.target=Ae,L.relatedTarget=C,F=null,pr($)===N&&(K=new K(E,k+"enter",H,r,$),K.target=C,K.relatedTarget=Ae,F=K),Ae=F,V&&H)t:{for(K=V,E=H,k=0,C=K;C;C=Mr(C))k++;for(C=0,F=E;F;F=Mr(F))C++;for(;0<k-C;)K=Mr(K),k--;for(;0<C-k;)E=Mr(E),C--;for(;k--;){if(K===E||E!==null&&K===E.alternate)break t;K=Mr(K),E=Mr(E)}K=null}else K=null;V!==null&&vu(U,L,V,K,!1),H!==null&&Ae!==null&&vu(U,Ae,H,K,!0)}}e:{if(L=N?zr(N):window,V=L.nodeName&&L.nodeName.toLowerCase(),V==="select"||V==="input"&&L.type==="file")var J=mh;else if(Ja(L))if(Xa)J=wh;else{J=vh;var X=gh}else(V=L.nodeName)&&V.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(J=yh);if(J&&(J=J(e,N))){Ya(U,J,r,$);break e}X&&X(e,L,N),e==="focusout"&&(X=L._wrapperState)&&X.controlled&&L.type==="number"&&Ai(L,"number",L.value)}switch(X=N?zr(N):window,e){case"focusin":(Ja(X)||X.contentEditable==="true")&&(Dr=X,ao=N,$n=null);break;case"focusout":$n=ao=Dr=null;break;case"mousedown":uo=!0;break;case"contextmenu":case"mouseup":case"dragend":uo=!1,ou(U,r,$);break;case"selectionchange":if(kh)break;case"keydown":case"keyup":ou(U,r,$)}var Z;if(so)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else $r?Qa(e,r)&&(ee="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ee="onCompositionStart");ee&&(qa&&r.locale!=="ko"&&($r||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&$r&&(Z=Fa()):(Kt=$,Xi="value"in Kt?Kt.value:Kt.textContent,$r=!0)),X=Ls(N,ee),0<X.length&&(ee=new Va(ee,e,null,r,$),U.push({event:ee,listeners:X}),Z?ee.data=Z:(Z=Ga(r),Z!==null&&(ee.data=Z)))),(Z=ch?dh(e,r):fh(e,r))&&(N=Ls(N,"onBeforeInput"),0<N.length&&($=new Va("onBeforeInput","beforeinput",null,r,$),U.push({event:$,listeners:N}),$.data=Z))}mu(U,t)})}function Mn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ls(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=xn(e,r),d!=null&&i.unshift(Mn(e,d,l)),d=xn(e,t),d!=null&&i.push(Mn(e,d,l))),e=e.return}return i}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,r,i,l){for(var d=t._reactName,p=[];r!==null&&r!==i;){var w=r,_=w.alternate,N=w.stateNode;if(_!==null&&_===i)break;w.tag===5&&N!==null&&(w=N,l?(_=xn(r,d),_!=null&&p.unshift(Mn(r,_,w))):l||(_=xn(r,d),_!=null&&p.push(Mn(r,_,w)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var Eh=/\r\n?/g,Ch=/\u0000|\uFFFD/g;function yu(e){return(typeof e=="string"?e:""+e).replace(Eh,`
`).replace(Ch,"")}function Is(e,t,r){if(t=yu(t),yu(e)!==t&&r)throw Error(s(425))}function $s(){}var go=null,vo=null;function yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wo=typeof setTimeout=="function"?setTimeout:void 0,Nh=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,Ph=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(Th)}:wo;function Th(e){setTimeout(function(){throw e})}function xo(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),Pn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);Pn(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+Fr,Fn="__reactProps$"+Fr,Ot="__reactContainer$"+Fr,_o="__reactEvents$"+Fr,Rh="__reactListeners$"+Fr,Oh="__reactHandles$"+Fr;function pr(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ot]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xu(e);e!==null;){if(r=e[Nt])return r;e=xu(e)}return t}e=r,r=e.parentNode}return null}function zn(e){return e=e[Nt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ds(e){return e[Fn]||null}var ko=[],Br=-1;function Jt(e){return{current:e}}function Se(e){0>Br||(e.current=ko[Br],ko[Br]=null,Br--)}function we(e,t){Br++,ko[Br]=e.current,e.current=t}var Yt={},He=Jt(Yt),Ze=Jt(!1),mr=Yt;function Vr(e,t){var r=e.type.contextTypes;if(!r)return Yt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in r)l[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function et(e){return e=e.childContextTypes,e!=null}function Us(){Se(Ze),Se(He)}function _u(e,t,r){if(He.current!==Yt)throw Error(s(168));we(He,t),we(Ze,r)}function ku(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(s(108,ye(e)||"Unknown",l));return W({},r,i)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,mr=He.current,we(He,e),we(Ze,Ze.current),!0}function Su(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=ku(e,t,mr),i.__reactInternalMemoizedMergedChildContext=e,Se(Ze),Se(He),we(He,e)):Se(Ze),we(Ze,r)}var At=null,Fs=!1,So=!1;function ju(e){At===null?At=[e]:At.push(e)}function Ah(e){Fs=!0,ju(e)}function Xt(){if(!So&&At!==null){So=!0;var e=0,t=ge;try{var r=At;for(ge=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}At=null,Fs=!1}catch(l){throw At!==null&&(At=At.slice(e+1)),Ea(Wi,Xt),l}finally{ge=t,So=!1}}return null}var Wr=[],qr=0,zs=null,Bs=0,ft=[],ht=0,gr=null,Lt=1,It="";function vr(e,t){Wr[qr++]=Bs,Wr[qr++]=zs,zs=e,Bs=t}function bu(e,t,r){ft[ht++]=Lt,ft[ht++]=It,ft[ht++]=gr,gr=e;var i=Lt;e=It;var l=32-yt(i)-1;i&=~(1<<l),r+=1;var d=32-yt(t)+l;if(30<d){var p=l-l%5;d=(i&(1<<p)-1).toString(32),i>>=p,l-=p,Lt=1<<32-yt(t)+l|r<<l|i,It=d+e}else Lt=1<<d|r<<l|i,It=e}function jo(e){e.return!==null&&(vr(e,1),bu(e,1,0))}function bo(e){for(;e===zs;)zs=Wr[--qr],Wr[qr]=null,Bs=Wr[--qr],Wr[qr]=null;for(;e===gr;)gr=ft[--ht],ft[ht]=null,It=ft[--ht],ft[ht]=null,Lt=ft[--ht],ft[ht]=null}var at=null,ut=null,Ce=!1,xt=null;function Eu(e,t){var r=vt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ut=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gr!==null?{id:Lt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,at=e,ut=null,!0):!1;default:return!1}}function Eo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Co(e){if(Ce){var t=ut;if(t){var r=t;if(!Cu(e,t)){if(Eo(e))throw Error(s(418));t=Gt(r.nextSibling);var i=at;t&&Cu(e,t)?Eu(i,r):(e.flags=e.flags&-4097|2,Ce=!1,at=e)}}else{if(Eo(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ce=!1,at=e}}}function Nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Vs(e){if(e!==at)return!1;if(!Ce)return Nu(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yo(e.type,e.memoizedProps)),t&&(t=ut)){if(Eo(e))throw Pu(),Error(s(418));for(;t;)Eu(e,t),t=Gt(t.nextSibling)}if(Nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ut=Gt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=at?Gt(e.stateNode.nextSibling):null;return!0}function Pu(){for(var e=ut;e;)e=Gt(e.nextSibling)}function Hr(){ut=at=null,Ce=!1}function No(e){xt===null?xt=[e]:xt.push(e)}var Lh=z.ReactCurrentBatchConfig;function Bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var l=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var w=l.refs;p===null?delete w[d]:w[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tu(e){var t=e._init;return t(e._payload)}function Ru(e){function t(E,k){if(e){var C=E.deletions;C===null?(E.deletions=[k],E.flags|=16):C.push(k)}}function r(E,k){if(!e)return null;for(;k!==null;)t(E,k),k=k.sibling;return null}function i(E,k){for(E=new Map;k!==null;)k.key!==null?E.set(k.key,k):E.set(k.index,k),k=k.sibling;return E}function l(E,k){return E=or(E,k),E.index=0,E.sibling=null,E}function d(E,k,C){return E.index=C,e?(C=E.alternate,C!==null?(C=C.index,C<k?(E.flags|=2,k):C):(E.flags|=2,k)):(E.flags|=1048576,k)}function p(E){return e&&E.alternate===null&&(E.flags|=2),E}function w(E,k,C,F){return k===null||k.tag!==6?(k=wl(C,E.mode,F),k.return=E,k):(k=l(k,C),k.return=E,k)}function _(E,k,C,F){var J=C.type;return J===ne?$(E,k,C.props.children,F,C.key):k!==null&&(k.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Re&&Tu(J)===k.type)?(F=l(k,C.props),F.ref=Bn(E,k,C),F.return=E,F):(F=pi(C.type,C.key,C.props,null,E.mode,F),F.ref=Bn(E,k,C),F.return=E,F)}function N(E,k,C,F){return k===null||k.tag!==4||k.stateNode.containerInfo!==C.containerInfo||k.stateNode.implementation!==C.implementation?(k=xl(C,E.mode,F),k.return=E,k):(k=l(k,C.children||[]),k.return=E,k)}function $(E,k,C,F,J){return k===null||k.tag!==7?(k=br(C,E.mode,F,J),k.return=E,k):(k=l(k,C),k.return=E,k)}function U(E,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return k=wl(""+k,E.mode,C),k.return=E,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return C=pi(k.type,k.key,k.props,null,E.mode,C),C.ref=Bn(E,null,k),C.return=E,C;case Q:return k=xl(k,E.mode,C),k.return=E,k;case Re:var F=k._init;return U(E,F(k._payload),C)}if(vn(k)||Y(k))return k=br(k,E.mode,C,null),k.return=E,k;Ws(E,k)}return null}function L(E,k,C,F){var J=k!==null?k.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:w(E,k,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case G:return C.key===J?_(E,k,C,F):null;case Q:return C.key===J?N(E,k,C,F):null;case Re:return J=C._init,L(E,k,J(C._payload),F)}if(vn(C)||Y(C))return J!==null?null:$(E,k,C,F,null);Ws(E,C)}return null}function V(E,k,C,F,J){if(typeof F=="string"&&F!==""||typeof F=="number")return E=E.get(C)||null,w(k,E,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return E=E.get(F.key===null?C:F.key)||null,_(k,E,F,J);case Q:return E=E.get(F.key===null?C:F.key)||null,N(k,E,F,J);case Re:var X=F._init;return V(E,k,C,X(F._payload),J)}if(vn(F)||Y(F))return E=E.get(C)||null,$(k,E,F,J,null);Ws(k,F)}return null}function H(E,k,C,F){for(var J=null,X=null,Z=k,ee=k=0,ze=null;Z!==null&&ee<C.length;ee++){Z.index>ee?(ze=Z,Z=null):ze=Z.sibling;var de=L(E,Z,C[ee],F);if(de===null){Z===null&&(Z=ze);break}e&&Z&&de.alternate===null&&t(E,Z),k=d(de,k,ee),X===null?J=de:X.sibling=de,X=de,Z=ze}if(ee===C.length)return r(E,Z),Ce&&vr(E,ee),J;if(Z===null){for(;ee<C.length;ee++)Z=U(E,C[ee],F),Z!==null&&(k=d(Z,k,ee),X===null?J=Z:X.sibling=Z,X=Z);return Ce&&vr(E,ee),J}for(Z=i(E,Z);ee<C.length;ee++)ze=V(Z,E,ee,C[ee],F),ze!==null&&(e&&ze.alternate!==null&&Z.delete(ze.key===null?ee:ze.key),k=d(ze,k,ee),X===null?J=ze:X.sibling=ze,X=ze);return e&&Z.forEach(function(lr){return t(E,lr)}),Ce&&vr(E,ee),J}function K(E,k,C,F){var J=Y(C);if(typeof J!="function")throw Error(s(150));if(C=J.call(C),C==null)throw Error(s(151));for(var X=J=null,Z=k,ee=k=0,ze=null,de=C.next();Z!==null&&!de.done;ee++,de=C.next()){Z.index>ee?(ze=Z,Z=null):ze=Z.sibling;var lr=L(E,Z,de.value,F);if(lr===null){Z===null&&(Z=ze);break}e&&Z&&lr.alternate===null&&t(E,Z),k=d(lr,k,ee),X===null?J=lr:X.sibling=lr,X=lr,Z=ze}if(de.done)return r(E,Z),Ce&&vr(E,ee),J;if(Z===null){for(;!de.done;ee++,de=C.next())de=U(E,de.value,F),de!==null&&(k=d(de,k,ee),X===null?J=de:X.sibling=de,X=de);return Ce&&vr(E,ee),J}for(Z=i(E,Z);!de.done;ee++,de=C.next())de=V(Z,E,ee,de.value,F),de!==null&&(e&&de.alternate!==null&&Z.delete(de.key===null?ee:de.key),k=d(de,k,ee),X===null?J=de:X.sibling=de,X=de);return e&&Z.forEach(function(hp){return t(E,hp)}),Ce&&vr(E,ee),J}function Ae(E,k,C,F){if(typeof C=="object"&&C!==null&&C.type===ne&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case G:e:{for(var J=C.key,X=k;X!==null;){if(X.key===J){if(J=C.type,J===ne){if(X.tag===7){r(E,X.sibling),k=l(X,C.props.children),k.return=E,E=k;break e}}else if(X.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Re&&Tu(J)===X.type){r(E,X.sibling),k=l(X,C.props),k.ref=Bn(E,X,C),k.return=E,E=k;break e}r(E,X);break}else t(E,X);X=X.sibling}C.type===ne?(k=br(C.props.children,E.mode,F,C.key),k.return=E,E=k):(F=pi(C.type,C.key,C.props,null,E.mode,F),F.ref=Bn(E,k,C),F.return=E,E=F)}return p(E);case Q:e:{for(X=C.key;k!==null;){if(k.key===X)if(k.tag===4&&k.stateNode.containerInfo===C.containerInfo&&k.stateNode.implementation===C.implementation){r(E,k.sibling),k=l(k,C.children||[]),k.return=E,E=k;break e}else{r(E,k);break}else t(E,k);k=k.sibling}k=xl(C,E.mode,F),k.return=E,E=k}return p(E);case Re:return X=C._init,Ae(E,k,X(C._payload),F)}if(vn(C))return H(E,k,C,F);if(Y(C))return K(E,k,C,F);Ws(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,k!==null&&k.tag===6?(r(E,k.sibling),k=l(k,C),k.return=E,E=k):(r(E,k),k=wl(C,E.mode,F),k.return=E,E=k),p(E)):r(E,k)}return Ae}var Kr=Ru(!0),Ou=Ru(!1),qs=Jt(null),Hs=null,Qr=null,Po=null;function To(){Po=Qr=Hs=null}function Ro(e){var t=qs.current;Se(qs),e._currentValue=t}function Oo(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){Hs=e,Po=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(tt=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Po!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Hs===null)throw Error(s(308));Qr=e,Hs.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var yr=null;function Ao(e){yr===null?yr=[e]:yr.push(e)}function Au(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,Ao(t)):(r.next=l.next,l.next=r),t.interleaved=r,$t(e,i)}function $t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zt=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ae&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,$t(e,r)}return l=i.interleaved,l===null?(t.next=t,Ao(i)):(t.next=l.next,l.next=t),i.interleaved=t,$t(e,r)}function Ks(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ki(e,r)}}function Iu(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?l=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qs(e,t,r,i){var l=e.updateQueue;Zt=!1;var d=l.firstBaseUpdate,p=l.lastBaseUpdate,w=l.shared.pending;if(w!==null){l.shared.pending=null;var _=w,N=_.next;_.next=null,p===null?d=N:p.next=N,p=_;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==p&&(w===null?$.firstBaseUpdate=N:w.next=N,$.lastBaseUpdate=_))}if(d!==null){var U=l.baseState;p=0,$=N=_=null,w=d;do{var L=w.lane,V=w.eventTime;if((i&L)===L){$!==null&&($=$.next={eventTime:V,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var H=e,K=w;switch(L=t,V=r,K.tag){case 1:if(H=K.payload,typeof H=="function"){U=H.call(V,U,L);break e}U=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=K.payload,L=typeof H=="function"?H.call(V,U,L):H,L==null)break e;U=W({},U,L);break e;case 2:Zt=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,L=l.effects,L===null?l.effects=[w]:L.push(w))}else V={eventTime:V,lane:L,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(N=$=V,_=U):$=$.next=V,p|=L;if(w=w.next,w===null){if(w=l.shared.pending,w===null)break;L=w,w=L.next,L.next=null,l.lastBaseUpdate=L,l.shared.pending=null}}while(!0);if($===null&&(_=U),l.baseState=_,l.firstBaseUpdate=N,l.lastBaseUpdate=$,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);_r|=p,e.lanes=p,e.memoizedState=U}}function $u(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(s(191,l));l.call(i)}}}var Vn={},Pt=Jt(Vn),Wn=Jt(Vn),qn=Jt(Vn);function wr(e){if(e===Vn)throw Error(s(174));return e}function Io(e,t){switch(we(qn,t),we(Wn,e),we(Pt,Vn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ii(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ii(t,e)}Se(Pt),we(Pt,t)}function Jr(){Se(Pt),Se(Wn),Se(qn)}function Du(e){wr(qn.current);var t=wr(Pt.current),r=Ii(t,e.type);t!==r&&(we(Wn,e),we(Pt,r))}function $o(e){Wn.current===e&&(Se(Pt),Se(Wn))}var Ne=Jt(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Do=[];function Uo(){for(var e=0;e<Do.length;e++)Do[e]._workInProgressVersionPrimary=null;Do.length=0}var Js=z.ReactCurrentDispatcher,Mo=z.ReactCurrentBatchConfig,xr=0,Pe=null,De=null,Me=null,Ys=!1,Hn=!1,Kn=0,Ih=0;function Ke(){throw Error(s(321))}function Fo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wt(e[r],t[r]))return!1;return!0}function zo(e,t,r,i,l,d){if(xr=d,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=e===null||e.memoizedState===null?Mh:Fh,e=r(i,l),Hn){d=0;do{if(Hn=!1,Kn=0,25<=d)throw Error(s(301));d+=1,Me=De=null,t.updateQueue=null,Js.current=zh,e=r(i,l)}while(Hn)}if(Js.current=ei,t=De!==null&&De.next!==null,xr=0,Me=De=Pe=null,Ys=!1,t)throw Error(s(300));return e}function Bo(){var e=Kn!==0;return Kn=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Pe.memoizedState=Me=e:Me=Me.next=e,Me}function mt(){if(De===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Me===null?Pe.memoizedState:Me.next;if(t!==null)Me=t,De=e;else{if(e===null)throw Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Me===null?Pe.memoizedState=Me=e:Me=Me.next=e}return Me}function Qn(e,t){return typeof t=="function"?t(e):t}function Vo(e){var t=mt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=De,l=i.baseQueue,d=r.pending;if(d!==null){if(l!==null){var p=l.next;l.next=d.next,d.next=p}i.baseQueue=l=d,r.pending=null}if(l!==null){d=l.next,i=i.baseState;var w=p=null,_=null,N=d;do{var $=N.lane;if((xr&$)===$)_!==null&&(_=_.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),i=N.hasEagerState?N.eagerState:e(i,N.action);else{var U={lane:$,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};_===null?(w=_=U,p=i):_=_.next=U,Pe.lanes|=$,_r|=$}N=N.next}while(N!==null&&N!==d);_===null?p=i:_.next=w,wt(i,t.memoizedState)||(tt=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=_,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do d=l.lane,Pe.lanes|=d,_r|=d,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wo(e){var t=mt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var p=l=l.next;do d=e(d,p.action),p=p.next;while(p!==l);wt(d,t.memoizedState)||(tt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function Uu(){}function Mu(e,t){var r=Pe,i=mt(),l=t(),d=!wt(i.memoizedState,l);if(d&&(i.memoizedState=l,tt=!0),i=i.queue,qo(Bu.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,Gn(9,zu.bind(null,r,i,l,t),void 0,null),Fe===null)throw Error(s(349));(xr&30)!==0||Fu(r,t,l)}return l}function Fu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zu(e,t,r,i){t.value=r,t.getSnapshot=i,Vu(t)&&Wu(e)}function Bu(e,t,r){return r(function(){Vu(t)&&Wu(e)})}function Vu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wt(e,r)}catch{return!0}}function Wu(e){var t=$t(e,1);t!==null&&jt(t,e,1,-1)}function qu(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t.queue=e,e=e.dispatch=Uh.bind(null,Pe,e),[t.memoizedState,e]}function Gn(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Hu(){return mt().memoizedState}function Xs(e,t,r,i){var l=Tt();Pe.flags|=e,l.memoizedState=Gn(1|t,r,void 0,i===void 0?null:i)}function Zs(e,t,r,i){var l=mt();i=i===void 0?null:i;var d=void 0;if(De!==null){var p=De.memoizedState;if(d=p.destroy,i!==null&&Fo(i,p.deps)){l.memoizedState=Gn(t,r,d,i);return}}Pe.flags|=e,l.memoizedState=Gn(1|t,r,d,i)}function Ku(e,t){return Xs(8390656,8,e,t)}function qo(e,t){return Zs(2048,8,e,t)}function Qu(e,t){return Zs(4,2,e,t)}function Gu(e,t){return Zs(4,4,e,t)}function Ju(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yu(e,t,r){return r=r!=null?r.concat([e]):null,Zs(4,4,Ju.bind(null,t,e),r)}function Ho(){}function Xu(e,t){var r=mt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Fo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Zu(e,t){var r=mt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Fo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function ec(e,t,r){return(xr&21)===0?(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=r):(wt(r,t)||(r=Ta(),Pe.lanes|=r,_r|=r,e.baseState=!0),t)}function $h(e,t){var r=ge;ge=r!==0&&4>r?r:4,e(!0);var i=Mo.transition;Mo.transition={};try{e(!1),t()}finally{ge=r,Mo.transition=i}}function tc(){return mt().memoizedState}function Dh(e,t,r){var i=sr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},rc(e))nc(t,r);else if(r=Au(e,t,r,i),r!==null){var l=Xe();jt(r,e,i,l),sc(r,t,i)}}function Uh(e,t,r){var i=sr(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(rc(e))nc(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,w=d(p,r);if(l.hasEagerState=!0,l.eagerState=w,wt(w,p)){var _=t.interleaved;_===null?(l.next=l,Ao(t)):(l.next=_.next,_.next=l),t.interleaved=l;return}}catch{}finally{}r=Au(e,t,l,i),r!==null&&(l=Xe(),jt(r,e,i,l),sc(r,t,i))}}function rc(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function nc(e,t){Hn=Ys=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function sc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ki(e,r)}}var ei={readContext:pt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Mh={readContext:pt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Ku,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xs(4194308,4,Ju.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var r=Tt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Tt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Dh.bind(null,Pe,e),[i.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:qu,useDebugValue:Ho,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=qu(!1),t=e[0];return e=$h.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Pe,l=Tt();if(Ce){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Fe===null)throw Error(s(349));(xr&30)!==0||Fu(i,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,Ku(Bu.bind(null,i,d,e),[e]),i.flags|=2048,Gn(9,zu.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Tt(),t=Fe.identifierPrefix;if(Ce){var r=It,i=Lt;r=(i&~(1<<32-yt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ih++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fh={readContext:pt,useCallback:Xu,useContext:pt,useEffect:qo,useImperativeHandle:Yu,useInsertionEffect:Qu,useLayoutEffect:Gu,useMemo:Zu,useReducer:Vo,useRef:Hu,useState:function(){return Vo(Qn)},useDebugValue:Ho,useDeferredValue:function(e){var t=mt();return ec(t,De.memoizedState,e)},useTransition:function(){var e=Vo(Qn)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:Mu,useId:tc,unstable_isNewReconciler:!1},zh={readContext:pt,useCallback:Xu,useContext:pt,useEffect:qo,useImperativeHandle:Yu,useInsertionEffect:Qu,useLayoutEffect:Gu,useMemo:Zu,useReducer:Wo,useRef:Hu,useState:function(){return Wo(Qn)},useDebugValue:Ho,useDeferredValue:function(e){var t=mt();return De===null?t.memoizedState=e:ec(t,De.memoizedState,e)},useTransition:function(){var e=Wo(Qn)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:Mu,useId:tc,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ko(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:W({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ti={isMounted:function(e){return(e=e._reactInternals)?hr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Xe(),l=sr(e),d=Dt(i,l);d.payload=t,r!=null&&(d.callback=r),t=er(e,d,l),t!==null&&(jt(t,e,l,i),Ks(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Xe(),l=sr(e),d=Dt(i,l);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=er(e,d,l),t!==null&&(jt(t,e,l,i),Ks(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),i=sr(e),l=Dt(r,i);l.tag=2,t!=null&&(l.callback=t),t=er(e,l,i),t!==null&&(jt(t,e,i,r),Ks(t,e,i))}};function ic(e,t,r,i,l,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,p):t.prototype&&t.prototype.isPureReactComponent?!In(r,i)||!In(l,d):!0}function oc(e,t,r){var i=!1,l=Yt,d=t.contextType;return typeof d=="object"&&d!==null?d=pt(d):(l=et(t)?mr:He.current,i=t.contextTypes,d=(i=i!=null)?Vr(e,l):Yt),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ti,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function lc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ti.enqueueReplaceState(t,t.state,null)}function Qo(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Lo(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=pt(d):(d=et(t)?mr:He.current,l.context=Vr(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Ko(e,t,d,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ti.enqueueReplaceState(l,l.state,null),Qs(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var r="",i=t;do r+=ue(i),i=i.return;while(i);var l=r}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function Go(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bh=typeof WeakMap=="function"?WeakMap:Map;function ac(e,t,r){r=Dt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ai||(ai=!0,dl=i),Jo(e,t)},r}function uc(e,t,r){r=Dt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){Jo(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Jo(e,t),typeof i!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function cc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Bh;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=rp.bind(null,e,t,r),t.then(e,e))}function dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fc(e,t,r,i,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dt(-1,1),t.tag=2,er(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Vh=z.ReactCurrentOwner,tt=!1;function Ye(e,t,r,i){t.child=e===null?Ou(t,null,r,i):Kr(t,e.child,r,i)}function hc(e,t,r,i,l){r=r.render;var d=t.ref;return Gr(t,l),i=zo(e,t,r,i,d,l),r=Bo(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(Ce&&r&&jo(t),t.flags|=1,Ye(e,t,i,l),t.child)}function pc(e,t,r,i,l){if(e===null){var d=r.type;return typeof d=="function"&&!yl(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,mc(e,t,d,i,l)):(e=pi(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:In,r(p,i)&&e.ref===t.ref)return Ut(e,t,l)}return t.flags|=1,e=or(d,i),e.ref=t.ref,e.return=t,t.child=e}function mc(e,t,r,i,l){if(e!==null){var d=e.memoizedProps;if(In(d,i)&&e.ref===t.ref)if(tt=!1,t.pendingProps=i=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Ut(e,t,l)}return Yo(e,t,r,i,l)}function gc(e,t,r){var i=t.pendingProps,l=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Zr,ct),ct|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Zr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,we(Zr,ct),ct|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,we(Zr,ct),ct|=i;return Ye(e,t,l,r),t.child}function vc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yo(e,t,r,i,l){var d=et(r)?mr:He.current;return d=Vr(t,d),Gr(t,l),r=zo(e,t,r,i,d,l),i=Bo(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ut(e,t,l)):(Ce&&i&&jo(t),t.flags|=1,Ye(e,t,r,l),t.child)}function yc(e,t,r,i,l){if(et(r)){var d=!0;Ms(t)}else d=!1;if(Gr(t,l),t.stateNode===null)ni(e,t),oc(t,r,i),Qo(t,r,i,l),i=!0;else if(e===null){var p=t.stateNode,w=t.memoizedProps;p.props=w;var _=p.context,N=r.contextType;typeof N=="object"&&N!==null?N=pt(N):(N=et(r)?mr:He.current,N=Vr(t,N));var $=r.getDerivedStateFromProps,U=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function";U||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==i||_!==N)&&lc(t,p,i,N),Zt=!1;var L=t.memoizedState;p.state=L,Qs(t,i,p,l),_=t.memoizedState,w!==i||L!==_||Ze.current||Zt?(typeof $=="function"&&(Ko(t,r,$,i),_=t.memoizedState),(w=Zt||ic(t,r,w,i,L,_,N))?(U||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=_),p.props=i,p.state=_,p.context=N,i=w):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,Lu(e,t),w=t.memoizedProps,N=t.type===t.elementType?w:_t(t.type,w),p.props=N,U=t.pendingProps,L=p.context,_=r.contextType,typeof _=="object"&&_!==null?_=pt(_):(_=et(r)?mr:He.current,_=Vr(t,_));var V=r.getDerivedStateFromProps;($=typeof V=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==U||L!==_)&&lc(t,p,i,_),Zt=!1,L=t.memoizedState,p.state=L,Qs(t,i,p,l);var H=t.memoizedState;w!==U||L!==H||Ze.current||Zt?(typeof V=="function"&&(Ko(t,r,V,i),H=t.memoizedState),(N=Zt||ic(t,r,N,i,L,H,_)||!1)?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,H,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,H,_)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=H),p.props=i,p.state=H,p.context=_,i=N):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),i=!1)}return Xo(e,t,r,i,d,l)}function Xo(e,t,r,i,l,d){vc(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return l&&Su(t,r,!1),Ut(e,t,d);i=t.stateNode,Vh.current=t;var w=p&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Kr(t,e.child,null,d),t.child=Kr(t,null,w,d)):Ye(e,t,w,d),t.memoizedState=i.state,l&&Su(t,r,!0),t.child}function wc(e){var t=e.stateNode;t.pendingContext?_u(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_u(e,t.context,!1),Io(e,t.containerInfo)}function xc(e,t,r,i,l){return Hr(),No(l),t.flags|=256,Ye(e,t,r,i),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0};function el(e){return{baseLanes:e,cachePool:null,transitions:null}}function _c(e,t,r){var i=t.pendingProps,l=Ne.current,d=!1,p=(t.flags&128)!==0,w;if((w=p)||(w=e!==null&&e.memoizedState===null?!1:(l&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),we(Ne,l&1),e===null)return Co(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,d?(i=t.mode,d=t.child,p={mode:"hidden",children:p},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=mi(p,i,0,null),e=br(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=el(r),t.memoizedState=Zo,e):tl(t,p));if(l=e.memoizedState,l!==null&&(w=l.dehydrated,w!==null))return Wh(e,t,p,i,w,l,r);if(d){d=i.fallback,p=t.mode,l=e.child,w=l.sibling;var _={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=_,t.deletions=null):(i=or(l,_),i.subtreeFlags=l.subtreeFlags&14680064),w!==null?d=or(w,d):(d=br(d,p,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,p=e.child.memoizedState,p=p===null?el(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~r,t.memoizedState=Zo,i}return d=e.child,e=d.sibling,i=or(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function tl(e,t){return t=mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ri(e,t,r,i){return i!==null&&No(i),Kr(t,e.child,null,r),e=tl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wh(e,t,r,i,l,d,p){if(r)return t.flags&256?(t.flags&=-257,i=Go(Error(s(422))),ri(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,l=t.mode,i=mi({mode:"visible",children:i.children},l,0,null),d=br(d,l,p,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&Kr(t,e.child,null,p),t.child.memoizedState=el(p),t.memoizedState=Zo,d);if((t.mode&1)===0)return ri(e,t,p,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var w=i.dgst;return i=w,d=Error(s(419)),i=Go(d,i,void 0),ri(e,t,p,i)}if(w=(p&e.childLanes)!==0,tt||w){if(i=Fe,i!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(i.suspendedLanes|p))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,$t(e,l),jt(i,e,l,-1))}return vl(),i=Go(Error(s(421))),ri(e,t,p,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=np.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,ut=Gt(l.nextSibling),at=t,Ce=!0,xt=null,e!==null&&(ft[ht++]=Lt,ft[ht++]=It,ft[ht++]=gr,Lt=e.id,It=e.overflow,gr=t),t=tl(t,i.children),t.flags|=4096,t)}function kc(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Oo(e.return,t,r)}function rl(e,t,r,i,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=l)}function Sc(e,t,r){var i=t.pendingProps,l=i.revealOrder,d=i.tail;if(Ye(e,t,i.children,r),i=Ne.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,r,t);else if(e.tag===19)kc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(we(Ne,i),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Gs(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),rl(t,!1,l,r,d);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gs(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}rl(t,!0,r,null,d);break;case"together":rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qh(e,t,r){switch(t.tag){case 3:wc(t),Hr();break;case 5:Du(t);break;case 1:et(t.type)&&Ms(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;we(qs,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(we(Ne,Ne.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?_c(e,t,r):(we(Ne,Ne.current&1),e=Ut(e,t,r),e!==null?e.sibling:null);we(Ne,Ne.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Sc(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),we(Ne,Ne.current),i)break;return null;case 22:case 23:return t.lanes=0,gc(e,t,r)}return Ut(e,t,r)}var jc,nl,bc,Ec;jc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},nl=function(){},bc=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,wr(Pt.current);var d=null;switch(r){case"input":l=Ri(e,l),i=Ri(e,i),d=[];break;case"select":l=W({},l,{value:void 0}),i=W({},i,{value:void 0}),d=[];break;case"textarea":l=Li(e,l),i=Li(e,i),d=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=$s)}$i(r,i);var p;r=null;for(N in l)if(!i.hasOwnProperty(N)&&l.hasOwnProperty(N)&&l[N]!=null)if(N==="style"){var w=l[N];for(p in w)w.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in i){var _=i[N];if(w=l!=null?l[N]:void 0,i.hasOwnProperty(N)&&_!==w&&(_!=null||w!=null))if(N==="style")if(w){for(p in w)!w.hasOwnProperty(p)||_&&_.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in _)_.hasOwnProperty(p)&&w[p]!==_[p]&&(r||(r={}),r[p]=_[p])}else r||(d||(d=[]),d.push(N,r)),r=_;else N==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,w=w?w.__html:void 0,_!=null&&w!==_&&(d=d||[]).push(N,_)):N==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(N,""+_):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(a.hasOwnProperty(N)?(_!=null&&N==="onScroll"&&ke("scroll",e),d||w===_||(d=[])):(d=d||[]).push(N,_))}r&&(d=d||[]).push("style",r);var N=d;(t.updateQueue=N)&&(t.flags|=4)}},Ec=function(e,t,r,i){r!==i&&(t.flags|=4)};function Jn(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Hh(e,t,r){var i=t.pendingProps;switch(bo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return et(t.type)&&Us(),Qe(t),null;case 3:return i=t.stateNode,Jr(),Se(Ze),Se(He),Uo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xt!==null&&(pl(xt),xt=null))),nl(e,t),Qe(t),null;case 5:$o(t);var l=wr(qn.current);if(r=t.type,e!==null&&t.stateNode!=null)bc(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Qe(t),null}if(e=wr(Pt.current),Vs(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[Nt]=t,i[Fn]=d,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(l=0;l<Dn.length;l++)ke(Dn[l],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":oa(i,d),ke("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},ke("invalid",i);break;case"textarea":ua(i,d),ke("invalid",i)}$i(r,d),l=null;for(var p in d)if(d.hasOwnProperty(p)){var w=d[p];p==="children"?typeof w=="string"?i.textContent!==w&&(d.suppressHydrationWarning!==!0&&Is(i.textContent,w,e),l=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Is(i.textContent,w,e),l=["children",""+w]):a.hasOwnProperty(p)&&w!=null&&p==="onScroll"&&ke("scroll",i)}switch(r){case"input":fs(i),aa(i,d,!0);break;case"textarea":fs(i),da(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=$s)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fa(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(r,{is:i.is}):(e=p.createElement(r),r==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,r),e[Nt]=t,e[Fn]=i,jc(e,t,!1,!1),t.stateNode=e;e:{switch(p=Di(r,i),r){case"dialog":ke("cancel",e),ke("close",e),l=i;break;case"iframe":case"object":case"embed":ke("load",e),l=i;break;case"video":case"audio":for(l=0;l<Dn.length;l++)ke(Dn[l],e);l=i;break;case"source":ke("error",e),l=i;break;case"img":case"image":case"link":ke("error",e),ke("load",e),l=i;break;case"details":ke("toggle",e),l=i;break;case"input":oa(e,i),l=Ri(e,i),ke("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=W({},i,{value:void 0}),ke("invalid",e);break;case"textarea":ua(e,i),l=Li(e,i),ke("invalid",e);break;default:l=i}$i(r,l),w=l;for(d in w)if(w.hasOwnProperty(d)){var _=w[d];d==="style"?ma(e,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&ha(e,_)):d==="children"?typeof _=="string"?(r!=="textarea"||_!=="")&&yn(e,_):typeof _=="number"&&yn(e,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?_!=null&&d==="onScroll"&&ke("scroll",e):_!=null&&D(e,d,_,p))}switch(r){case"input":fs(e),aa(e,i,!1);break;case"textarea":fs(e),da(e);break;case"option":i.value!=null&&e.setAttribute("value",""+me(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Rr(e,!!i.multiple,d,!1):i.defaultValue!=null&&Rr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=$s)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Ec(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=wr(qn.current),wr(Pt.current),Vs(t)){if(i=t.stateNode,r=t.memoizedProps,i[Nt]=t,(d=i.nodeValue!==r)&&(e=at,e!==null))switch(e.tag){case 3:Is(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Nt]=t,t.stateNode=i}return Qe(t),null;case 13:if(Se(Ne),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Pu(),Hr(),t.flags|=98560,d=!1;else if(d=Vs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Nt]=t}else Hr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),d=!1}else xt!==null&&(pl(xt),xt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ne.current&1)!==0?Ue===0&&(Ue=3):vl())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Jr(),nl(e,t),e===null&&Un(t.stateNode.containerInfo),Qe(t),null;case 10:return Ro(t.type._context),Qe(t),null;case 17:return et(t.type)&&Us(),Qe(t),null;case 19:if(Se(Ne),d=t.memoizedState,d===null)return Qe(t),null;if(i=(t.flags&128)!==0,p=d.rendering,p===null)if(i)Jn(d,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Gs(e),p!==null){for(t.flags|=128,Jn(d,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return we(Ne,Ne.current&1|2),t.child}e=e.sibling}d.tail!==null&&Oe()>en&&(t.flags|=128,i=!0,Jn(d,!1),t.lanes=4194304)}else{if(!i)if(e=Gs(p),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Jn(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Ce)return Qe(t),null}else 2*Oe()-d.renderingStartTime>en&&r!==1073741824&&(t.flags|=128,i=!0,Jn(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(r=d.last,r!==null?r.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Oe(),t.sibling=null,r=Ne.current,we(Ne,i?r&1|2:r&1),t):(Qe(t),null);case 22:case 23:return gl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(ct&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Kh(e,t){switch(bo(t),t.tag){case 1:return et(t.type)&&Us(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jr(),Se(Ze),Se(He),Uo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return $o(t),null;case 13:if(Se(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ne),null;case 4:return Jr(),null;case 10:return Ro(t.type._context),null;case 22:case 23:return gl(),null;case 24:return null;default:return null}}var si=!1,Ge=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,q=null;function Xr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Te(e,t,i)}else r.current=null}function sl(e,t,r){try{r()}catch(i){Te(e,t,i)}}var Cc=!1;function Gh(e,t){if(go=js,e=iu(),lo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,w=-1,_=-1,N=0,$=0,U=e,L=null;t:for(;;){for(var V;U!==r||l!==0&&U.nodeType!==3||(w=p+l),U!==d||i!==0&&U.nodeType!==3||(_=p+i),U.nodeType===3&&(p+=U.nodeValue.length),(V=U.firstChild)!==null;)L=U,U=V;for(;;){if(U===e)break t;if(L===r&&++N===l&&(w=p),L===d&&++$===i&&(_=p),(V=U.nextSibling)!==null)break;U=L,L=U.parentNode}U=V}r=w===-1||_===-1?null:{start:w,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(vo={focusedElem:e,selectionRange:r},js=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var K=H.memoizedProps,Ae=H.memoizedState,E=t.stateNode,k=E.getSnapshotBeforeUpdate(t.elementType===t.type?K:_t(t.type,K),Ae);E.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(F){Te(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return H=Cc,Cc=!1,H}function Yn(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&sl(t,r,d)}l=l.next}while(l!==i)}}function ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function il(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Nc(e){var t=e.alternate;t!==null&&(e.alternate=null,Nc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Fn],delete t[_o],delete t[Rh],delete t[Oh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pc(e){return e.tag===5||e.tag===3||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ol(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$s));else if(i!==4&&(e=e.child,e!==null))for(ol(e,t,r),e=e.sibling;e!==null;)ol(e,t,r),e=e.sibling}function ll(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ll(e,t,r),e=e.sibling;e!==null;)ll(e,t,r),e=e.sibling}var We=null,kt=!1;function tr(e,t,r){for(r=r.child;r!==null;)Rc(e,t,r),r=r.sibling}function Rc(e,t,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ys,r)}catch{}switch(r.tag){case 5:Ge||Xr(r,t);case 6:var i=We,l=kt;We=null,tr(e,t,r),We=i,kt=l,We!==null&&(kt?(e=We,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):We.removeChild(r.stateNode));break;case 18:We!==null&&(kt?(e=We,r=r.stateNode,e.nodeType===8?xo(e.parentNode,r):e.nodeType===1&&xo(e,r),Pn(e)):xo(We,r.stateNode));break;case 4:i=We,l=kt,We=r.stateNode.containerInfo,kt=!0,tr(e,t,r),We=i,kt=l;break;case 0:case 11:case 14:case 15:if(!Ge&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var d=l,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&sl(r,t,p),l=l.next}while(l!==i)}tr(e,t,r);break;case 1:if(!Ge&&(Xr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(w){Te(r,t,w)}tr(e,t,r);break;case 21:tr(e,t,r);break;case 22:r.mode&1?(Ge=(i=Ge)||r.memoizedState!==null,tr(e,t,r),Ge=i):tr(e,t,r);break;default:tr(e,t,r)}}function Oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Qh),t.forEach(function(i){var l=sp.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var d=e,p=t,w=p;e:for(;w!==null;){switch(w.tag){case 5:We=w.stateNode,kt=!1;break e;case 3:We=w.stateNode.containerInfo,kt=!0;break e;case 4:We=w.stateNode.containerInfo,kt=!0;break e}w=w.return}if(We===null)throw Error(s(160));Rc(d,p,l),We=null,kt=!1;var _=l.alternate;_!==null&&(_.return=null),l.return=null}catch(N){Te(l,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ac(t,e),t=t.sibling}function Ac(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Rt(e),i&4){try{Yn(3,e,e.return),ii(3,e)}catch(K){Te(e,e.return,K)}try{Yn(5,e,e.return)}catch(K){Te(e,e.return,K)}}break;case 1:St(t,e),Rt(e),i&512&&r!==null&&Xr(r,r.return);break;case 5:if(St(t,e),Rt(e),i&512&&r!==null&&Xr(r,r.return),e.flags&32){var l=e.stateNode;try{yn(l,"")}catch(K){Te(e,e.return,K)}}if(i&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,p=r!==null?r.memoizedProps:d,w=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&la(l,d),Di(w,p);var N=Di(w,d);for(p=0;p<_.length;p+=2){var $=_[p],U=_[p+1];$==="style"?ma(l,U):$==="dangerouslySetInnerHTML"?ha(l,U):$==="children"?yn(l,U):D(l,$,U,N)}switch(w){case"input":Oi(l,d);break;case"textarea":ca(l,d);break;case"select":var L=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var V=d.value;V!=null?Rr(l,!!d.multiple,V,!1):L!==!!d.multiple&&(d.defaultValue!=null?Rr(l,!!d.multiple,d.defaultValue,!0):Rr(l,!!d.multiple,d.multiple?[]:"",!1))}l[Fn]=d}catch(K){Te(e,e.return,K)}}break;case 6:if(St(t,e),Rt(e),i&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(K){Te(e,e.return,K)}}break;case 3:if(St(t,e),Rt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Pn(t.containerInfo)}catch(K){Te(e,e.return,K)}break;case 4:St(t,e),Rt(e);break;case 13:St(t,e),Rt(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(cl=Oe())),i&4&&Oc(e);break;case 22:if($=r!==null&&r.memoizedState!==null,e.mode&1?(Ge=(N=Ge)||$,St(t,e),Ge=N):St(t,e),Rt(e),i&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!$&&(e.mode&1)!==0)for(q=e,$=e.child;$!==null;){for(U=q=$;q!==null;){switch(L=q,V=L.child,L.tag){case 0:case 11:case 14:case 15:Yn(4,L,L.return);break;case 1:Xr(L,L.return);var H=L.stateNode;if(typeof H.componentWillUnmount=="function"){i=L,r=L.return;try{t=i,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(K){Te(i,r,K)}}break;case 5:Xr(L,L.return);break;case 22:if(L.memoizedState!==null){$c(U);continue}}V!==null?(V.return=L,q=V):$c(U)}$=$.sibling}e:for($=null,U=e;;){if(U.tag===5){if($===null){$=U;try{l=U.stateNode,N?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=U.stateNode,_=U.memoizedProps.style,p=_!=null&&_.hasOwnProperty("display")?_.display:null,w.style.display=pa("display",p))}catch(K){Te(e,e.return,K)}}}else if(U.tag===6){if($===null)try{U.stateNode.nodeValue=N?"":U.memoizedProps}catch(K){Te(e,e.return,K)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;$===U&&($=null),U=U.return}$===U&&($=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:St(t,e),Rt(e),i&4&&Oc(e);break;case 21:break;default:St(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Pc(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(yn(l,""),i.flags&=-33);var d=Tc(e);ll(e,d,l);break;case 3:case 4:var p=i.stateNode.containerInfo,w=Tc(e);ol(e,w,p);break;default:throw Error(s(161))}}catch(_){Te(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jh(e,t,r){q=e,Lc(e)}function Lc(e,t,r){for(var i=(e.mode&1)!==0;q!==null;){var l=q,d=l.child;if(l.tag===22&&i){var p=l.memoizedState!==null||si;if(!p){var w=l.alternate,_=w!==null&&w.memoizedState!==null||Ge;w=si;var N=Ge;if(si=p,(Ge=_)&&!N)for(q=l;q!==null;)p=q,_=p.child,p.tag===22&&p.memoizedState!==null?Dc(l):_!==null?(_.return=p,q=_):Dc(l);for(;d!==null;)q=d,Lc(d),d=d.sibling;q=l,si=w,Ge=N}Ic(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,q=d):Ic(e)}}function Ic(e){for(;q!==null;){var t=q;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ge||ii(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ge)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:_t(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&$u(t,d,i);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$u(t,p,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&r.focus();break;case"img":_.src&&(r.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var $=N.memoizedState;if($!==null){var U=$.dehydrated;U!==null&&Pn(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ge||t.flags&512&&il(t)}catch(L){Te(t,t.return,L)}}if(t===e){q=null;break}if(r=t.sibling,r!==null){r.return=t.return,q=r;break}q=t.return}}function $c(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,q=r;break}q=t.return}}function Dc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ii(4,t)}catch(_){Te(t,r,_)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(_){Te(t,l,_)}}var d=t.return;try{il(t)}catch(_){Te(t,d,_)}break;case 5:var p=t.return;try{il(t)}catch(_){Te(t,p,_)}}}catch(_){Te(t,t.return,_)}if(t===e){q=null;break}var w=t.sibling;if(w!==null){w.return=t.return,q=w;break}q=t.return}}var Yh=Math.ceil,oi=z.ReactCurrentDispatcher,al=z.ReactCurrentOwner,gt=z.ReactCurrentBatchConfig,ae=0,Fe=null,Ie=null,qe=0,ct=0,Zr=Jt(0),Ue=0,Xn=null,_r=0,li=0,ul=0,Zn=null,rt=null,cl=0,en=1/0,Mt=null,ai=!1,dl=null,rr=null,ui=!1,nr=null,ci=0,es=0,fl=null,di=-1,fi=0;function Xe(){return(ae&6)!==0?Oe():di!==-1?di:di=Oe()}function sr(e){return(e.mode&1)===0?1:(ae&2)!==0&&qe!==0?qe&-qe:Lh.transition!==null?(fi===0&&(fi=Ta()),fi):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Ma(e.type)),e)}function jt(e,t,r,i){if(50<es)throw es=0,fl=null,Error(s(185));jn(e,r,i),((ae&2)===0||e!==Fe)&&(e===Fe&&((ae&2)===0&&(li|=r),Ue===4&&ir(e,qe)),nt(e,i),r===1&&ae===0&&(t.mode&1)===0&&(en=Oe()+500,Fs&&Xt()))}function nt(e,t){var r=e.callbackNode;Lf(e,t);var i=_s(e,e===Fe?qe:0);if(i===0)r!==null&&Ca(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Ca(r),t===1)e.tag===0?Ah(Mc.bind(null,e)):ju(Mc.bind(null,e)),Ph(function(){(ae&6)===0&&Xt()}),r=null;else{switch(Ra(i)){case 1:r=Wi;break;case 4:r=Na;break;case 16:r=vs;break;case 536870912:r=Pa;break;default:r=vs}r=Kc(r,Uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uc(e,t){if(di=-1,fi=0,(ae&6)!==0)throw Error(s(327));var r=e.callbackNode;if(tn()&&e.callbackNode!==r)return null;var i=_s(e,e===Fe?qe:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=hi(e,i);else{t=i;var l=ae;ae|=2;var d=zc();(Fe!==e||qe!==t)&&(Mt=null,en=Oe()+500,Sr(e,t));do try{ep();break}catch(w){Fc(e,w)}while(!0);To(),oi.current=d,ae=l,Ie!==null?t=0:(Fe=null,qe=0,t=Ue)}if(t!==0){if(t===2&&(l=qi(e),l!==0&&(i=l,t=hl(e,l))),t===1)throw r=Xn,Sr(e,0),ir(e,i),nt(e,Oe()),r;if(t===6)ir(e,i);else{if(l=e.current.alternate,(i&30)===0&&!Xh(l)&&(t=hi(e,i),t===2&&(d=qi(e),d!==0&&(i=d,t=hl(e,d))),t===1))throw r=Xn,Sr(e,0),ir(e,i),nt(e,Oe()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:jr(e,rt,Mt);break;case 3:if(ir(e,i),(i&130023424)===i&&(t=cl+500-Oe(),10<t)){if(_s(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Xe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=wo(jr.bind(null,e,rt,Mt),t);break}jr(e,rt,Mt);break;case 4:if(ir(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var p=31-yt(i);d=1<<p,p=t[p],p>l&&(l=p),i&=~d}if(i=l,i=Oe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Yh(i/1960))-i,10<i){e.timeoutHandle=wo(jr.bind(null,e,rt,Mt),i);break}jr(e,rt,Mt);break;case 5:jr(e,rt,Mt);break;default:throw Error(s(329))}}}return nt(e,Oe()),e.callbackNode===r?Uc.bind(null,e):null}function hl(e,t){var r=Zn;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=hi(e,t),e!==2&&(t=rt,rt=r,t!==null&&pl(t)),e}function pl(e){rt===null?rt=e:rt.push.apply(rt,e)}function Xh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],d=l.getSnapshot;l=l.value;try{if(!wt(d(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~ul,t&=~li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yt(t),i=1<<r;e[r]=-1,t&=~i}}function Mc(e){if((ae&6)!==0)throw Error(s(327));tn();var t=_s(e,0);if((t&1)===0)return nt(e,Oe()),null;var r=hi(e,t);if(e.tag!==0&&r===2){var i=qi(e);i!==0&&(t=i,r=hl(e,i))}if(r===1)throw r=Xn,Sr(e,0),ir(e,t),nt(e,Oe()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,rt,Mt),nt(e,Oe()),null}function ml(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(en=Oe()+500,Fs&&Xt())}}function kr(e){nr!==null&&nr.tag===0&&(ae&6)===0&&tn();var t=ae;ae|=1;var r=gt.transition,i=ge;try{if(gt.transition=null,ge=1,e)return e()}finally{ge=i,gt.transition=r,ae=t,(ae&6)===0&&Xt()}}function gl(){ct=Zr.current,Se(Zr)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nh(r)),Ie!==null)for(r=Ie.return;r!==null;){var i=r;switch(bo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Us();break;case 3:Jr(),Se(Ze),Se(He),Uo();break;case 5:$o(i);break;case 4:Jr();break;case 13:Se(Ne);break;case 19:Se(Ne);break;case 10:Ro(i.type._context);break;case 22:case 23:gl()}r=r.return}if(Fe=e,Ie=e=or(e.current,null),qe=ct=t,Ue=0,Xn=null,ul=li=_r=0,rt=Zn=null,yr!==null){for(t=0;t<yr.length;t++)if(r=yr[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,d=r.pending;if(d!==null){var p=d.next;d.next=l,i.next=p}r.pending=i}yr=null}return e}function Fc(e,t){do{var r=Ie;try{if(To(),Js.current=ei,Ys){for(var i=Pe.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ys=!1}if(xr=0,Me=De=Pe=null,Hn=!1,Kn=0,al.current=null,r===null||r.return===null){Ue=1,Xn=t,Ie=null;break}e:{var d=e,p=r.return,w=r,_=t;if(t=qe,w.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var N=_,$=w,U=$.tag;if(($.mode&1)===0&&(U===0||U===11||U===15)){var L=$.alternate;L?($.updateQueue=L.updateQueue,$.memoizedState=L.memoizedState,$.lanes=L.lanes):($.updateQueue=null,$.memoizedState=null)}var V=dc(p);if(V!==null){V.flags&=-257,fc(V,p,w,d,t),V.mode&1&&cc(d,N,t),t=V,_=N;var H=t.updateQueue;if(H===null){var K=new Set;K.add(_),t.updateQueue=K}else H.add(_);break e}else{if((t&1)===0){cc(d,N,t),vl();break e}_=Error(s(426))}}else if(Ce&&w.mode&1){var Ae=dc(p);if(Ae!==null){(Ae.flags&65536)===0&&(Ae.flags|=256),fc(Ae,p,w,d,t),No(Yr(_,w));break e}}d=_=Yr(_,w),Ue!==4&&(Ue=2),Zn===null?Zn=[d]:Zn.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var E=ac(d,_,t);Iu(d,E);break e;case 1:w=_;var k=d.type,C=d.stateNode;if((d.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(rr===null||!rr.has(C)))){d.flags|=65536,t&=-t,d.lanes|=t;var F=uc(d,w,t);Iu(d,F);break e}}d=d.return}while(d!==null)}Vc(r)}catch(J){t=J,Ie===r&&r!==null&&(Ie=r=r.return);continue}break}while(!0)}function zc(){var e=oi.current;return oi.current=ei,e===null?ei:e}function vl(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Fe===null||(_r&268435455)===0&&(li&268435455)===0||ir(Fe,qe)}function hi(e,t){var r=ae;ae|=2;var i=zc();(Fe!==e||qe!==t)&&(Mt=null,Sr(e,t));do try{Zh();break}catch(l){Fc(e,l)}while(!0);if(To(),ae=r,oi.current=i,Ie!==null)throw Error(s(261));return Fe=null,qe=0,Ue}function Zh(){for(;Ie!==null;)Bc(Ie)}function ep(){for(;Ie!==null&&!bf();)Bc(Ie)}function Bc(e){var t=Hc(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Vc(e):Ie=t,al.current=null}function Vc(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Hh(r,t,ct),r!==null){Ie=r;return}}else{if(r=Kh(r,t),r!==null){r.flags&=32767,Ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Ie=null;return}}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Ue===0&&(Ue=5)}function jr(e,t,r){var i=ge,l=gt.transition;try{gt.transition=null,ge=1,tp(e,t,r,i)}finally{gt.transition=l,ge=i}return null}function tp(e,t,r,i){do tn();while(nr!==null);if((ae&6)!==0)throw Error(s(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(If(e,d),e===Fe&&(Ie=Fe=null,qe=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ui||(ui=!0,Kc(vs,function(){return tn(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=gt.transition,gt.transition=null;var p=ge;ge=1;var w=ae;ae|=4,al.current=null,Gh(e,r),Ac(r,e),_h(vo),js=!!go,vo=go=null,e.current=r,Jh(r),Ef(),ae=w,ge=p,gt.transition=d}else e.current=r;if(ui&&(ui=!1,nr=e,ci=l),d=e.pendingLanes,d===0&&(rr=null),Pf(r.stateNode),nt(e,Oe()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(ai)throw ai=!1,e=dl,dl=null,e;return(ci&1)!==0&&e.tag!==0&&tn(),d=e.pendingLanes,(d&1)!==0?e===fl?es++:(es=0,fl=e):es=0,Xt(),null}function tn(){if(nr!==null){var e=Ra(ci),t=gt.transition,r=ge;try{if(gt.transition=null,ge=16>e?16:e,nr===null)var i=!1;else{if(e=nr,nr=null,ci=0,(ae&6)!==0)throw Error(s(331));var l=ae;for(ae|=4,q=e.current;q!==null;){var d=q,p=d.child;if((q.flags&16)!==0){var w=d.deletions;if(w!==null){for(var _=0;_<w.length;_++){var N=w[_];for(q=N;q!==null;){var $=q;switch($.tag){case 0:case 11:case 15:Yn(8,$,d)}var U=$.child;if(U!==null)U.return=$,q=U;else for(;q!==null;){$=q;var L=$.sibling,V=$.return;if(Nc($),$===N){q=null;break}if(L!==null){L.return=V,q=L;break}q=V}}}var H=d.alternate;if(H!==null){var K=H.child;if(K!==null){H.child=null;do{var Ae=K.sibling;K.sibling=null,K=Ae}while(K!==null)}}q=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,q=p;else e:for(;q!==null;){if(d=q,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Yn(9,d,d.return)}var E=d.sibling;if(E!==null){E.return=d.return,q=E;break e}q=d.return}}var k=e.current;for(q=k;q!==null;){p=q;var C=p.child;if((p.subtreeFlags&2064)!==0&&C!==null)C.return=p,q=C;else e:for(p=k;q!==null;){if(w=q,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ii(9,w)}}catch(J){Te(w,w.return,J)}if(w===p){q=null;break e}var F=w.sibling;if(F!==null){F.return=w.return,q=F;break e}q=w.return}}if(ae=l,Xt(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ys,e)}catch{}i=!0}return i}finally{ge=r,gt.transition=t}}return!1}function Wc(e,t,r){t=Yr(r,t),t=ac(e,t,1),e=er(e,t,1),t=Xe(),e!==null&&(jn(e,1,t),nt(e,t))}function Te(e,t,r){if(e.tag===3)Wc(e,e,r);else for(;t!==null;){if(t.tag===3){Wc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rr===null||!rr.has(i))){e=Yr(r,e),e=uc(t,e,1),t=er(t,e,1),e=Xe(),t!==null&&(jn(t,1,e),nt(t,e));break}}t=t.return}}function rp(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,Fe===e&&(qe&r)===r&&(Ue===4||Ue===3&&(qe&130023424)===qe&&500>Oe()-cl?Sr(e,0):ul|=r),nt(e,t)}function qc(e,t){t===0&&((e.mode&1)===0?t=1:(t=xs,xs<<=1,(xs&130023424)===0&&(xs=4194304)));var r=Xe();e=$t(e,t),e!==null&&(jn(e,t,r),nt(e,r))}function np(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qc(e,r)}function sp(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),qc(e,r)}var Hc;Hc=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)tt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return tt=!1,qh(e,t,r);tt=(e.flags&131072)!==0}else tt=!1,Ce&&(t.flags&1048576)!==0&&bu(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ni(e,t),e=t.pendingProps;var l=Vr(t,He.current);Gr(t,r),l=zo(null,t,i,e,l,r);var d=Bo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(i)?(d=!0,Ms(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Lo(t),l.updater=ti,t.stateNode=l,l._reactInternals=t,Qo(t,i,e,r),t=Xo(null,t,i,!0,d,r)):(t.tag=0,Ce&&d&&jo(t),Ye(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=op(i),e=_t(i,e),l){case 0:t=Yo(null,t,i,e,r);break e;case 1:t=yc(null,t,i,e,r);break e;case 11:t=hc(null,t,i,e,r);break e;case 14:t=pc(null,t,i,_t(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:_t(i,l),Yo(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:_t(i,l),yc(e,t,i,l,r);case 3:e:{if(wc(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,l=d.element,Lu(e,t),Qs(t,i,null,r);var p=t.memoizedState;if(i=p.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=Yr(Error(s(423)),t),t=xc(e,t,i,r,l);break e}else if(i!==l){l=Yr(Error(s(424)),t),t=xc(e,t,i,r,l);break e}else for(ut=Gt(t.stateNode.containerInfo.firstChild),at=t,Ce=!0,xt=null,r=Ou(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),i===l){t=Ut(e,t,r);break e}Ye(e,t,i,r)}t=t.child}return t;case 5:return Du(t),e===null&&Co(t),i=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,p=l.children,yo(i,l)?p=null:d!==null&&yo(i,d)&&(t.flags|=32),vc(e,t),Ye(e,t,p,r),t.child;case 6:return e===null&&Co(t),null;case 13:return _c(e,t,r);case 4:return Io(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Kr(t,null,i,r):Ye(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:_t(i,l),hc(e,t,i,l,r);case 7:return Ye(e,t,t.pendingProps,r),t.child;case 8:return Ye(e,t,t.pendingProps.children,r),t.child;case 12:return Ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,d=t.memoizedProps,p=l.value,we(qs,i._currentValue),i._currentValue=p,d!==null)if(wt(d.value,p)){if(d.children===l.children&&!Ze.current){t=Ut(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){p=d.child;for(var _=w.firstContext;_!==null;){if(_.context===i){if(d.tag===1){_=Dt(-1,r&-r),_.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var $=N.pending;$===null?_.next=_:(_.next=$.next,$.next=_),N.pending=_}}d.lanes|=r,_=d.alternate,_!==null&&(_.lanes|=r),Oo(d.return,r,t),w.lanes|=r;break}_=_.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(s(341));p.lanes|=r,w=p.alternate,w!==null&&(w.lanes|=r),Oo(p,r,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Ye(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Gr(t,r),l=pt(l),i=i(l),t.flags|=1,Ye(e,t,i,r),t.child;case 14:return i=t.type,l=_t(i,t.pendingProps),l=_t(i.type,l),pc(e,t,i,l,r);case 15:return mc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:_t(i,l),ni(e,t),t.tag=1,et(i)?(e=!0,Ms(t)):e=!1,Gr(t,r),oc(t,i,l),Qo(t,i,l,r),Xo(null,t,i,!0,e,r);case 19:return Sc(e,t,r);case 22:return gc(e,t,r)}throw Error(s(156,t.tag))};function Kc(e,t){return Ea(e,t)}function ip(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,r,i){return new ip(e,t,r,i)}function yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function op(e){if(typeof e=="function")return yl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_e)return 11;if(e===$e)return 14}return 2}function or(e,t){var r=e.alternate;return r===null?(r=vt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pi(e,t,r,i,l,d){var p=2;if(i=e,typeof e=="function")yl(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ne:return br(r.children,l,d,t);case ve:p=8,l|=8;break;case fe:return e=vt(12,r,t,l|2),e.elementType=fe,e.lanes=d,e;case Le:return e=vt(13,r,t,l),e.elementType=Le,e.lanes=d,e;case be:return e=vt(19,r,t,l),e.elementType=be,e.lanes=d,e;case he:return mi(r,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:p=10;break e;case le:p=9;break e;case _e:p=11;break e;case $e:p=14;break e;case Re:p=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=vt(p,r,t,l),t.elementType=e,t.type=i,t.lanes=d,t}function br(e,t,r,i){return e=vt(7,e,i,t),e.lanes=r,e}function mi(e,t,r,i){return e=vt(22,e,i,t),e.elementType=he,e.lanes=r,e.stateNode={isHidden:!1},e}function wl(e,t,r){return e=vt(6,e,null,t),e.lanes=r,e}function xl(e,t,r){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lp(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function _l(e,t,r,i,l,d,p,w,_){return e=new lp(e,t,r,w,_),t===1?(t=1,d===!0&&(t|=8)):t=0,d=vt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(d),e}function ap(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Qc(e){if(!e)return Yt;e=e._reactInternals;e:{if(hr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(et(r))return ku(e,r,t)}return t}function Gc(e,t,r,i,l,d,p,w,_){return e=_l(r,i,!0,e,l,d,p,w,_),e.context=Qc(null),r=e.current,i=Xe(),l=sr(r),d=Dt(i,l),d.callback=t??null,er(r,d,l),e.current.lanes=l,jn(e,l,i),nt(e,i),e}function gi(e,t,r,i){var l=t.current,d=Xe(),p=sr(l);return r=Qc(r),t.context===null?t.context=r:t.pendingContext=r,t=Dt(d,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=er(l,t,p),e!==null&&(jt(e,l,p,d),Ks(e,l,p)),p}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kl(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function up(){return null}var Yc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sl(e){this._internalRoot=e}yi.prototype.render=Sl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));gi(e,t,null,null)},yi.prototype.unmount=Sl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){gi(null,e,null,null)}),t[Ot]=null}};function yi(e){this._internalRoot=e}yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=La();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&Da(e)}};function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function cp(e,t,r,i,l){if(l){if(typeof i=="function"){var d=i;i=function(){var N=vi(p);d.call(N)}}var p=Gc(t,i,e,0,null,!1,!1,"",Xc);return e._reactRootContainer=p,e[Ot]=p.current,Un(e.nodeType===8?e.parentNode:e),kr(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var w=i;i=function(){var N=vi(_);w.call(N)}}var _=_l(e,0,!1,null,null,!1,!1,"",Xc);return e._reactRootContainer=_,e[Ot]=_.current,Un(e.nodeType===8?e.parentNode:e),kr(function(){gi(t,_,r,i)}),_}function xi(e,t,r,i,l){var d=r._reactRootContainer;if(d){var p=d;if(typeof l=="function"){var w=l;l=function(){var _=vi(p);w.call(_)}}gi(t,p,e,l)}else p=cp(r,t,e,l,i);return vi(p)}Oa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(Ki(t,r|1),nt(t,Oe()),(ae&6)===0&&(en=Oe()+500,Xt()))}break;case 13:kr(function(){var i=$t(e,1);if(i!==null){var l=Xe();jt(i,e,1,l)}}),kl(e,1)}},Qi=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var r=Xe();jt(t,e,134217728,r)}kl(e,134217728)}},Aa=function(e){if(e.tag===13){var t=sr(e),r=$t(e,t);if(r!==null){var i=Xe();jt(r,e,t,i)}kl(e,t)}},La=function(){return ge},Ia=function(e,t){var r=ge;try{return ge=e,t()}finally{ge=r}},Fi=function(e,t,r){switch(t){case"input":if(Oi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=Ds(i);if(!l)throw Error(s(90));ia(i),Oi(i,l)}}}break;case"textarea":ca(e,r);break;case"select":t=r.value,t!=null&&Rr(e,!!r.multiple,t,!1)}},wa=ml,xa=kr;var dp={usingClientEntryPoint:!1,Events:[zn,zr,Ds,va,ya,ml]},ts={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fp={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ja(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||up,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{ys=_i.inject(fp),Ct=_i}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp,st.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jl(t))throw Error(s(200));return ap(e,t,null,r)},st.createRoot=function(e,t){if(!jl(e))throw Error(s(299));var r=!1,i="",l=Yc;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=_l(e,1,!1,null,null,r,!1,i,l),e[Ot]=t.current,Un(e.nodeType===8?e.parentNode:e),new Sl(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ja(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return kr(e)},st.hydrate=function(e,t,r){if(!wi(t))throw Error(s(200));return xi(null,e,t,!0,r)},st.hydrateRoot=function(e,t,r){if(!jl(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,l=!1,d="",p=Yc;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=Gc(t,null,e,1,r??null,l,!1,d,p),e[Ot]=t.current,Un(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new yi(t)},st.render=function(e,t,r){if(!wi(t))throw Error(s(200));return xi(null,e,t,!1,r)},st.unmountComponentAtNode=function(e){if(!wi(e))throw Error(s(40));return e._reactRootContainer?(kr(function(){xi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1},st.unstable_batchedUpdates=ml,st.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!wi(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return xi(e,t,r,!1,i)},st.version="18.3.1-next-f1338f8080-20240426",st}var od;function kp(){if(od)return Cl.exports;od=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),Cl.exports=_p(),Cl.exports}var ld;function Sp(){if(ld)return ki;ld=1;var u=kp();return ki.createRoot=u.createRoot,ki.hydrateRoot=u.hydrateRoot,ki}var jp=Sp();const bp=u=>u instanceof Error?u.message+`
`+u.stack:JSON.stringify(u,null,2);class Ep extends yp.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}render(){return this.state.hasError?h.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[h.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),h.jsx("pre",{className:"mt-2 text-sm",children:bp(this.state.error)})]}):this.props.children}}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(u,n)=>{const s=M.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:f,className:m="",children:g,...v},y)=>M.createElement("svg",{ref:y,...Cp,width:a,height:a,stroke:o,strokeWidth:f?Number(c)*24/Number(a):c,className:["lucide",`lucide-${Np(u)}`,m].join(" "),...v},[...n.map(([x,S])=>M.createElement(x,S)),...Array.isArray(g)?g:[g]]));return s.displayName=`${u}`,s};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=dt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=dt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=dt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=dt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=dt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rp="modulepreload",Op=function(u){return"/"+u},fd={},cs=function(n,s,o){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=Promise.allSettled(s.map(g=>{if(g=Op(g),g in fd)return;fd[g]=!0;const v=g.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":Rp,v||(x.as="script"),x.crossOrigin="",x.href=g,m&&x.setAttribute("nonce",m),document.head.appendChild(x),v)return new Promise((S,b)=>{x.addEventListener("load",S),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return a.then(f=>{for(const m of f||[])m.status==="rejected"&&c(m.reason);return n().catch(c)})},Ap=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>gn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class Zl extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class Lp extends Zl{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class hd extends Zl{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class pd extends Zl{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ul;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Ul||(Ul={}));var Ip=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?c(y.value):a(y.value).then(m,g)}v((o=o.apply(u,n||[])).next())})};class $p{constructor(n,{headers:s={},customFetch:o,region:a=Ul.Any}={}){this.url=n,this.headers=s,this.region=a,this.fetch=Ap(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return Ip(this,void 0,void 0,function*(){try{const{headers:a,method:c,body:f}=s;let m={},{region:g}=s;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(m["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(m["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(m["Content-Type"]="application/json",y=JSON.stringify(f)));const x=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),a),body:y}).catch(O=>{throw new Lp(O)}),S=x.headers.get("x-relay-error");if(S&&S==="true")throw new hd(x);if(!x.ok)throw new pd(x);let b=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return b==="application/json"?P=yield x.json():b==="application/octet-stream"?P=yield x.blob():b==="text/event-stream"?P=x:b==="multipart/form-data"?P=yield x.formData():P=yield x.text(),{data:P,error:null,response:x}}catch(a){return{data:null,error:a,response:a instanceof pd||a instanceof hd?a.context:void 0}}})}}var Be={},rn={},nn={},sn={},on={},ln={},Dp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mn=Dp();const Up=mn.fetch,Wd=mn.fetch.bind(mn),qd=mn.Headers,Mp=mn.Request,Fp=mn.Response,gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:qd,Request:Mp,Response:Fp,default:Wd,fetch:Up},Symbol.toStringTag,{value:"Module"})),zp=pp(gn);var Si={},md;function Hd(){if(md)return Si;md=1,Object.defineProperty(Si,"__esModule",{value:!0});class u extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Si.default=u,Si}var gd;function Kd(){if(gd)return ln;gd=1;var u=ln&&ln.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ln,"__esModule",{value:!0});const n=u(zp),s=u(Hd());class o{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=Object.assign({},this.headers),this.headers[c]=f,this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,x,S;let b=null,P=null,O=null,T=v.status,R=v.statusText;if(v.ok){if(this.method!=="HEAD"){const G=await v.text();G===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?P=G:P=JSON.parse(G))}const D=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),z=(x=v.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");D&&z&&z.length>1&&(O=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(b={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,O=null,T=406,R="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const D=await v.text();try{b=JSON.parse(D),Array.isArray(b)&&v.status===404&&(P=[],b=null,T=200,R="OK")}catch{v.status===404&&D===""?(T=204,R="No Content"):b={message:D}}if(b&&this.isMaybeSingle&&(!((S=b==null?void 0:b.details)===null||S===void 0)&&S.includes("0 rows"))&&(b=null,T=200,R="OK"),b&&this.shouldThrowOnError)throw new s.default(b)}return{error:b,data:P,count:O,status:T,statusText:R}});return this.shouldThrowOnError||(g=g.catch(v=>{var y,x,S;return{error:{message:`${(y=v==null?void 0:v.name)!==null&&y!==void 0?y:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(x=v==null?void 0:v.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(S=v==null?void 0:v.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,f)}returns(){return this}overrideTypes(){return this}}return ln.default=o,ln}var vd;function Qd(){if(vd)return on;vd=1;var u=on&&on.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(on,"__esModule",{value:!0});const n=u(Kd());class s extends n.default{select(a){let c=!1;const f=(a??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:c=!0,nullsFirst:f,foreignTable:m,referencedTable:g=m}={}){const v=g?`${g}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${a}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:c,referencedTable:f=c}={}){const m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(m,`${a}`),this}range(a,c,{foreignTable:f,referencedTable:m=f}={}){const g=typeof m>"u"?"offset":`${m}.offset`,v=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(v,`${c-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:c=!1,settings:f=!1,buffers:m=!1,wal:g=!1,format:v="text"}={}){var y;const x=[a?"analyze":null,c?"verbose":null,f?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${S}"; options=${x};`,v==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return on.default=s,on}var yd;function ea(){if(yd)return sn;yd=1;var u=sn&&sn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sn,"__esModule",{value:!0});const n=u(Qd());class s extends n.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const f=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:f,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${v}.${c}`),this}match(a){return Object.entries(a).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(a,c,f){return this.url.searchParams.append(a,`not.${c}.${f}`),this}or(a,{foreignTable:c,referencedTable:f=c}={}){const m=f?`${f}.or`:"or";return this.url.searchParams.append(m,`(${a})`),this}filter(a,c,f){return this.url.searchParams.append(a,`${c}.${f}`),this}}return sn.default=s,sn}var wd;function Gd(){if(wd)return nn;wd=1;var u=nn&&nn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(nn,"__esModule",{value:!0});const n=u(ea());class s{constructor(a,{headers:c={},schema:f,fetch:m}){this.url=a,this.headers=c,this.schema=f,this.fetch=m}select(a,{head:c=!1,count:f}={}){const m=c?"HEAD":"GET";let g=!1;const v=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),f&&(this.headers.Prefer=`count=${f}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:c,defaultToNull:f=!0}={}){const m="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),c&&g.push(`count=${c}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const v=a.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(v.length>0){const y=[...new Set(v)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:c,ignoreDuplicates:f=!1,count:m,defaultToNull:g=!0}={}){const v="POST",y=[`resolution=${f?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&y.push(this.headers.Prefer),m&&y.push(`count=${m}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(a)){const x=a.reduce((S,b)=>S.concat(Object.keys(b)),[]);if(x.length>0){const S=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:c}={}){const f="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),this.headers.Prefer=m.join(","),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const c="DELETE",f=[];return a&&f.push(`count=${a}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return nn.default=s,nn}var ns={},ss={},xd;function Bp(){return xd||(xd=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.version=void 0,ss.version="0.0.0-automated"),ss}var _d;function Vp(){if(_d)return ns;_d=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.DEFAULT_HEADERS=void 0;const u=Bp();return ns.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u.version}`},ns}var kd;function Wp(){if(kd)return rn;kd=1;var u=rn&&rn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(rn,"__esModule",{value:!0});const n=u(Gd()),s=u(ea()),o=Vp();class a{constructor(f,{headers:m={},schema:g,fetch:v}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),m),this.schemaName=g,this.fetch=v}from(f){const m=new URL(`${this.url}/${f}`);return new n.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new a(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,m={},{head:g=!1,get:v=!1,count:y}={}){let x;const S=new URL(`${this.url}/rpc/${f}`);let b;g||v?(x=g?"HEAD":"GET",Object.entries(m).filter(([O,T])=>T!==void 0).map(([O,T])=>[O,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([O,T])=>{S.searchParams.append(O,T)})):(x="POST",b=m);const P=Object.assign({},this.headers);return y&&(P.Prefer=`count=${y}`),new s.default({method:x,url:S,headers:P,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return rn.default=a,rn}var Sd;function qp(){if(Sd)return Be;Sd=1;var u=Be&&Be.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Be,"__esModule",{value:!0}),Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const n=u(Wp());Be.PostgrestClient=n.default;const s=u(Gd());Be.PostgrestQueryBuilder=s.default;const o=u(ea());Be.PostgrestFilterBuilder=o.default;const a=u(Qd());Be.PostgrestTransformBuilder=a.default;const c=u(Kd());Be.PostgrestBuilder=c.default;const f=u(Hd());return Be.PostgrestError=f.default,Be.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:c.default,PostgrestError:f.default},Be}var Hp=qp();const Kp=Bd(Hp),{PostgrestClient:Qp,PostgrestQueryBuilder:ev,PostgrestFilterBuilder:tv,PostgrestTransformBuilder:rv,PostgrestBuilder:nv,PostgrestError:sv}=Kp;function Gp(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Jp=Gp(),Yp="2.11.15",Xp=`realtime-js/${Yp}`,Zp="1.0.0",Jd=1e4,em=1e3;var os;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(os||(os={}));var Je;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Je||(Je={}));var Et;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Et||(Et={}));var Ml;(function(u){u.websocket="websocket"})(Ml||(Ml={}));var Pr;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Pr||(Pr={}));class tm{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const a=s.getUint8(1),c=s.getUint8(2);let f=this.HEADER_LENGTH+2;const m=o.decode(n.slice(f,f+a));f=f+a;const g=o.decode(n.slice(f,f+c));f=f+c;const v=JSON.parse(o.decode(n.slice(f,n.byteLength)));return{ref:null,topic:m,event:g,payload:v}}}class Yd{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(xe||(xe={}));const jd=(u,n,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((c,f)=>(c[f]=rm(f,u,n,a),c),{})},rm=(u,n,s,o)=>{const a=n.find(m=>m.name===u),c=a==null?void 0:a.type,f=s[u];return c&&!o.includes(c)?Xd(c,f):Fl(f)},Xd=(u,n)=>{if(u.charAt(0)==="_"){const s=u.slice(1,u.length);return om(n,s)}switch(u){case xe.bool:return nm(n);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return sm(n);case xe.json:case xe.jsonb:return im(n);case xe.timestamp:return lm(n);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return Fl(n);default:return Fl(n)}},Fl=u=>u,nm=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},sm=u=>{if(typeof u=="string"){const n=parseFloat(u);if(!Number.isNaN(n))return n}return u},im=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(n){return console.log(`JSON parse error: ${n}`),u}return u},om=(u,n)=>{if(typeof u!="string")return u;const s=u.length-1,o=u[s];if(u[0]==="{"&&o==="}"){let c;const f=u.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(m=>Xd(n,m))}return u},lm=u=>typeof u=="string"?u.replace(" ","T"):u,Zd=u=>{let n=u;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Tl{constructor(n,s,o={},a=Jd){this.channel=n,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var bd;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(bd||(bd={}));class ls{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ls.syncState(this.state,a,c,f),this.pendingDiffs.forEach(g=>{this.state=ls.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ls.syncDiff(this.state,a,c,f),m())}),this.onJoin((a,c,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:f})}),this.onLeave((a,c,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,a){const c=this.cloneDeep(n),f=this.transformState(s),m={},g={};return this.map(c,(v,y)=>{f[v]||(g[v]=y)}),this.map(f,(v,y)=>{const x=c[v];if(x){const S=y.map(T=>T.presence_ref),b=x.map(T=>T.presence_ref),P=y.filter(T=>b.indexOf(T.presence_ref)<0),O=x.filter(T=>S.indexOf(T.presence_ref)<0);P.length>0&&(m[v]=P),O.length>0&&(g[v]=O)}else m[v]=y}),this.syncDiff(c,{joins:m,leaves:g},o,a)}static syncDiff(n,s,o,a){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(m,g)=>{var v;const y=(v=n[m])!==null&&v!==void 0?v:[];if(n[m]=this.cloneDeep(g),y.length>0){const x=n[m].map(b=>b.presence_ref),S=y.filter(b=>x.indexOf(b.presence_ref)<0);n[m].unshift(...S)}o(m,y,g)}),this.map(f,(m,g)=>{let v=n[m];if(!v)return;const y=g.map(x=>x.presence_ref);v=v.filter(x=>y.indexOf(x.presence_ref)<0),n[m]=v,a(m,v,g),v.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const a=n[o];return"metas"in a?s[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=a,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ed;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Ed||(Ed={}));var Cd;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Cd||(Cd={}));var zt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(zt||(zt={}));class ta{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Tl(this,Et.join,this.params,this.timeout),this.rejoinTimer=new Yd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new ls(this),this.broadcastEndpointURL=Zd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:c,presence:f,private:m}}=this.params;this._onError(y=>n==null?void 0:n(zt.CHANNEL_ERROR,y)),this._onClose(()=>n==null?void 0:n(zt.CLOSED));const g={},v={broadcast:c,presence:f,postgres_changes:(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(y=>y.filter))!==null&&a!==void 0?a:[],private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:y})=>{var x;if(this.socket.setAuth(),y===void 0){n==null||n(zt.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,b=(x=S==null?void 0:S.length)!==null&&x!==void 0?x:0,P=[];for(let O=0;O<b;O++){const T=S[O],{filter:{event:R,schema:A,table:D,filter:z}}=T,G=y&&y[O];if(G&&G.event===R&&G.schema===A&&G.table===D&&G.filter===z)P.push(Object.assign(Object.assign({},T),{id:G.id}));else{this.unsubscribe(),this.state=Je.errored,n==null||n(zt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,n&&n(zt.SUBSCRIBED);return}}).receive("error",y=>{this.state=Je.errored,n==null||n(zt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(zt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this._on(n,s,o)}async send(n,s={}){var o,a;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=v.body)===null||a===void 0?void 0:a.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,m,g;const v=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Tl(this,Et.leave,{},n),o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,s,o){const a=new AbortController,c=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(c),f}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Tl(this,n,s,o);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var a,c;const f=n.toLocaleLowerCase(),{close:m,error:g,leave:v,join:y}=Et;if(o&&[m,g,v,y].indexOf(f)>=0&&o!==this._joinRef())return;let S=this._onMessage(f,s,o);if(s&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var P,O,T;return((P=b.filter)===null||P===void 0?void 0:P.event)==="*"||((T=(O=b.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===f}).map(b=>b.callback(S,o)):(c=this.bindings[f])===null||c===void 0||c.filter(b=>{var P,O,T,R,A,D;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in b){const z=b.id,G=(P=b.filter)===null||P===void 0?void 0:P.event;return z&&((O=s.ids)===null||O===void 0?void 0:O.includes(z))&&(G==="*"||(G==null?void 0:G.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const z=(A=(R=b==null?void 0:b.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return z==="*"||z===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===f}).map(b=>{if(typeof S=="object"&&"ids"in S){const P=S.data,{schema:O,table:T,commit_timestamp:R,type:A,errors:D}=P;S=Object.assign(Object.assign({},{schema:O,table:T,commit_timestamp:R,eventType:A,new:{},old:{},errors:D}),this._getPayloadRecords(P))}b.callback(S,o)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const a=n.toLocaleLowerCase(),c={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&ta.isEqual(a.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Et.close,{},n)}_onError(n){this._on(Et.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=jd(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=jd(n.columns,n.old_record)),s}}const Nd=()=>{},am=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class um{constructor(n,s){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jd,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nd,this.ref=0,this.logger=Nd,this.conn=null,this.sendBuffer=[],this.serializer=new tm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...m)=>cs(async()=>{const{default:g}=await Promise.resolve().then(()=>gn);return{default:g}},void 0).then(({default:g})=>g(...m)):f=fetch,(...m)=>f(...m)},this.endPoint=`${n}/${Ml.websocket}`,this.httpEndpoint=Zd(n),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const a=(o=s==null?void 0:s.params)===null||o===void 0?void 0:o.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,f)=>f(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yd(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Jp),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Zp}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(o=>o.teardown()))}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return Pr.Connecting;case os.open:return Pr.Open;case os.closing:return Pr.Closing;default:return Pr.Closed}}isConnected(){return this.connectionState()===Pr.Open}channel(n,s={config:{}}){const o=`realtime:${n}`,a=this.getChannels().find(c=>c.topic===o);if(a)return a;{const c=new ta(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:o,payload:a,ref:c}=n,f=()=>{this.encode(n,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${o} (${c})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const a={access_token:s,version:Xp};s&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Et.access_token,{access_token:s})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(em,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:o,event:a,payload:c,ref:f}=s;o==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${o} ${a} ${f&&"("+f+")"||""}`,c),Array.from(this.channels).filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,c,f)),this.stateChangeCallbacks.message.forEach(m=>m(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Et.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${n}${o}${a}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([am],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}}class ra extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ve(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class cm extends ra{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zl extends ra{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var dm=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?c(y.value):a(y.value).then(m,g)}v((o=o.apply(u,n||[])).next())})};const ef=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>gn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},fm=()=>dm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>gn),void 0)).Response:Response}),Bl=u=>{if(Array.isArray(u))return u.map(s=>Bl(s));if(typeof u=="function"||u!==Object(u))return u;const n={};return Object.entries(u).forEach(([s,o])=>{const a=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[a]=Bl(o)}),n},hm=u=>{if(typeof u!="object"||u===null)return!1;const n=Object.getPrototypeOf(u);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var Tr=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?c(y.value):a(y.value).then(m,g)}v((o=o.apply(u,n||[])).next())})};const Rl=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),pm=(u,n,s)=>Tr(void 0,void 0,void 0,function*(){const o=yield fm();u instanceof o&&!(s!=null&&s.noResolveJson)?u.json().then(a=>{const c=u.status||500,f=(a==null?void 0:a.statusCode)||c+"";n(new cm(Rl(a),c,f))}).catch(a=>{n(new zl(Rl(a),a))}):n(new zl(Rl(u),u))}),mm=(u,n,s,o)=>{const a={method:u,headers:(n==null?void 0:n.headers)||{}};return u==="GET"||!o?a:(hm(o)?(a.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),a.body=JSON.stringify(o)):a.body=o,Object.assign(Object.assign({},a),s))};function ds(u,n,s,o,a,c){return Tr(this,void 0,void 0,function*(){return new Promise((f,m)=>{u(s,mm(n,o,a,c)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>pm(g,m,o))})})}function Ni(u,n,s,o){return Tr(this,void 0,void 0,function*(){return ds(u,"GET",n,s,o)})}function Bt(u,n,s,o,a){return Tr(this,void 0,void 0,function*(){return ds(u,"POST",n,o,a,s)})}function Vl(u,n,s,o,a){return Tr(this,void 0,void 0,function*(){return ds(u,"PUT",n,o,a,s)})}function gm(u,n,s,o){return Tr(this,void 0,void 0,function*(){return ds(u,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function tf(u,n,s,o,a){return Tr(this,void 0,void 0,function*(){return ds(u,"DELETE",n,o,a,s)})}var it=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?c(y.value):a(y.value).then(m,g)}v((o=o.apply(u,n||[])).next())})};const vm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ym{constructor(n,s={},o,a){this.url=n,this.headers=s,this.bucketId=o,this.fetch=ef(a)}uploadOrUpdate(n,s,o,a){return it(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Pd),a);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=o,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(m=Object.assign(Object.assign({},m),a.headers));const v=this._removeEmptyFolders(s),y=this._getFinalPath(v),x=yield(n=="PUT"?Vl:Bt)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:m},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(Ve(c))return{data:null,error:c};throw c}})}upload(n,s,o){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,a){return it(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${f}`);m.searchParams.set("token",s);try{let g;const v=Object.assign({upsert:Pd.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",v.cacheControl)):(g=o,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const x=yield Vl(this.fetch,m.toString(),g,{headers:y});return{data:{path:c,fullPath:x.Key},error:null}}catch(g){if(Ve(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return it(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const c=yield Bt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+c.url),m=f.searchParams.get("token");if(!m)throw new ra("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:m},error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}update(n,s,o){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return it(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}copy(n,s,o){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}createSignedUrl(n,s,o){return it(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),c=yield Bt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}createSignedUrls(n,s,o){return it(this,void 0,void 0,function*(){try{const a=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}download(n,s){return it(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=c?`?${c}`:"";try{const m=this._getFinalPath(n);return{data:yield(yield Ni(this.fetch,`${this.url}/${a}/${m}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(Ve(m))return{data:null,error:m};throw m}})}info(n){return it(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Ni(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Bl(o),error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}exists(n){return it(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield gm(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Ve(o)&&o instanceof zl){const a=o.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),a=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&a.push(c);const m=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&a.push(g);let v=a.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${o}${v}`)}}}remove(n){return it(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}list(n,s,o){return it(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},vm),s),{prefix:n||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const wm="2.10.4",xm={"X-Client-Info":`storage-js/${wm}`};var an=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?c(y.value):a(y.value).then(m,g)}v((o=o.apply(u,n||[])).next())})};class _m{constructor(n,s={},o,a){const c=new URL(n);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},xm),s),this.fetch=ef(o)}listBuckets(){return an(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}getBucket(n){return an(this,void 0,void 0,function*(){try{return{data:yield Ni(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return an(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return an(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}emptyBucket(n){return an(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}deleteBucket(n){return an(this,void 0,void 0,function*(){try{return{data:yield tf(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}}class km extends _m{constructor(n,s={},o,a){super(n,s,o,a)}from(n){return new ym(this.url,this.headers,n,this.fetch)}}const Sm="2.53.0";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const jm={"X-Client-Info":`supabase-js-${is}/${Sm}`},bm={headers:jm},Em={schema:"public"},Cm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nm={};var Pm=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?c(y.value):a(y.value).then(m,g)}v((o=o.apply(u,n||[])).next())})};const Tm=u=>{let n;return u?n=u:typeof fetch>"u"?n=Wd:n=fetch,(...s)=>n(...s)},Rm=()=>typeof Headers>"u"?qd:Headers,Om=(u,n,s)=>{const o=Tm(s),a=Rm();return(c,f)=>Pm(void 0,void 0,void 0,function*(){var m;const g=(m=yield n())!==null&&m!==void 0?m:u;let v=new a(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",u),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),o(c,Object.assign(Object.assign({},f),{headers:v}))})};var Am=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?c(y.value):a(y.value).then(m,g)}v((o=o.apply(u,n||[])).next())})};function Lm(u){return u.endsWith("/")?u:u+"/"}function Im(u,n){var s,o;const{db:a,auth:c,realtime:f,global:m}=u,{db:g,auth:v,realtime:y,global:x}=n,S={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},v),c),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},x),m),{headers:Object.assign(Object.assign({},(s=x==null?void 0:x.headers)!==null&&s!==void 0?s:{}),(o=m==null?void 0:m.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Am(this,void 0,void 0,function*(){return""})};return u.accessToken?S.accessToken=u.accessToken:delete S.accessToken,S}const rf="2.71.1",hn=30*1e3,Wl=3,Ol=Wl*hn,$m="http://localhost:9999",Dm="supabase.auth.token",Um={"X-Client-Info":`gotrue-js/${rf}`},ql="X-Supabase-Api-Version",nf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fm=10*60*1e3;class na extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function te(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class zm extends na{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Bm(u){return te(u)&&u.name==="AuthApiError"}class sf extends na{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class dr extends na{constructor(n,s,o,a){super(n,o,a),this.name=s,this.status=o}}class ur extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vm(u){return te(u)&&u.name==="AuthSessionMissingError"}class ji extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bi extends dr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ei extends dr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Wm(u){return te(u)&&u.name==="AuthImplicitGrantRedirectError"}class Td extends dr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hl extends dr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Al(u){return te(u)&&u.name==="AuthRetryableFetchError"}class Rd extends dr{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Kl extends dr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Od=` 	
\r=`.split(""),qm=(()=>{const u=new Array(128);for(let n=0;n<u.length;n+=1)u[n]=-1;for(let n=0;n<Od.length;n+=1)u[Od[n].charCodeAt(0)]=-2;for(let n=0;n<Pi.length;n+=1)u[Pi[n].charCodeAt(0)]=n;return u})();function Ad(u,n,s){if(u!==null)for(n.queue=n.queue<<8|u,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Pi[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Pi[o]),n.queuedBits-=6}}function of(u,n,s){const o=qm[u];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Ld(u){const n=[],s=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=f=>{Qm(f,o,s)};for(let f=0;f<u.length;f+=1)of(u.charCodeAt(f),a,c);return n.join("")}function Hm(u,n){if(u<=127){n(u);return}else if(u<=2047){n(192|u>>6),n(128|u&63);return}else if(u<=65535){n(224|u>>12),n(128|u>>6&63),n(128|u&63);return}else if(u<=1114111){n(240|u>>18),n(128|u>>12&63),n(128|u>>6&63),n(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Km(u,n){for(let s=0;s<u.length;s+=1){let o=u.charCodeAt(s);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Hm(o,n)}}function Qm(u,n,s){if(n.utf8seq===0){if(u<=127){s(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=u&31;else if(n.utf8seq===3)n.codepoint=u&15;else if(n.utf8seq===4)n.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|u&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Gm(u){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};for(let a=0;a<u.length;a+=1)of(u.charCodeAt(a),s,o);return new Uint8Array(n)}function Jm(u){const n=[];return Km(u,s=>n.push(s)),new Uint8Array(n)}function Ym(u){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};return u.forEach(a=>Ad(a,s,o)),Ad(null,s,o),n.join("")}function Xm(u){return Math.round(Date.now()/1e3)+u}function Zm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const n=Math.random()*16|0;return(u=="x"?n:n&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",Er={tested:!1,writable:!1},lf=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Er.tested)return Er.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Er.tested=!0,Er.writable=!0}catch{Er.tested=!0,Er.writable=!1}return Er.writable};function eg(u){const n={},s=new URL(u);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,c)=>{n[c]=a})}catch{}return s.searchParams.forEach((o,a)=>{n[a]=o}),n}const af=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>gn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},tg=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",pn=async(u,n,s)=>{await u.setItem(n,JSON.stringify(s))},Cr=async(u,n)=>{const s=await u.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ar=async(u,n)=>{await u.removeItem(n)};class Ti{constructor(){this.promise=new Ti.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Ti.promiseConstructor=Promise;function Ll(u){const n=u.split(".");if(n.length!==3)throw new Kl("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!Mm.test(n[o]))throw new Kl("JWT not in base64url format");return{header:JSON.parse(Ld(n[0])),payload:JSON.parse(Ld(n[1])),signature:Gm(n[2]),raw:{header:n[0],payload:n[1]}}}async function rg(u){return await new Promise(n=>{setTimeout(()=>n(null),u)})}function ng(u,n){return new Promise((o,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await u(c);if(!n(c,null,f)){o(f);return}}catch(f){if(!n(c,f)){a(f);return}}})()})}function sg(u){return("0"+u.toString(16)).substr(-2)}function ig(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let c=0;c<56;c++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(n),Array.from(n,sg).join("")}async function og(u){const s=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function lg(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const s=await og(u);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(u,n,s=!1){const o=ig();let a=o;s&&(a+="/PASSWORD_RECOVERY"),await pn(u,`${n}-code-verifier`,a);const c=await lg(o);return[c,o===c?"plain":"s256"]}const ag=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ug(u){const n=u.headers.get(ql);if(!n||!n.match(ag))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function cg(u){if(!u)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(u<=n)throw new Error("JWT has expired")}function dg(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cn(u){if(!fg.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Il(){const u={};return new Proxy(u,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Id(u){return JSON.parse(JSON.stringify(u))}var hg=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};const Nr=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),pg=[502,503,504];async function $d(u){var n;if(!tg(u))throw new Hl(Nr(u),0);if(pg.includes(u.status))throw new Hl(Nr(u),u.status);let s;try{s=await u.json()}catch(c){throw new sf(Nr(c),c)}let o;const a=ug(u);if(a&&a.getTime()>=nf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Rd(Nr(s),u.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new ur}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Rd(Nr(s),u.status,s.weak_password.reasons);throw new zm(Nr(s),u.status||500,o)}const mg=(u,n,s,o)=>{const a={method:u,headers:(n==null?void 0:n.headers)||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function oe(u,n,s,o){var a;const c=Object.assign({},o==null?void 0:o.headers);c[ql]||(c[ql]=nf["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const f=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await gg(u,n,s+m,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function gg(u,n,s,o,a,c){const f=mg(n,o,a,c);let m;try{m=await u(s,Object.assign({},f))}catch(g){throw console.error(g),new Hl(Nr(g),0)}if(m.ok||await $d(m),o!=null&&o.noResolveJson)return m;try{return await m.json()}catch(g){await $d(g)}}function Ft(u){var n;let s=null;xg(u)&&(s=Object.assign({},u),u.expires_at||(s.expires_at=Xm(u.expires_in)));const o=(n=u.user)!==null&&n!==void 0?n:u;return{data:{session:s,user:o},error:null}}function Dd(u){const n=Ft(u);return!n.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=u.weak_password),n}function cr(u){var n;return{data:{user:(n=u.user)!==null&&n!==void 0?n:u},error:null}}function vg(u){return{data:u,error:null}}function yg(u){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c}=u,f=hg(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function wg(u){return u}function xg(u){return u.access_token&&u.refresh_token&&u.expires_in}const $l=["global","local","others"];var _g=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};class kg{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=af(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=$l[0]){if($l.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$l.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(te(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:cr})}catch(o){if(te(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=_g(n,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:yg,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(te(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:cr})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,a,c,f,m,g;try{const v={nextPage:null,lastPage:0,total:0},y=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=n==null?void 0:n.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:wg});if(y.error)throw y.error;const x=await y.json(),S=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,b=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(P=>{const O=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(P.split(";")[1].split("=")[1]);v[`${T}Page`]=O}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},x),v),error:null}}catch(v){if(te(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){cn(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:cr})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){cn(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:cr})}catch(o){if(te(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){cn(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:cr})}catch(o){if(te(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){cn(n.userId);try{const{data:s,error:o}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteFactor(n){cn(n.userId),cn(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}}function Ud(u={}){return{getItem:n=>u[n]||null,setItem:(n,s)=>{u[n]=s},removeItem:n=>{delete u[n]}}}function Sg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dn={debug:!!(globalThis&&lf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class jg extends uf{}async function bg(u,n,s){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await s()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(n===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new jg(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(dn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Sg();const Eg={url:$m,storageKey:Dm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Um,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Md(u,n,s){return await s()}const fn={};class as{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=as.nextInstanceID,as.nextInstanceID+=1,this.instanceID>0&&bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Eg),n);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new kg({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=af(a.fetch),this.lock=a.lock||Md,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:bt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=bg:this.lock=Md,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:lf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ud(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ud(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=fn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=fn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rf}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=eg(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),bt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Wm(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:m}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return te(s)?{error:s}:{error:new sf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,a;try{const c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=n==null?void 0:n.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ft}),{data:f,error:m}=c;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(c){if(te(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,o,a;try{let c;if("email"in n){const{email:y,password:x,options:S}=n;let b=null,P=null;this.flowType==="pkce"&&([b,P]=await un(this.storage,this.storageKey)),c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:x,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:b,code_challenge_method:P},xform:Ft})}else if("phone"in n){const{phone:y,password:x,options:S}=n;c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(o=S==null?void 0:S.data)!==null&&o!==void 0?o:{},channel:(a=S==null?void 0:S.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Ft})}else throw new bi("You must provide either an email or phone number and a password");const{data:f,error:m}=c;if(m||!f)return{data:{user:null,session:null},error:m};const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(c){if(te(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:m}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Dd})}else if("phone"in n){const{phone:c,password:f,options:m}=n;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Dd})}else throw new bi("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ji}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,a,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=n.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,a,c,f,m,g,v,y,x,S,b;let P,O;if("message"in n)P=n.message,O=n.signature;else{const{chain:T,wallet:R,statement:A,options:D}=n;let z;if(bt())if(typeof R=="object")z=R;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))z=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=R}const G=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in z&&z.signIn){const Q=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:G.host,uri:G.href}),A?{statement:A}:null));let ne;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")ne=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)ne=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)P=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),O=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${G.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${G.href}`,`Issued At: ${(a=(o=D==null?void 0:D.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((v=D==null?void 0:D.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((x=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...D.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const Q=await z.signMessage(new TextEncoder().encode(P),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=Q}}try{const{data:T,error:R}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:Ym(O)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(b=n.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Ft});if(R)throw R;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new ji}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:R})}catch(T){if(te(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(n){const s=await Cr(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/");try{const{data:c,error:f}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Ft});if(await ar(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ji}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:f})}catch(c){if(te(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:o,token:a,access_token:c,nonce:f}=n,m=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ft}),{data:g,error:v}=m;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ji}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:v})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,a,c,f;try{if("email"in n){const{email:m,options:g}=n;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await un(this.storage,this.storageKey));const{error:x}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:m,options:g}=n,{data:v,error:y}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y}}throw new bi("You must provide either an email or phone number.")}catch(m){if(te(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(n){var s,o;try{let a,c;"options"in n&&(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:m}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:Ft});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,v=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(n){var s,o,a;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await un(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=n==null?void 0:n.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:vg})}catch(c){if(te(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new ur;const{error:a}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:a,options:c}=n,{error:f}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:o,type:a,options:c}=n,{data:f,error:m}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new bi("You must provide either an email or phone number and a type")}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Ol:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await Cr(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Il()}if(this.storage.isServer&&n.user){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,v,y)=>(!f&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,v,y))})}return{data:{session:n},error:null}}const{session:a,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:cr}):await this._useSession(async s=>{var o,a,c;const{data:f,error:m}=s;if(m)throw m;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:cr})})}catch(s){if(te(s))return Vm(s)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:a,error:c}=o;if(c)throw c;if(!a.session)throw new ur;const f=a.session;let m=null,g=null;this.flowType==="pkce"&&n.email!=null&&([m,g]=await un(this.storage,this.storageKey));const{data:v,error:y}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:cr});if(y)throw y;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(te(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ur;const s=Date.now()/1e3;let o=s,a=!0,c=null;const{payload:f}=Ll(n.access_token);if(f.exp&&(o=f.exp,a=o<=s),a){const{session:m,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(te(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:f,error:m}=s;if(m)throw m;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(n!=null&&n.refresh_token))throw new ur;const{session:a,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!bt())throw new Ei("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ei(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Td("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ei("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Td("No code detected.");const{data:A,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:c,refresh_token:f,expires_in:m,expires_at:g,token_type:v}=n;if(!c||!m||!f||!v)throw new Ei("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(m);let S=y+x;g&&(S=parseInt(g));const b=S-y;b*1e3<=hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const P=S-x;y-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,S,y):y-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,S,y);const{data:O,error:T}=await this._getUser(c);if(T)throw T;const R={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:x,expires_at:S,refresh_token:f,token_type:v,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:n.type},error:null}}catch(o){if(te(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Cr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return{error:c};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(Bm(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return n!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=Zm(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,a;try{const{data:{session:c},error:f}=s;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await un(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(te(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:a}=await this._useSession(async c=>{var f,m,g,v,y;const{data:x,error:S}=c;if(S)throw S;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(v=x.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return bt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:n.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(te(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,a;const{data:c,error:f}=s;if(f)throw f;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await ng(async a=>(a>0&&await rg(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ft})),(a,c)=>{const f=200*Math.pow(2,a);return c&&Al(c)&&Date.now()+f-o<hn})}catch(o){if(this._debug(s,"error",o),te(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),bt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Cr(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Cr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await pn(this.userStorage,this.storageKey+"-user",f)),a.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Il()}else if(a&&!a.user&&!a.user){const f=await Cr(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(a.user=f.user,await ar(this.storage,this.storageKey+"-user"),await pn(this.storage,this.storageKey,a)):a.user=Il()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const c=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ol;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Ol}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Al(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(a.access_token);!m&&(f!=null&&f.user)?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ti;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new ur;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(a,"error",c),te(c)){const f={session:null,error:c};return Al(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(n,s,o=!0){const a=`#_notifyAllSubscribers(${n})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await pn(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const c=Id(a);await pn(this.storage,this.storageKey,c)}else{const a=Id(s);await pn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),hn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-n)/hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${hn}ms, refresh threshold is ${Wl} ticks`),a<=Wl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof uf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,f]=await un(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(m.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);a.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${a.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;return c?{data:null,error:c}:await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,a;const{data:c,error:f}=s;if(f)return{data:null,error:f};const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:g,error:v}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return{data:null,error:c};const{data:f,error:m}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:m})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;return c?{data:null,error:c}:await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=(n==null?void 0:n.factors)||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),c=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:a},error:c}=n;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Ll(a.access_token);let m=null;f.aal&&(m=f.aal);let g=m;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=f.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(m=>m.kid===n);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(m=>m.kid===n),o&&this.jwks_cached_at+Fm>a)return o;const{data:c,error:f}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,o=c.keys.find(m=>m.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:b,error:P}=await this.getSession();if(P||!b.session)return{data:null,error:P};o=b.session.access_token}const{header:a,payload:c,signature:f,raw:{header:m,payload:g}}=Ll(o);s!=null&&s.allowExpired||cg(c.exp);const v=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:c,header:a,signature:f},error:null}}const y=dg(a.alg),x=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,f,Jm(`${m}.${g}`)))throw new Kl("Invalid JWT signature");return{data:{claims:c,header:a,signature:f},error:null}}catch(o){if(te(o))return{data:null,error:o};throw o}}}as.nextInstanceID=0;const Cg=as;class Ng extends Cg{constructor(n){super(n)}}var Pg=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function m(y){try{v(o.next(y))}catch(x){f(x)}}function g(y){try{v(o.throw(y))}catch(x){f(x)}}function v(y){y.done?c(y.value):a(y.value).then(m,g)}v((o=o.apply(u,n||[])).next())})};class Tg{constructor(n,s,o){var a,c,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const m=Lm(n),g=new URL(m);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:Em,realtime:Nm,auth:Object.assign(Object.assign({},Cm),{storageKey:v}),global:bm},x=Im(o??{},y);this.storageKey=(a=x.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(S,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=Om(s,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new Qp(new URL("rest/v1",g).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new km(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new $p(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return Pg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,storageKey:c,flowType:f,lock:m,debug:g},v,y){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ng({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),v),storageKey:c,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,flowType:f,lock:m,debug:g,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new um(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rg=(u,n,s)=>new Tg(u,n,s);function Og(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const u=process.version.match(/^v(\d+)\./);return u?parseInt(u[1],10)<=18:!1}Og()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ag="https://bjtjobxqqnngvponbuek.supabase.co",Lg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJqdGpvYnhxcW5uZ3Zwb25idWVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM1MTU3NzgsImV4cCI6MjA2OTA5MTc3OH0.YNv7FmzZ2S02_fy8t7VggUEz6vR7jcgpzSDb45i1Um4",je=Rg(Ag,Lg),cf=M.createContext(void 0);function Ig({children:u}){const[n,s]=M.useState(null),[o,a]=M.useState(!0);M.useEffect(()=>{async function g(){a(!0);try{const{data:{user:y}}=await je.auth.getUser();s(y)}catch(y){console.error("Error loading user:",y)}finally{a(!1)}}g();const{data:{subscription:v}}=je.auth.onAuthStateChange((y,x)=>{s((x==null?void 0:x.user)||null)});return()=>v.unsubscribe()},[]);const c=async(g,v)=>{const{error:y}=await je.auth.signInWithPassword({email:g,password:v});return{error:y}},f=async(g,v,y)=>{const{data:x,error:S}=await je.auth.signUp({email:g,password:v,options:{data:{full_name:y}}});if(x.user&&!S)try{const{data:b,error:P}=await je.functions.invoke("create-user-profile",{body:{userId:x.user.id,fullName:y}});P?console.error("Error creating user profile via edge function:",P):console.log("User profile created successfully:",b)}catch(b){console.error("Error in profile creation process:",b)}return{error:S}},m=async()=>{await je.auth.signOut()};return h.jsx(cf.Provider,{value:{user:n,loading:o,signIn:c,signUp:f,signOut:m},children:u})}function fr(){const u=M.useContext(cf);if(u===void 0)throw new Error("useAuth must be used within an AuthProvider");return u}function sa({isOpen:u,onClose:n}){const[s,o]=M.useState("signin"),[a,c]=M.useState(""),[f,m]=M.useState(""),[g,v]=M.useState(""),[y,x]=M.useState(!1),[S,b]=M.useState(""),{signIn:P,signUp:O}=fr();if(!u)return null;const T=async R=>{R.preventDefault(),x(!0),b("");try{let A;if(s==="signin"){if(A=await P(a,f),A.error&&(A.error.message.includes("Invalid login credentials")||A.error.message.includes("User not found")||A.error.message.includes("invalid_credentials"))){b("No account found with this email. Would you like to sign up instead?"),x(!1);return}}else{if(!g.trim()){b("Name or alias is required"),x(!1);return}A=await O(a,f,g)}A.error?b(A.error.message):(n(),c(""),m(""),v(""),b(""),o("signin"))}catch{b("An unexpected error occurred")}finally{x(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[h.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(us,{className:"w-5 h-5"})}),h.jsxs("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[h.jsx("button",{type:"button",onClick:()=>{o("signin"),b("")},className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${s==="signin"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Sign In"}),h.jsx("button",{type:"button",onClick:()=>{o("signup"),b("")},className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${s==="signup"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Sign Up"})]}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s==="signin"?"Welcome Back":"Join 30Voice"}),h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s==="signup"&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name or Alias"}),h.jsx("input",{type:"text",id:"displayName",value:g,onChange:R=>v(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your name or preferred alias",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",id:"email",value:a,onChange:R=>c(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsx("input",{type:"password",id:"password",value:f,onChange:R=>m(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your password",required:!0,minLength:6})]}),S&&h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:S}),h.jsx("button",{type:"submit",disabled:y,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:y?"Please wait...":s==="signin"?"Sign In":"Create Account"})]}),h.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:s==="signin"?h.jsxs("p",{children:["Don't have an account? ",h.jsx("button",{onClick:()=>o("signup"),className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign up here"})]}):h.jsxs("p",{children:["Already have an account? ",h.jsx("button",{onClick:()=>o("signin"),className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign in here"})]})})]})})}function Ql({isOpen:u,onClose:n,title:s,children:o}){return M.useEffect(()=>{const a=c=>{c.key==="Escape"&&n()};return u&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[u,n]),u?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:h.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl",onClick:a=>a.stopPropagation(),children:[h.jsxs("div",{className:"bg-purple-600 text-white px-6 py-4 rounded-t-lg flex items-center justify-between",children:[h.jsx("h2",{id:"modal-title",className:"text-xl font-bold",children:s}),h.jsx("button",{onClick:n,className:"text-white hover:text-purple-200 transition-colors p-1","aria-label":"Close dialog",children:h.jsx(us,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"px-6 py-6",children:o})]})}):null}function $g({isOpen:u,onClose:n}){return h.jsx(Ql,{isOpen:u,onClose:n,title:"30Voice - Quality Voice Insights",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Our Mission"}),h.jsx("blockquote",{className:"text-lg text-purple-600 font-medium italic mb-4 border-l-4 border-purple-600 pl-4",children:'"Forget attention, focus on value"'}),h.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We believe in authentic human thoughts shared in 30 seconds. No bots, no ads, no BS."}),h.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"Your voice matters. No perfection, no polish required. Just authentic insights that create real value for our community."})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Features"}),h.jsxs("ul",{className:"space-y-2 text-gray-700",children:[h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),"Share authentic voice insights in 30 seconds"]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),"Discover valuable perspectives from real people"]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),"React and engage with meaningful content"]}),h.jsxs("li",{className:"flex items-start",children:[h.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),"Build a community focused on substance over attention"]})]})]}),h.jsx("div",{className:"pt-4 border-t border-gray-200",children:h.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Join our community of authentic voices sharing real insights."})})]})})}function Dg({isOpen:u,onClose:n}){const[s,o]=M.useState({name:"",email:"",feedbackType:"general",message:""}),[a,c]=M.useState(!1),[f,m]=M.useState(!1),[g,v]=M.useState(""),y=S=>{const{name:b,value:P}=S.target;o(O=>({...O,[b]:P}))},x=async S=>{S.preventDefault(),c(!0),v("");try{const{data:b,error:P}=await je.functions.invoke("submit-feedback",{body:{name:s.name,email:s.email,feedbackType:s.feedbackType,message:s.message}});if(console.log("Edge function response:",{data:b,error:P}),P)throw console.error("Edge function returned error:",P),new Error(P.message||"Failed to submit feedback");if(b&&b.error)throw console.error("Backend returned error:",b.error),new Error(b.error.message||"Failed to submit feedback");if(!b||!b.success)throw console.error("Unexpected response format:",b),new Error("Unexpected response from server");console.log("Feedback submitted successfully:",b),m(!0),setTimeout(()=>{m(!1),o({name:"",email:"",feedbackType:"general",message:""}),n()},3e3)}catch(b){console.error("Feedback submission error:",b),v(b.message||"Failed to submit feedback. Please try again.")}finally{c(!1)}};return f?h.jsx(Ql,{isOpen:u,onClose:n,title:"Thank You!",children:h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-white text-lg",children:"✓"})})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Feedback Submitted Successfully!"}),h.jsx("p",{className:"text-gray-600",children:"We appreciate your input and will review it shortly."})]})}):h.jsx(Ql,{isOpen:u,onClose:n,title:"We'd Love Your Feedback",children:h.jsxs("div",{className:"space-y-6",children:[h.jsx("p",{className:"text-gray-700",children:"Your thoughts help us improve 30Voice for everyone."}),h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),h.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Your name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),h.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"your.email@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"feedbackType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback Type"}),h.jsxs("select",{id:"feedbackType",name:"feedbackType",value:s.feedbackType,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",children:[h.jsx("option",{value:"general",children:"General Feedback"}),h.jsx("option",{value:"bug",children:"Bug Report"}),h.jsx("option",{value:"feature",children:"Feature Request"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),h.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:y,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Tell us what's on your mind..."})]}),g&&h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:g}),h.jsx("button",{type:"submit",disabled:a,className:"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors font-medium",children:a?"Submitting...":"Submit Feedback"})]}),h.jsx("div",{className:"pt-4 border-t border-gray-200",children:h.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Or reach us directly at: ",h.jsx("a",{href:"mailto:feedback@30voice.com",className:"text-purple-600 hover:text-purple-700",children:"feedback@30voice.com"})]})})]})})}function Ug({}){var P,O,T,R;const{user:u,signOut:n}=fr(),[s,o]=M.useState(!1),[a,c]=M.useState(!1),[f,m]=M.useState(!1),[g,v]=M.useState(!1),[y,x]=M.useState(!1),S=()=>{o(!0)};M.useEffect(()=>{const A=D=>{a&&(D.target.closest(".mobile-menu-container")||c(!1))};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[a]);const b=A=>A?A.split(" ").map(D=>D.charAt(0)).join("").toUpperCase().slice(0,2):"U";return h.jsxs(h.Fragment,{children:[h.jsx("header",{className:"bg-purple-600 text-white py-4 px-6 mobile-menu-container",children:h.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center",children:h.jsx("h1",{className:"text-xl font-semibold",children:"30Voice"})}),h.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[h.jsx("button",{onClick:()=>v(!0),className:"text-white hover:text-purple-200 transition-colors",children:"About"}),h.jsx("button",{onClick:()=>x(!0),className:"text-white hover:text-purple-200 transition-colors",children:"Feedback"}),u?h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-3 py-2 rounded-lg transition-colors",children:[h.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-sm font-semibold",children:b((P=u.user_metadata)==null?void 0:P.full_name)}),h.jsx(Vd,{className:"w-4 h-4"})]}),f&&h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10",children:[h.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[h.jsx("p",{className:"font-medium text-gray-900",children:((O=u.user_metadata)==null?void 0:O.full_name)||"User"}),h.jsx("p",{className:"text-sm text-gray-500",children:u.email})]}),h.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[h.jsx(dd,{className:"w-4 h-4"}),"My Profile"]}),h.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[h.jsx(ad,{className:"w-4 h-4"}),"Saved Notes"]}),h.jsx("hr",{className:"my-2"}),h.jsxs("button",{onClick:()=>{n(),m(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[h.jsx(ud,{className:"w-4 h-4"}),"Sign Out"]})]})]}):h.jsx("button",{onClick:S,className:"bg-white text-purple-600 px-4 py-2 rounded-md font-medium hover:bg-purple-50 transition-colors",children:"Sign In"})]}),h.jsx("button",{className:"md:hidden text-white relative",onClick:()=>c(!a),children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),a&&h.jsx("div",{className:"md:hidden bg-purple-700 border-t border-purple-500 mobile-menu-container",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 space-y-3",children:[h.jsx("button",{onClick:()=>{v(!0),c(!1)},className:"block w-full text-left text-white hover:text-purple-200 transition-colors py-2",children:"About"}),h.jsx("button",{onClick:()=>{x(!0),c(!1)},className:"block w-full text-left text-white hover:text-purple-200 transition-colors py-2",children:"Feedback"}),u?h.jsxs("div",{className:"border-t border-purple-500 pt-3 mt-3",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-sm font-semibold",children:b((T=u.user_metadata)==null?void 0:T.full_name)}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:((R=u.user_metadata)==null?void 0:R.full_name)||"User"}),h.jsx("p",{className:"text-sm text-purple-200",children:u.email})]})]}),h.jsxs("button",{className:"block w-full text-left text-white hover:text-purple-200 py-2 flex items-center gap-2",children:[h.jsx(dd,{className:"w-4 h-4"}),"My Profile"]}),h.jsxs("button",{className:"block w-full text-left text-white hover:text-purple-200 py-2 flex items-center gap-2",children:[h.jsx(ad,{className:"w-4 h-4"}),"Saved Notes"]}),h.jsxs("button",{onClick:()=>{n(),c(!1)},className:"block w-full text-left text-white hover:text-purple-200 py-2 flex items-center gap-2",children:[h.jsx(ud,{className:"w-4 h-4"}),"Sign Out"]})]}):h.jsx("button",{onClick:()=>{S(),c(!1)},className:"block w-full text-left bg-white text-purple-600 px-4 py-2 rounded-md font-medium hover:bg-purple-50 transition-colors mt-2",children:"Sign In"})]})}),h.jsx(sa,{isOpen:s,onClose:()=>o(!1)}),h.jsx($g,{isOpen:g,onClose:()=>v(!1)}),h.jsx(Dg,{isOpen:y,onClose:()=>x(!1)})]})}const Mg=({onComplete:u})=>{const[n,s]=M.useState(30),[o]=M.useState(Date.now());M.useEffect(()=>{if(n===0){u();return}const f=setInterval(()=>{const m=Math.floor((Date.now()-o)/1e3),g=Math.max(0,30-m);s(g),g===0&&u()},100);return()=>clearInterval(f)},[o,u]),M.useEffect(()=>{const f=document.querySelector(".countdown-progress");if(f){const m=2*Math.PI*45,g=(30-n)/30,v=m*g;f.style.strokeDashoffset=v.toString()}},[n]);const a=n<=5?"text-red-500 font-bold animate-pulse":"text-white",c=n<=5?"bg-red-500":"bg-gray-900";return h.jsx("div",{role:"timer","aria-live":"polite",className:`text-lg font-bold ${a} ${c} rounded-full w-12 h-12 flex items-center justify-center border-2 border-white shadow-lg`,children:n})};function df({onRecordingComplete:u,className:n=""}){const[s,o]=M.useState(!1),[a,c]=M.useState(null),[f,m]=M.useState(!1),[g,v]=M.useState(""),y=M.useRef(null),x=M.useRef(null),S=M.useRef(null),b=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,P=()=>b()?MediaRecorder.isTypeSupported("audio/mp4")?"audio/mp4":MediaRecorder.isTypeSupported("audio/mp3")?"audio/mp3":"audio/wav":MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",O=async()=>{try{v(""),b()&&!S.current&&(S.current=new(window.AudioContext||window.webkitAudioContext));const z=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:b()?44100:void 0,channelCount:1}}),G=P();console.log("Using audio format:",G,"for iOS:",b());const Q=new MediaRecorder(z,{mimeType:G});y.current=Q;const ne=[];Q.ondataavailable=ve=>{ve.data.size>0&&ne.push(ve.data)},Q.onstop=()=>{const ve=new Blob(ne,{type:G});console.log("Created audio blob:",ve.type,"size:",ve.size),c(ve),u(ve),z.getTracks().forEach(fe=>fe.stop())},Q.start(),o(!0)}catch(z){v("Could not access microphone. Please check permissions."),console.error("Recording error:",z)}},T=()=>{y.current&&s&&(y.current.stop(),o(!1))},R=()=>{T()},A=async()=>{if(a&&!f)try{b()&&S.current&&S.current.state==="suspended"&&await S.current.resume();const z=URL.createObjectURL(a);x.current=new Audio(z),b()&&(x.current.preload="auto",x.current.controls=!1,x.current.load()),x.current.onended=()=>{m(!1),URL.revokeObjectURL(z)},x.current.onerror=Q=>{console.error("Audio playback error:",Q),v("Could not play recording. Please try again."),m(!1),URL.revokeObjectURL(z)},x.current.oncanplaythrough=()=>{console.log("Audio can play through")};const G=x.current.play();G!==void 0?G.then(()=>{console.log("Audio playback started successfully"),m(!0)}).catch(Q=>{console.error("Audio play failed:",Q),v("Could not play recording. Please try again."),m(!1),URL.revokeObjectURL(z)}):m(!0)}catch(z){console.error("Audio setup error:",z),v("Could not setup audio playback. Please try again.")}else x.current&&f&&(x.current.pause(),m(!1))},D=()=>{c(null),m(!1),v(""),x.current&&(x.current.pause(),x.current=null)};return g?h.jsxs("div",{className:`text-center ${n}`,children:[h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:g}),h.jsx("button",{onClick:()=>v(""),className:"text-purple-600 hover:text-purple-700 text-sm",children:"Try Again"})]}):h.jsx("div",{className:`text-center space-y-4 ${n}`,children:a?h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[h.jsx("button",{onClick:A,className:"w-12 h-12 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center transition-colors",children:f?h.jsx(Xl,{className:"w-5 h-5 text-white"}):h.jsx(Ci,{className:"w-5 h-5 text-white ml-0.5"})}),h.jsx("button",{onClick:D,className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Record Again"})]}),h.jsx("p",{className:"text-sm text-gray-600",children:"Recording complete. Ready to submit."})]}):h.jsx("div",{children:s?h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"relative mb-4",children:[h.jsxs("div",{className:"w-24 h-24 mx-auto",children:[h.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[h.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#e5e7eb",strokeWidth:"6",fill:"none"}),h.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#e91e63",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:"283",strokeDashoffset:"0",className:"countdown-progress"})]}),h.jsx("button",{onClick:T,className:"absolute inset-0 w-16 h-16 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors mx-auto my-auto",children:h.jsx(Tp,{className:"w-6 h-6 text-white"})})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:h.jsx(Mg,{onComplete:R})})]}),h.jsx("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:"🔴 Recording... Click stop or wait for timer"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-saves at 30 seconds"})]}):h.jsxs("div",{className:"text-center",children:[h.jsx("button",{onClick:O,className:"w-16 h-16 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center transition-colors mx-auto mb-3 shadow-lg hover:shadow-xl",children:h.jsx(Yl,{className:"w-6 h-6 text-white"})}),h.jsx("p",{className:"text-sm text-gray-600",children:"Click to start recording"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum 30 seconds"})]})})})}function Fg({isOpen:u,onClose:n,onSuccess:s}){const[o,a]=M.useState("choose"),[c,f]=M.useState(null),[m,g]=M.useState(null),[v,y]=M.useState(""),[x,S]=M.useState(""),[b,P]=M.useState(""),[O,T]=M.useState(!1),[R,A]=M.useState(""),D=M.useRef(null);if(!u)return null;const z=fe=>{f(fe),A("")},G=fe=>{var le;const pe=(le=fe.target.files)==null?void 0:le[0];pe&&(["audio/mp3","audio/wav","audio/webm","audio/m4a","audio/mpeg"].includes(pe.type)||pe.name.toLowerCase().match(/\.(mp3|wav|webm|m4a)$/)?(g(pe),A("")):A("Please upload a valid audio file (MP3, WAV, WebM, or M4A)"))},Q=async()=>{if(!v.trim()||!x.trim()){A("Title and description are required");return}const fe=c||m;if(!fe){A("Please record or upload an audio file");return}T(!0),A("");try{const pe=new FileReader;pe.readAsDataURL(fe),pe.onload=async()=>{const le=pe.result,_e=(m==null?void 0:m.name)||`recording-${Date.now()}.webm`,Le=b.split(",").map(Re=>Re.trim()).filter(Re=>Re.length>0),{data:be,error:$e}=await je.functions.invoke("upload-voice-note",{body:{audioData:le,fileName:_e,title:v,description:x,tags:Le}});if($e)throw $e;s(),n(),a("choose"),f(null),g(null),y(""),S(""),P("")},pe.onerror=()=>{A("Failed to read audio file"),T(!1)}}catch(pe){A(pe.message||"Failed to upload voice note"),T(!1)}},ne=()=>{a("choose"),f(null),g(null),y(""),S(""),P(""),A(""),T(!1)},ve=()=>{ne(),n()};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[h.jsx("button",{onClick:ve,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(us,{className:"w-5 h-5"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Share Your Voice"}),o==="choose"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-gray-600 mb-6",children:"Share your authentic insights in 30 seconds or less."}),h.jsxs("button",{onClick:()=>a("record"),className:"w-full flex items-center justify-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[h.jsx(Yl,{className:"w-6 h-6 text-purple-600"}),h.jsx("span",{className:"font-medium text-gray-700",children:"Record Audio"})]}),h.jsxs("button",{onClick:()=>a("upload"),className:"w-full flex items-center justify-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[h.jsx(cd,{className:"w-6 h-6 text-purple-600"}),h.jsx("span",{className:"font-medium text-gray-700",children:"Upload Audio File"})]})]}),o==="record"&&h.jsx("div",{className:"space-y-4",children:h.jsx(df,{onRecordingComplete:z,className:"py-4"})}),o==="upload"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{ref:D,type:"file",accept:"audio/*",onChange:G,className:"hidden"}),m?h.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"font-medium text-gray-700",children:m.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:[(m.size/1024/1024).toFixed(2)," MB"]}),h.jsx("button",{onClick:()=>g(null),className:"text-purple-600 hover:text-purple-700 text-sm mt-2 transition-colors",children:"Choose different file"})]}):h.jsxs("button",{onClick:()=>{var fe;return(fe=D.current)==null?void 0:fe.click()},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[h.jsx(cd,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),h.jsx("p",{className:"text-gray-600",children:"Click to select audio file"}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"MP3, WAV, WebM, or M4A"})]})]}),(c||m)&&h.jsxs("div",{className:"space-y-4 mt-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title / Main Point"}),h.jsx("input",{type:"text",id:"title",value:v,onChange:fe=>y(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"What's the main insight?"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{id:"description",value:x,onChange:fe=>S(fe.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Provide more context about your voice note..."})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (optional)"}),h.jsx("input",{type:"text",id:"tags",value:b,onChange:fe=>P(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"technology, business, life (separated by commas)"})]}),R&&h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:R}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>a("choose"),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Back"}),h.jsx("button",{onClick:Q,disabled:O,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:O?"Uploading...":"Share Voice Note"})]})]})]})})}function zg({totalCount:u,onVoiceNoteAdded:n}){const{user:s}=fr(),[o,a]=M.useState(!1),[c,f]=M.useState(!1),m=()=>{if(!s){a(!0);return}f(!0)};return h.jsxs("section",{className:"bg-gray-50 py-12 px-6",children:[h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Forget attention, focus on value"}),h.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Real human thoughts in 30 seconds. No bots, no ads, no BS."}),h.jsx("div",{className:"flex justify-center items-center mb-8",children:h.jsxs("button",{onClick:m,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center gap-3",children:[h.jsx("span",{children:"Share Your Voice"}),h.jsx("div",{className:"bg-white text-green-500 font-bold px-3 py-1 rounded-full text-lg",children:u})]})}),h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[h.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Your Voice Matters"}),h.jsx("p",{className:"text-gray-600",children:"No perfection, no polish required. Just authentic insights"})]})]}),h.jsx(sa,{isOpen:o,onClose:()=>a(!1)}),h.jsx(Fg,{isOpen:c,onClose:()=>f(!1),onSuccess:()=>{n==null||n()}})]})}function Bg({totalCount:u}){return h.jsx("section",{className:"py-8 px-6 bg-white",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Community Voices"}),h.jsxs("p",{className:"text-xl text-gray-600",children:[h.jsx("span",{className:"font-semibold text-purple-600",children:u})," authentic stories shared"]})]})})}function Vg(u,n){const[s,o]=M.useState(u);return M.useEffect(()=>{const a=setTimeout(()=>{o(u)},n);return()=>{clearTimeout(a)}},[u,n]),s}function Wg({onSearch:u,placeholder:n="Search conversations...",className:s=""}){const[o,a]=M.useState(""),c=M.useRef(null),f=Vg(o,300);M.useEffect(()=>{u(f)},[f,u]);const m=M.useCallback(x=>{const S=x.target.value;a(S)},[]),g=M.useCallback(()=>{a(""),c.current&&c.current.focus()},[]),v=M.useCallback(x=>{x.preventDefault(),u(o)},[o,u]),y=M.useCallback(x=>{x.key==="Escape"&&g()},[g]);return h.jsxs("div",{className:`relative ${s}`,children:[h.jsxs("form",{onSubmit:v,className:"relative",children:[h.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:h.jsx(Pp,{className:"w-5 h-5 text-gray-400"})}),h.jsx("input",{ref:c,type:"text",value:o,onChange:m,onKeyDown:y,placeholder:n,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent text-base transition-all duration-200 ease-in-out",autoComplete:"off",spellCheck:"false",autoCorrect:"off",autoCapitalize:"off","data-testid":"search-input"}),o&&h.jsx("button",{type:"button",onClick:g,className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-gray-600 transition-colors flex items-center justify-center","aria-label":"Clear search",tabIndex:0,children:h.jsx(us,{className:"w-4 h-4"})})]}),f&&f!==o&&h.jsx("div",{className:"absolute right-12 top-1/2 transform -translate-y-1/2",children:h.jsx("div",{className:"w-3 h-3 border border-purple-400 border-t-transparent rounded-full animate-spin"})})]})}const Fd=[{id:"all",label:"All Vibes"},{id:"funny-light",label:"Funny & Light"},{id:"deep-insights",label:"Deep Insights"},{id:"game-changer",label:"Game Changer"},{id:"creative-spark",label:"Creative Spark"},{id:"aha-moments",label:"Aha Moments"},{id:"food-for-thought",label:"Food for Thought"},{id:"needs-context",label:"Needs Context"},{id:"explore-more",label:"Explore More"}];function qg({activeFilter:u,onFilterChange:n,searchQuery:s,onSearchChange:o}){var f;const[a,c]=M.useState(!1);return h.jsx("section",{className:"py-8 px-6 bg-white border-b",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Discover Voice Stories"}),h.jsx("div",{className:"mb-6",children:h.jsx(Wg,{onSearch:o,placeholder:"Search voice notes, insights, stories...",className:"max-w-2xl"})}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[h.jsx("p",{className:"text-sm text-gray-600",children:"Filter by Vibe:"}),h.jsxs("button",{onClick:()=>c(!a),className:"md:hidden flex items-center gap-1 text-purple-600 hover:text-purple-700 transition-colors",children:[h.jsx("span",{className:"text-sm",children:"Show Filters"}),h.jsx(Vd,{className:`w-4 h-4 transform transition-transform ${a?"rotate-180":""}`})]})]}),h.jsx("div",{className:`flex flex-wrap gap-2 ${a?"block":"hidden md:flex"}`,children:Fd.map(m=>h.jsx("button",{onClick:()=>n(m.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u===m.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:m.label},m.id))})]}),(u!=="all"||s)&&h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[h.jsx("span",{children:"Showing:"}),s&&h.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:['"',s,'"']}),u!=="all"&&h.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:(f=Fd.find(m=>m.id===u))==null?void 0:f.label}),h.jsx("button",{onClick:()=>{n("all"),o("")},className:"text-purple-600 hover:text-purple-700 ml-2",children:"Clear all"})]})]})})}const ff=M.createContext(void 0);function Hg({children:u}){const[n,s]=M.useState({currentTrackId:null,isPlaying:!1,currentTime:0,duration:0,isLoading:!1,error:null}),o=M.useRef(null),a=M.useRef({}),c=()=>{if(o.current){o.current.pause();const x=o.current,S=a.current;S.loadedmetadata&&x.removeEventListener("loadedmetadata",S.loadedmetadata),S.timeupdate&&x.removeEventListener("timeupdate",S.timeupdate),S.play&&x.removeEventListener("play",S.play),S.ended&&x.removeEventListener("ended",S.ended),S.error&&x.removeEventListener("error",S.error),o.current=null,a.current={}}},f=async x=>{try{return(await fetch(x,{method:"HEAD",mode:"cors",cache:"no-cache"})).ok}catch(S){return console.warn("Audio URL validation failed:",x,S),!1}},m=async(x,S,b,P)=>{try{if(n.currentTrackId===x&&o.current){n.isPlaying?(o.current.pause(),s(le=>({...le,isPlaying:!1}))):(await o.current.play(),s(le=>({...le,isPlaying:!0})));return}c(),s(le=>({...le,currentTrackId:x,isLoading:!0,error:null,isPlaying:!1}));const O=await f(S),T=b?await f(b):!1;if(!O&&!T){s(le=>({...le,error:"Audio file is not accessible. Server may be down or URL is invalid.",isLoading:!1,isPlaying:!1}));return}const R=new Audio;R.autoplay=!1,R.controls=!1,o.current=R;let A=!1;const D=()=>{s(le=>({...le,duration:R.duration,isLoading:!1}))},z=()=>{s(le=>({...le,currentTime:R.currentTime}))},G=()=>{!A&&P&&(A=!0,P())},Q=()=>{s(le=>({...le,isPlaying:!1,currentTime:0}))},ne=le=>{if(console.error("Audio playback error:",le,"Audio src:",R.src),b&&R.src!==b){console.log("Falling back to MP3 URL:",b),R.src=b,R.load();return}let _e="Audio playback failed.";if(R.error)switch(R.error.code){case MediaError.MEDIA_ERR_NETWORK:_e="Network error: Could not load audio file. Please check your connection.";break;case MediaError.MEDIA_ERR_DECODE:_e="Audio format error: File is corrupted or unsupported.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:_e="Audio format not supported by this browser.";break;case MediaError.MEDIA_ERR_ABORTED:_e="Audio loading was aborted.";break;default:R.src.includes("http://")&&window.location.protocol==="https:"?_e="Security error: Cannot load HTTP audio from HTTPS site.":R.src.includes(".webm")?_e="WebM format not supported. Try a different browser.":_e="Audio file unavailable or server error."}s(Le=>({...Le,error:_e,isLoading:!1,isPlaying:!1}))};a.current={loadedmetadata:D,timeupdate:z,ended:Q,error:ne,play:G},R.addEventListener("loadedmetadata",D),R.addEventListener("timeupdate",z),R.addEventListener("play",G),R.addEventListener("ended",Q),R.addEventListener("error",ne);const ve=S.includes(".webm"),fe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let pe=S;b&&T&&(fe||ve||!O)?(console.log("Using MP3 fallback for better compatibility or failed primary URL"),pe=b):O?pe=S:pe=b||S,R.src=pe,console.log("Selected audio URL:",pe),R.preload="metadata",R.load(),await R.play(),s(le=>({...le,isPlaying:!0,isLoading:!1}))}catch(O){console.error("Failed to play audio:",O),s(T=>({...T,error:"Playback failed. Please try again.",isLoading:!1,isPlaying:!1}))}},g=()=>{o.current&&(o.current.pause(),s(x=>({...x,isPlaying:!1})))},v=x=>{o.current&&(o.current.currentTime=x,s(S=>({...S,currentTime:x})))},y=()=>{s(x=>({...x,error:null}))};return h.jsx(ff.Provider,{value:{audioState:n,playTrack:m,pauseTrack:g,seekTo:v,clearError:y},children:u})}function hf(){const u=M.useContext(ff);if(u===void 0)throw new Error("useAudio must be used within an AudioProvider");return u}function Kg({voiceNoteId:u,audioUrl:n,mp3Url:s,duration:o,listenCount:a,onListenCountUpdate:c}){const{audioState:f,playTrack:m,pauseTrack:g,clearError:v}=hf(),y=f.currentTrackId===u,x=y&&f.isPlaying,S=y&&f.isLoading,b=y&&f.error,P=T=>{const R=Math.floor(T/60),A=Math.floor(T%60);return`${R}:${A.toString().padStart(2,"0")}`},O=async()=>{b&&v(),x?g():await m(u,n,s,async()=>{try{c&&c(a+1);const{data:R,error:A}=await je.functions.invoke("increment-listen-count",{body:{voice_note_id:u}});A?(console.error("Listen count increment error:",A),c&&c(a)):console.log("✅ Listen count incremented successfully:",R)}catch(R){console.error("Failed to increment listen count:",R),c&&c(a)}})};return b?h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[h.jsx("button",{onClick:O,className:"w-10 h-10 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Retry audio",children:h.jsx(Ci,{className:"w-4 h-4 ml-0.5"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Audio error"}),h.jsx("p",{className:"text-red-500 text-xs",children:f.error||"Tap to retry"})]})]}):h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[h.jsx("button",{onClick:O,disabled:S,className:"w-10 h-10 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 rounded-full flex items-center justify-center text-white transition-colors shadow-sm","aria-label":x?"Pause audio":"Play audio",children:S?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):x?h.jsx(Xl,{className:"w-4 h-4"}):h.jsx(Ci,{className:"w-4 h-4 ml-0.5"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-gray-600 font-medium",children:P(o)}),h.jsxs("span",{className:"text-gray-500",children:[a," listens"]})]}),y&&f.duration>0&&h.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1",children:h.jsx("div",{className:"bg-purple-600 h-1 rounded-full transition-all duration-150",style:{width:`${f.currentTime/f.duration*100}%`}})})]})]})}function Qg({transcript:u,isVisible:n}){return!n||!u?null:h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 animate-in slide-in-from-top-2 duration-300","aria-live":"polite",children:h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Transcript"}),h.jsx("div",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap",children:u})]})})}function pf({voiceNoteId:u,parentId:n,onReplySubmitted:s,onCancel:o}){const{user:a}=fr(),[c,f]=M.useState("text"),[m,g]=M.useState(""),[v,y]=M.useState(null),[x,S]=M.useState(!1),[b,P]=M.useState(""),O=async()=>{if(!m.trim()){P("Please enter a reply message");return}if(!a){P("You must be logged in to reply");return}S(!0),P("");try{const{error:A}=await je.from("voice_note_replies").insert({voice_note_id:u,parent_id:n||null,user_id:a.id,content_type:"text",text_content:m.trim()});if(A)throw A;s(),g("")}catch(A){P(A.message||"Failed to submit reply")}finally{S(!1)}},T=async()=>{if(!v){P("Please record a voice message");return}if(!a){P("You must be logged in to reply");return}S(!0),P("");try{const A=new FileReader;A.readAsDataURL(v),A.onload=async()=>{const D=A.result,z=`reply-${u}-${Date.now()}.webm`,{data:G,error:Q}=await je.functions.invoke("upload-voice-reply",{body:{voiceNoteId:u,parentId:n||null,audioData:D,fileName:z}});if(Q)throw console.error("Voice reply upload error:",Q),new Error(Q.message||"Failed to upload voice reply");console.log("Voice reply uploaded successfully:",G),s(),y(null),S(!1)},A.onerror=()=>{P("Failed to process voice recording"),S(!1)}}catch(A){P(A.message||"Failed to submit voice reply"),S(!1)}},R=async()=>{c==="text"?await O():await T()};return h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 mt-4",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add a Reply"}),h.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden mb-4",children:[h.jsxs("button",{onClick:()=>f("text"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${c==="text"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(Jl,{className:"w-4 h-4"}),"Write Reply"]}),h.jsxs("button",{onClick:()=>f("voice"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${c==="voice"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(Yl,{className:"w-4 h-4"}),"Voice Reply"]})]})]}),c==="text"?h.jsx("div",{className:"mb-4",children:h.jsx("textarea",{value:m,onChange:A=>g(A.target.value),placeholder:"Share your thoughts...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"})}):h.jsx("div",{className:"mb-4",children:h.jsx(df,{onRecordingComplete:y,className:"py-4"})}),b&&h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:b}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:R,disabled:x||c==="text"&&!m.trim()||c==="voice"&&!v,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:x?"Submitting...":"Submit Reply"})]})]})}function Gg({isOpen:u,onClose:n,onConfirm:s,isLoading:o=!1,title:a,message:c}){const f=()=>{o||s()},m=()=>{o||n()},g=v=>{v.key==="Escape"&&!o?n():v.key==="Enter"&&f()};return!u||(M.useEffect(()=>(u&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="unset"}),[u]),!u)?null:h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:m,role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 relative",role:"alertdialog","aria-labelledby":"delete-modal-title","aria-describedby":"delete-modal-description",onKeyDown:g,onClick:v=>v.stopPropagation(),tabIndex:-1,children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:h.jsx(Dl,{className:"w-5 h-5 text-red-600"})}),h.jsx("h3",{id:"delete-modal-title",className:"text-lg font-semibold text-gray-900",children:a})]}),!o&&h.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:h.jsx(us,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-6",children:h.jsx("p",{id:"delete-modal-description",className:"text-gray-600 leading-relaxed",children:c})}),h.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[h.jsx("button",{onClick:m,disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),h.jsx("button",{onClick:f,disabled:o,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:o?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Deleting..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Dl,{className:"w-4 h-4"}),"Delete"]})})]})]})})}function mf({type:u,itemId:n,onDelete:s,className:o=""}){const{user:a}=fr(),[c,f]=M.useState(!1),[m,g]=M.useState(!1),[v,y]=M.useState(""),x=async()=>{if(!a){y("You must be logged in to delete items");return}g(!0),y("");try{const O=u==="voice-note"?"delete-voice-note":"delete-voice-reply",T=u==="voice-note"?"voiceNoteId":"replyId",{data:R,error:A}=await je.functions.invoke(O,{body:{[T]:n}});if(A)throw console.error("Delete error:",A),new Error(A.message||"Failed to delete item");console.log("Delete successful:",R),f(!1),s()}catch(O){console.error("Delete operation failed:",O),y(O.message||"Failed to delete item. Please try again.")}finally{g(!1)}},S=()=>{const O=u==="voice-note";return{title:O?"Delete Voice Note?":"Delete Reply?",message:O?"Are you sure you want to permanently delete this voice note? This action cannot be undone and will also delete all replies to this message.":"Are you sure you want to permanently delete this reply? This action cannot be undone and will also delete any nested replies."}},{title:b,message:P}=S();return h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>f(!0),className:`p-2 text-gray-400 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50 ${o}`,"aria-label":`Delete ${u==="voice-note"?"voice note":"reply"}`,title:`Delete ${u==="voice-note"?"voice note":"reply"}`,children:h.jsx(Dl,{className:"w-4 h-4"})}),h.jsx(Gg,{isOpen:c,onClose:()=>{m||(f(!1),y(""))},onConfirm:x,isLoading:m,title:b,message:P}),v&&h.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:v})]})}function gf({reply:u,voiceNoteId:n,level:s=0,onReplyAdded:o}){var fe,pe,le,_e,Le;const{user:a}=fr(),{audioState:c,playTrack:f,pauseTrack:m}=hf(),[g,v]=M.useState(!1),[y,x]=M.useState([]),[S,b]=M.useState(!1),[P,O]=M.useState(!1),T=3,R=Math.min(s,T),A=R*40,D=async()=>{b(!0);try{const{data:be,error:$e}=await je.from("voice_note_replies").select("*").eq("parent_id",u.id).eq("is_deleted",!1).order("created_at",{ascending:!0});if($e)throw $e;if(be&&be.length>0){const Re=[...new Set(be.map(Y=>Y.user_id))],{data:he}=await je.from("user_profiles").select("id, full_name, role, company, verified").in("id",Re),B=be.map(Y=>({...Y,user_profile:(he==null?void 0:he.find(W=>W.id===Y.user_id))||{full_name:null,role:null,company:null,verified:!1}}));x(B)}}catch(be){console.error("Error loading child replies:",be)}finally{b(!1)}};M.useEffect(()=>{D()},[u.id]);const z=()=>{v(!1),D(),o()},G=()=>{u.audio_url&&(c.currentTrackId===u.id&&c.isPlaying?m():f(u.id,u.audio_url))},Q=be=>{const $e=new Date(be),he=Math.floor((new Date().getTime()-$e.getTime())/(1e3*60*60));return he<1?"Just now":he<24?`${he}h ago`:he<48?"Yesterday":$e.toLocaleDateString()},ne=P?y:y.slice(0,2),ve=y.length>2;return h.jsxs("div",{className:"relative",children:[s>0&&h.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gray-300",style:{left:`${R*40-20}px`}}),h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-3 shadow-sm group",style:{marginLeft:`${A}px`},children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-medium text-purple-600",children:((pe=(fe=u.user_profile)==null?void 0:fe.full_name)==null?void 0:pe[0])||"U"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-medium text-gray-900",children:((le=u.user_profile)==null?void 0:le.full_name)||"Anonymous User"}),((_e=u.user_profile)==null?void 0:_e.verified)&&h.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Verified"})]}),((Le=u.user_profile)==null?void 0:Le.role)&&h.jsxs("p",{className:"text-sm text-gray-600",children:[u.user_profile.role,u.user_profile.company&&` at ${u.user_profile.company}`]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-gray-500",children:Q(u.created_at||"")}),a&&a.id===u.user_id&&h.jsx(mf,{type:"reply",itemId:u.id,onDelete:()=>o(),className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),u.content_type==="voice"&&u.audio_url?h.jsx("div",{className:"mb-3",children:h.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-3",children:[h.jsx("button",{onClick:G,className:"w-10 h-10 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center transition-colors",children:c.currentTrackId===u.id&&c.isPlaying?h.jsx(Xl,{className:"w-5 h-5 text-white"}):h.jsx(Ci,{className:"w-5 h-5 text-white ml-0.5"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Voice Reply"}),h.jsx("p",{className:"text-xs text-gray-500",children:u.duration?`${u.duration}s`:"Duration unknown"})]})]})}):u.text_content?h.jsx("div",{className:"mb-3",children:h.jsx("p",{className:"text-gray-800 leading-relaxed",children:u.text_content})}):h.jsx("div",{className:"mb-3",children:h.jsx("p",{className:"text-gray-500 italic",children:"No content available"})}),h.jsxs("div",{className:"flex items-center gap-4",children:[a&&s<T&&h.jsxs("button",{onClick:()=>v(!g),className:"text-sm text-purple-600 hover:text-purple-700 font-medium flex items-center gap-1",children:[h.jsx(Jl,{className:"w-4 h-4"}),"Reply"]}),y.length>0&&h.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," ",y.length===1?"reply":"replies"]})]}),g&&h.jsx(pf,{voiceNoteId:n,parentId:u.id,onReplySubmitted:z,onCancel:()=>v(!1)})]}),y.length>0&&h.jsxs("div",{className:"space-y-2",children:[ne.map(be=>h.jsx(gf,{reply:be,voiceNoteId:n,level:s+1,onReplyAdded:o},be.id)),ve&&!P&&h.jsx("div",{style:{marginLeft:`${(s+1)*40}px`},children:h.jsxs("button",{onClick:()=>O(!0),className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:["Show ",y.length-2," more replies"]})}),ve&&P&&h.jsx("div",{style:{marginLeft:`${(s+1)*40}px`},children:h.jsx("button",{onClick:()=>O(!1),className:"text-sm text-gray-600 hover:text-gray-700",children:"Show fewer replies"})})]}),S&&h.jsx("div",{className:"text-center py-2",style:{marginLeft:`${(s+1)*40}px`},children:h.jsx("div",{className:"text-sm text-gray-500",children:"Loading replies..."})})]})}function Jg({voiceNoteId:u}){const{user:n}=fr(),[s,o]=M.useState([]),[a,c]=M.useState(!1),[f,m]=M.useState(!1),[g,v]=M.useState(!0),[y,x]=M.useState("");M.useEffect(()=>{S()},[u]);const S=async()=>{try{v(!0),x("");const{data:T,error:R}=await je.from("voice_note_replies").select("*").eq("voice_note_id",u).eq("is_deleted",!1).is("parent_id",null).order("created_at",{ascending:!0});if(R)throw R;if(!T||T.length===0){o([]);return}const A=[...new Set(T.map(G=>G.user_id))],{data:D}=await je.from("user_profiles").select("id, full_name, role, company, verified").in("id",A),z=T.map(G=>({...G,user_profile:(D==null?void 0:D.find(Q=>Q.id===G.user_id))||{full_name:null,role:null,company:null,verified:!1}}));o(z)}catch(T){console.error("Error loading replies:",T),x("Failed to load replies")}finally{v(!1)}},b=()=>{if(!n){m(!0);return}c(!0)},P=()=>{c(!1),S()},O=()=>{c(!1)};return g?h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:h.jsxs("div",{className:"text-center py-4",children:[h.jsx("div",{className:"w-6 h-6 border-2 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto"}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading replies..."})]})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h4",{className:"text-sm font-medium text-gray-700",children:s.length===0?"No replies yet":`${s.length} ${s.length===1?"Reply":"Replies"}`}),!a&&h.jsx("button",{onClick:b,className:"text-purple-600 hover:text-purple-700 font-medium text-sm transition-colors",children:"Reply"})]}),y&&h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:y}),a&&h.jsx(pf,{voiceNoteId:u,onReplySubmitted:P,onCancel:O}),s.length>0&&h.jsx("div",{className:"space-y-4 mt-4",children:s.map(T=>h.jsx(gf,{reply:T,voiceNoteId:u,level:0,onReplyAdded:S},T.id))})]}),h.jsx(sa,{isOpen:f,onClose:()=>m(!1)})]})}const zd=[{type:"humourous",emoji:"😄",label:"funny"},{type:"informative",emoji:"💡",label:"insightful"},{type:"game_changer",emoji:"🚀",label:"game changer"},{type:"useful",emoji:"🎨",label:"creative"},{type:"thought_provoking",emoji:"🤔",label:"Aha!"},{type:"debatable",emoji:"❓",label:"debatable"}];function Yg({voiceNote:u,onReaction:n,onDelete:s}){var S,b,P,O;const{user:o}=fr(),[a,c]=M.useState(!1),[f,m]=M.useState(u.listen_count||150),g=T=>T?T.split(" ").map(R=>R.charAt(0)).join("").toUpperCase().slice(0,2):"U",v=T=>T?new Date(T).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"}):"Unknown",y=()=>{const T=zd.reduce((R,A)=>{const D=u[`${A.type}_count`]||0;return R+D},0);return Math.min(10,Math.max(1,Math.floor(T/2)+5))},x=T=>{const R=T.toLowerCase(),A=[];return(R.includes("tech")||R.includes("technology"))&&A.push("#Technology"),(R.includes("business")||R.includes("entrepreneur"))&&A.push("#Entrepreneurship"),(R.includes("politics")||R.includes("political"))&&A.push("#Politics"),(R.includes("cricket")||R.includes("sport"))&&A.push("#cricket"),(R.includes("food")||R.includes("restaurant"))&&A.push("#Food"),(R.includes("health")||R.includes("fitness"))&&A.push("#Health"),A.length===0&&A.push("#Insights"),A};return h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow group",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm flex-shrink-0",children:g((S=u.user_profile)==null?void 0:S.full_name)}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:((b=u.user_profile)==null?void 0:b.full_name)||"Anonymous User"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-gray-500",children:v(u.created_at)}),o&&o.id===u.user_id&&h.jsx(mf,{type:"voice-note",itemId:u.id,onDelete:()=>s==null?void 0:s(),className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),h.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[((P=u.user_profile)==null?void 0:P.role)||"Community Member",((O=u.user_profile)==null?void 0:O.company)&&` at ${u.user_profile.company}`]}),h.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:x(u.action_text).map((T,R)=>h.jsx("span",{className:"text-xs text-gray-500 hover:text-purple-600 cursor-pointer",children:T},R))})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-gray-800 leading-relaxed mb-3",children:u.action_text}),h.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-600 p-3 rounded-r-lg",children:h.jsxs("p",{className:"text-sm text-purple-800 font-medium",children:["💡 ",u.tldr_text]})})]}),h.jsx(Kg,{voiceNoteId:u.id,audioUrl:u.audio_url,duration:u.duration,listenCount:f,onListenCountUpdate:m}),u.transcript&&h.jsx("div",{className:"mt-3",children:h.jsxs("button",{onClick:()=>c(!a),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-700 font-medium transition-colors",children:[h.jsx(Jl,{className:"w-4 h-4"}),a?"Hide transcript":"View transcript"]})}),h.jsx(Qg,{transcript:u.transcript||"",isVisible:a}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[h.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:zd.map(T=>{const R=u[`${T.type}_count`]||0;return h.jsxs("button",{onClick:()=>n==null?void 0:n(T.type),className:"flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors text-xs",children:[h.jsx("span",{children:T.emoji}),h.jsx("span",{className:"text-gray-600",children:T.label}),R>0&&h.jsx("span",{className:"font-medium text-gray-700",children:R})]},T.type)})}),h.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:h.jsxs("span",{className:"flex items-center gap-1",children:["Community Score:",h.jsxs("span",{className:"font-semibold text-purple-600",children:[y(),"/10"]}),h.jsx("span",{className:"text-gray-400 hover:text-gray-600 cursor-help",title:"Community Score is calculated based on engagement: (Total Reactions / 2) + 5, representing how the community values this content out of 10",children:"(?)"})]})})]}),h.jsx(Jg,{voiceNoteId:u.id})]})}function vf(u="all",n=""){const[s,o]=M.useState([]),[a,c]=M.useState(!0),[f,m]=M.useState(null),[g,v]=M.useState(0),y=async()=>{try{c(!0),m(null);const{count:b}=await je.from("voice_notes").select("*",{count:"exact",head:!0}).eq("is_deleted",!1);v(b||0);let P=je.from("voice_notes").select("*").eq("is_deleted",!1).order("created_at",{ascending:!1}).limit(20);n.trim()&&(P=P.or(`action_text.ilike.%${n}%,tldr_text.ilike.%${n}%`)),u==="funny-light"?P=P.gt("humourous_count",0):u==="deep-insights"?P=P.gt("thought_provoking_count",0):u==="game-changer"?P=P.gt("game_changer_count",0):u==="creative-spark"?P=P.gt("useful_count",0):u==="aha-moments"&&(P=P.gt("informative_count",0));const{data:O,error:T}=await P;if(T)throw T;if(!O||O.length===0){o([]);return}const R=[...new Set(O.map(z=>z.user_id))],{data:A}=await je.from("user_profiles").select("id, full_name, role, company, verified").in("id",R),D=O.map((z,G)=>({...z,user_profile:(A==null?void 0:A.find(Q=>Q.id===z.user_id))||{full_name:null,role:null,company:null,verified:!1},listen_count:[149,175,199,163,128,156,142,187,134,158,171,145,192,167,139][G%15]||150}));o(D)}catch(b){console.error("Error loading voice notes:",b),m(b instanceof Error?b.message:"Failed to load voice notes")}finally{c(!1)}},x=async(b,P)=>{try{const{data:{user:O}}=await je.auth.getUser();if(!O){console.log("User not logged in - reaction would require login");return}o(A=>A.map(D=>{if(D.id===b){const z=`${P}_count`,G=D[z]||0;return{...D,[z]:G+1}}return D}));const{data:T,error:R}=await je.functions.invoke("handle-vote",{body:{voice_note_id:b,vote_type:P}});if(R)throw console.error("Vote submission error:",R),o(A=>A.map(D=>{if(D.id===b){const z=`${P}_count`,G=D[z]||0;return{...D,[z]:Math.max(0,G-1)}}return D})),R;console.log("✅ Vote submitted successfully:",T)}catch(O){console.error("Error adding reaction:",O)}},S=async b=>{try{const{data:{user:P}}=await je.auth.getUser();if(!P){console.log("User not logged in - save would require login");return}const{data:O}=await je.from("voice_note_saves").select("*").eq("user_id",P.id).eq("voice_note_id",b).maybeSingle();O?await je.from("voice_note_saves").delete().eq("id",O.id):await je.from("voice_note_saves").insert({user_id:P.id,voice_note_id:b}),o(T=>T.map(R=>R.id===b?{...R,is_saved:!R.is_saved}:R))}catch(P){console.error("Error toggling save:",P)}};return M.useEffect(()=>{y()},[u,n]),{voiceNotes:s,loading:a,error:f,totalCount:g,addReaction:x,toggleSave:S,refresh:y}}function Xg(){const[u,n]=M.useState("all"),[s,o]=M.useState(""),{voiceNotes:a,loading:c,error:f,addReaction:m,refresh:g}=vf(u,s);return c&&a.length===0?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading authentic stories..."})]})}):f?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load stories"}),h.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Try Again"})]})}):h.jsxs(h.Fragment,{children:[h.jsx(qg,{activeFilter:u,onFilterChange:n,searchQuery:s,onSearchChange:o}),h.jsx("section",{className:"py-8 px-6 bg-gray-50 min-h-screen",children:h.jsx("div",{className:"max-w-6xl mx-auto",children:a.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No stories found"}),h.jsx("p",{className:"text-gray-500",children:"Try adjusting your filter or check back later"})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(v=>h.jsx(Yg,{voiceNote:v,onReaction:y=>m(v.id,y),onDelete:()=>g()},v.id))})})})]})}function Zg(){const{totalCount:u,refresh:n}=vf();return h.jsx(Ig,{children:h.jsx(Hg,{children:h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(Ug,{}),h.jsx(zg,{totalCount:u,onVoiceNoteAdded:n}),h.jsx(Bg,{totalCount:u}),h.jsx(Xg,{}),h.jsx("footer",{className:"bg-gray-800 text-white py-8 px-6",children:h.jsx("div",{className:"max-w-6xl mx-auto text-center",children:h.jsx("p",{className:"text-gray-300",children:"© 2025 30Voice - Quality Voice Insights"})})})]})})})}jp.createRoot(document.getElementById("root")).render(h.jsx(M.StrictMode,{children:h.jsx(Ep,{children:h.jsx(Zg,{})})}));

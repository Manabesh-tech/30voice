(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Fd(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function fp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var r=u.default;if(typeof r=="function"){var s=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var l=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return u[o]}})}),s}var Gc={exports:{}},na={},Jc={exports:{}},ae={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Yc;function pp(){if(Yc)return ae;Yc=1;var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function E(S,L,ne){this.props=S,this.context=L,this.refs=R,this.updater=ne||N}E.prototype.isReactComponent={},E.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},E.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function O(){}O.prototype=E.prototype;function A(S,L,ne){this.props=S,this.context=L,this.refs=R,this.updater=ne||N}var M=A.prototype=new O;M.constructor=A,C(M,E.prototype),M.isPureReactComponent=!0;var F=Array.isArray,Z=Object.prototype.hasOwnProperty,K={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function me(S,L,ne){var se,ue={},ce=null,ye=null;if(L!=null)for(se in L.ref!==void 0&&(ye=L.ref),L.key!==void 0&&(ce=""+L.key),L)Z.call(L,se)&&!re.hasOwnProperty(se)&&(ue[se]=L[se]);var fe=arguments.length-2;if(fe===1)ue.children=ne;else if(1<fe){for(var Ne=Array(fe),ot=0;ot<fe;ot++)Ne[ot]=arguments[ot+2];ue.children=Ne}if(S&&S.defaultProps)for(se in fe=S.defaultProps,fe)ue[se]===void 0&&(ue[se]=fe[se]);return{$$typeof:u,type:S,key:ce,ref:ye,props:ue,_owner:K.current}}function he(S,L){return{$$typeof:u,type:S.type,key:L,ref:S.ref,props:S.props,_owner:S._owner}}function ge(S){return typeof S=="object"&&S!==null&&S.$$typeof===u}function ie(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(ne){return L[ne]})}var Pe=/\/+/g;function Ie(S,L){return typeof S=="object"&&S!==null&&S.key!=null?ie(""+S.key):L.toString(36)}function je(S,L,ne,se,ue){var ce=typeof S;(ce==="undefined"||ce==="boolean")&&(S=null);var ye=!1;if(S===null)ye=!0;else switch(ce){case"string":case"number":ye=!0;break;case"object":switch(S.$$typeof){case u:case r:ye=!0}}if(ye)return ye=S,ue=ue(ye),S=se===""?"."+Ie(ye,0):se,F(ue)?(ne="",S!=null&&(ne=S.replace(Pe,"$&/")+"/"),je(ue,L,ne,"",function(ot){return ot})):ue!=null&&(ge(ue)&&(ue=he(ue,ne+(!ue.key||ye&&ye.key===ue.key?"":(""+ue.key).replace(Pe,"$&/")+"/")+S)),L.push(ue)),1;if(ye=0,se=se===""?".":se+":",F(S))for(var fe=0;fe<S.length;fe++){ce=S[fe];var Ne=se+Ie(ce,fe);ye+=je(ce,L,ne,Ne,ue)}else if(Ne=_(S),typeof Ne=="function")for(S=Ne.call(S),fe=0;!(ce=S.next()).done;)ce=ce.value,Ne=se+Ie(ce,fe++),ye+=je(ce,L,ne,Ne,ue);else if(ce==="object")throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ye}function $e(S,L,ne){if(S==null)return S;var se=[],ue=0;return je(S,se,"","",function(ce){return L.call(ne,ce,ue++)}),se}function we(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(ne){(S._status===0||S._status===-1)&&(S._status=1,S._result=ne)},function(ne){(S._status===0||S._status===-1)&&(S._status=2,S._result=ne)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var xe={current:null},q={transition:null},J={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:q,ReactCurrentOwner:K};function W(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:$e,forEach:function(S,L,ne){$e(S,function(){L.apply(this,arguments)},ne)},count:function(S){var L=0;return $e(S,function(){L++}),L},toArray:function(S){return $e(S,function(L){return L})||[]},only:function(S){if(!ge(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ae.Component=E,ae.Fragment=s,ae.Profiler=l,ae.PureComponent=A,ae.StrictMode=o,ae.Suspense=g,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,ae.act=W,ae.cloneElement=function(S,L,ne){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var se=C({},S.props),ue=S.key,ce=S.ref,ye=S._owner;if(L!=null){if(L.ref!==void 0&&(ce=L.ref,ye=K.current),L.key!==void 0&&(ue=""+L.key),S.type&&S.type.defaultProps)var fe=S.type.defaultProps;for(Ne in L)Z.call(L,Ne)&&!re.hasOwnProperty(Ne)&&(se[Ne]=L[Ne]===void 0&&fe!==void 0?fe[Ne]:L[Ne])}var Ne=arguments.length-2;if(Ne===1)se.children=ne;else if(1<Ne){fe=Array(Ne);for(var ot=0;ot<Ne;ot++)fe[ot]=arguments[ot+2];se.children=fe}return{$$typeof:u,type:S.type,key:ue,ref:ce,props:se,_owner:ye}},ae.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:c,_context:S},S.Consumer=S},ae.createElement=me,ae.createFactory=function(S){var L=me.bind(null,S);return L.type=S,L},ae.createRef=function(){return{current:null}},ae.forwardRef=function(S){return{$$typeof:m,render:S}},ae.isValidElement=ge,ae.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:we}},ae.memo=function(S,L){return{$$typeof:y,type:S,compare:L===void 0?null:L}},ae.startTransition=function(S){var L=q.transition;q.transition={};try{S()}finally{q.transition=L}},ae.unstable_act=W,ae.useCallback=function(S,L){return xe.current.useCallback(S,L)},ae.useContext=function(S){return xe.current.useContext(S)},ae.useDebugValue=function(){},ae.useDeferredValue=function(S){return xe.current.useDeferredValue(S)},ae.useEffect=function(S,L){return xe.current.useEffect(S,L)},ae.useId=function(){return xe.current.useId()},ae.useImperativeHandle=function(S,L,ne){return xe.current.useImperativeHandle(S,L,ne)},ae.useInsertionEffect=function(S,L){return xe.current.useInsertionEffect(S,L)},ae.useLayoutEffect=function(S,L){return xe.current.useLayoutEffect(S,L)},ae.useMemo=function(S,L){return xe.current.useMemo(S,L)},ae.useReducer=function(S,L,ne){return xe.current.useReducer(S,L,ne)},ae.useRef=function(S){return xe.current.useRef(S)},ae.useState=function(S){return xe.current.useState(S)},ae.useSyncExternalStore=function(S,L,ne){return xe.current.useSyncExternalStore(S,L,ne)},ae.useTransition=function(){return xe.current.useTransition()},ae.version="18.3.1",ae}var Xc;function Wi(){return Xc||(Xc=1,Jc.exports=pp()),Jc.exports}/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Zc;function mp(){if(Zc)return na;Zc=1;var u=Wi(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,y){var v,w={},_=null,N=null;y!==void 0&&(_=""+y),g.key!==void 0&&(_=""+g.key),g.ref!==void 0&&(N=g.ref);for(v in g)o.call(g,v)&&!c.hasOwnProperty(v)&&(w[v]=g[v]);if(m&&m.defaultProps)for(v in g=m.defaultProps,g)w[v]===void 0&&(w[v]=g[v]);return{$$typeof:r,type:m,key:_,ref:N,props:w,_owner:l.current}}return na.Fragment=s,na.jsx=h,na.jsxs=h,na}var ed;function gp(){return ed||(ed=1,Gc.exports=mp()),Gc.exports}var f=gp(),z=Wi();const yp=Fd(z);var xs={},Si={exports:{}},at={},td={exports:{}},nd={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var rd;function vp(){return rd||(rd=1,function(u){function r(q,J){var W=q.length;q.push(J);e:for(;0<W;){var S=W-1>>>1,L=q[S];if(0<l(L,J))q[S]=J,q[W]=L,W=S;else break e}}function s(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var J=q[0],W=q.pop();if(W!==J){q[0]=W;e:for(var S=0,L=q.length,ne=L>>>1;S<ne;){var se=2*(S+1)-1,ue=q[se],ce=se+1,ye=q[ce];if(0>l(ue,W))ce<L&&0>l(ye,ue)?(q[S]=ye,q[ce]=W,S=ce):(q[S]=ue,q[se]=W,S=se);else if(ce<L&&0>l(ye,W))q[S]=ye,q[ce]=W,S=ce;else break e}}return J}function l(q,J){var W=q.sortIndex-J.sortIndex;return W!==0?W:q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;u.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();u.unstable_now=function(){return h.now()-m}}var g=[],y=[],v=1,w=null,_=3,N=!1,C=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(q){for(var J=s(y);J!==null;){if(J.callback===null)o(y);else if(J.startTime<=q)o(y),J.sortIndex=J.expirationTime,r(g,J);else break;J=s(y)}}function F(q){if(R=!1,M(q),!C)if(s(g)!==null)C=!0,we(Z);else{var J=s(y);J!==null&&xe(F,J.startTime-q)}}function Z(q,J){C=!1,R&&(R=!1,O(me),me=-1),N=!0;var W=_;try{for(M(J),w=s(g);w!==null&&(!(w.expirationTime>J)||q&&!ie());){var S=w.callback;if(typeof S=="function"){w.callback=null,_=w.priorityLevel;var L=S(w.expirationTime<=J);J=u.unstable_now(),typeof L=="function"?w.callback=L:w===s(g)&&o(g),M(J)}else o(g);w=s(g)}if(w!==null)var ne=!0;else{var se=s(y);se!==null&&xe(F,se.startTime-J),ne=!1}return ne}finally{w=null,_=W,N=!1}}var K=!1,re=null,me=-1,he=5,ge=-1;function ie(){return!(u.unstable_now()-ge<he)}function Pe(){if(re!==null){var q=u.unstable_now();ge=q;var J=!0;try{J=re(!0,q)}finally{J?Ie():(K=!1,re=null)}}else K=!1}var Ie;if(typeof A=="function")Ie=function(){A(Pe)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,$e=je.port2;je.port1.onmessage=Pe,Ie=function(){$e.postMessage(null)}}else Ie=function(){E(Pe,0)};function we(q){re=q,K||(K=!0,Ie())}function xe(q,J){me=E(function(){q(u.unstable_now())},J)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(q){q.callback=null},u.unstable_continueExecution=function(){C||N||(C=!0,we(Z))},u.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<q?Math.floor(1e3/q):5},u.unstable_getCurrentPriorityLevel=function(){return _},u.unstable_getFirstCallbackNode=function(){return s(g)},u.unstable_next=function(q){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var W=_;_=J;try{return q()}finally{_=W}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=_;_=q;try{return J()}finally{_=W}},u.unstable_scheduleCallback=function(q,J,W){var S=u.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?S+W:S):W=S,q){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,q={id:v++,callback:J,priorityLevel:q,startTime:W,expirationTime:L,sortIndex:-1},W>S?(q.sortIndex=W,r(y,q),s(g)===null&&q===s(y)&&(R?(O(me),me=-1):R=!0,xe(F,W-S))):(q.sortIndex=L,r(g,q),C||N||(C=!0,we(Z))),q},u.unstable_shouldYield=ie,u.unstable_wrapCallback=function(q){var J=_;return function(){var W=_;_=J;try{return q.apply(this,arguments)}finally{_=W}}}}(nd)),nd}var ad;function bp(){return ad||(ad=1,td.exports=vp()),td.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var sd;function wp(){if(sd)return at;sd=1;var u=Wi(),r=bp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(e){return g.call(w,e)?!0:g.call(v,e)?!1:y.test(e)?w[e]=!0:(v[e]=!0,!1)}function N(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,n,a){if(t===null||typeof t>"u"||N(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,n,a,i,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];E[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O,A);E[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O,A);E[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O,A);E[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function M(e,t,n,a){var i=E.hasOwnProperty(t)?E[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,n,i,a)&&(n=null),a||i===null?_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,a=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var F=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),K=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),ie=Symbol.for("react.context"),Pe=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),q=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,S;function L(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var ne=!1;function se(e,t){if(!e||ne)return"";ne=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var i=P.stack.split(`
`),d=a.stack.split(`
`),p=i.length-1,b=d.length-1;1<=p&&0<=b&&i[p]!==d[b];)b--;for(;1<=p&&0<=b;p--,b--)if(i[p]!==d[b]){if(p!==1||b!==1)do if(p--,b--,0>b||i[p]!==d[b]){var x=`
`+i[p].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=p&&0<=b);break}}}finally{ne=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function ue(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case K:return"Portal";case he:return"Profiler";case me:return"StrictMode";case Ie:return"Suspense";case je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ie:return(e.displayName||"Context")+".Consumer";case ge:return(e._context.displayName||"Context")+".Provider";case Pe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $e:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ye(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===me?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ne(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ot(e){var t=Ne(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function da(e){e._valueTracker||(e._valueTracker=ot(e))}function el(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ne(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function ha(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Os(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tl(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=fe(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nl(e,t){t=t.checked,t!=null&&M(e,"checked",t,!1)}function Rs(e,t){nl(e,t);var n=fe(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?As(e,t.type,n):t.hasOwnProperty("defaultValue")&&As(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function As(e,t,n){(t!=="number"||ha(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yr=Array.isArray;function Rn(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+fe(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Is(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function al(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(yr(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fe(n)}}function sl(e,t){var n=fe(t.value),a=fe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function ol(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function il(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ls(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?il(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fa,ll=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gh=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(e){gh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),br[t]=br[e]})});function ul(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||br.hasOwnProperty(e)&&br[e]?(""+t).trim():t+"px"}function cl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,i=ul(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,i):e[n]=i}}var yh=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $s(e,t){if(t){if(yh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ds(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Us=null,An=null,In=null;function dl(e){if(e=Fr(e)){if(typeof Us!="function")throw Error(s(280));var t=e.stateNode;t&&(t=$a(t),Us(e.stateNode,e.type,t))}}function hl(e){An?In?In.push(e):In=[e]:An=e}function fl(){if(An){var e=An,t=In;if(In=An=null,dl(e),t)for(e=0;e<t.length;e++)dl(t[e])}}function pl(e,t){return e(t)}function ml(){}var Fs=!1;function gl(e,t,n){if(Fs)return e(t,n);Fs=!0;try{return pl(e,t,n)}finally{Fs=!1,(An!==null||In!==null)&&(ml(),fl())}}function wr(e,t){var n=e.stateNode;if(n===null)return null;var a=$a(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var qs=!1;if(m)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){qs=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{qs=!1}function vh(e,t,n,a,i,d,p,b,x){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch($){this.onError($)}}var kr=!1,pa=null,ma=!1,Bs=null,bh={onError:function(e){kr=!0,pa=e}};function wh(e,t,n,a,i,d,p,b,x){kr=!1,pa=null,vh.apply(bh,arguments)}function xh(e,t,n,a,i,d,p,b,x){if(wh.apply(this,arguments),kr){if(kr){var P=pa;kr=!1,pa=null}else throw Error(s(198));ma||(ma=!0,Bs=P)}}function pn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vl(e){if(pn(e)!==e)throw Error(s(188))}function kh(e){var t=e.alternate;if(!t){if(t=pn(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var d=i.alternate;if(d===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===n)return vl(i),e;if(d===a)return vl(i),t;d=d.sibling}throw Error(s(188))}if(n.return!==a.return)n=i,a=d;else{for(var p=!1,b=i.child;b;){if(b===n){p=!0,n=i,a=d;break}if(b===a){p=!0,a=i,n=d;break}b=b.sibling}if(!p){for(b=d.child;b;){if(b===n){p=!0,n=d,a=i;break}if(b===a){p=!0,a=d,n=i;break}b=b.sibling}if(!p)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function bl(e){return e=kh(e),e!==null?wl(e):null}function wl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wl(e);if(t!==null)return t;e=e.sibling}return null}var xl=r.unstable_scheduleCallback,kl=r.unstable_cancelCallback,_h=r.unstable_shouldYield,Sh=r.unstable_requestPaint,Re=r.unstable_now,jh=r.unstable_getCurrentPriorityLevel,Ws=r.unstable_ImmediatePriority,_l=r.unstable_UserBlockingPriority,ga=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Sl=r.unstable_IdlePriority,ya=null,Tt=null;function Th(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:Ch,Ph=Math.log,Eh=Math.LN2;function Ch(e){return e>>>=0,e===0?32:31-(Ph(e)/Eh|0)|0}var va=64,ba=4194304;function _r(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wa(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,d=e.pingedLanes,p=n&268435455;if(p!==0){var b=p&~i;b!==0?a=_r(b):(d&=p,d!==0&&(a=_r(d)))}else p=n&~i,p!==0?a=_r(p):d!==0&&(a=_r(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&i)===0&&(i=a&-a,d=t&-t,i>=d||i===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-vt(t),i=1<<n,a|=e[n],t&=~i;return a}function Oh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rh(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-vt(d),b=1<<p,x=i[p];x===-1?((b&n)===0||(b&a)!==0)&&(i[p]=Oh(b,t)):x<=t&&(e.expiredLanes|=b),d&=~b}}function Vs(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jl(){var e=va;return va<<=1,(va&4194240)===0&&(va=64),e}function Hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Sr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function Ah(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-vt(n),d=1<<i;t[i]=0,a[i]=-1,e[i]=-1,n&=~d}}function Ks(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-vt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}var pe=0;function Nl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Tl,Qs,Pl,El,Cl,Gs=!1,xa=[],Bt=null,Wt=null,Vt=null,jr=new Map,Nr=new Map,Ht=[],Ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ol(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(t.pointerId)}}function Tr(e,t,n,a,i,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:d,targetContainers:[i]},t!==null&&(t=Fr(t),t!==null&&Qs(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Lh(e,t,n,a,i){switch(t){case"focusin":return Bt=Tr(Bt,e,t,n,a,i),!0;case"dragenter":return Wt=Tr(Wt,e,t,n,a,i),!0;case"mouseover":return Vt=Tr(Vt,e,t,n,a,i),!0;case"pointerover":var d=i.pointerId;return jr.set(d,Tr(jr.get(d)||null,e,t,n,a,i)),!0;case"gotpointercapture":return d=i.pointerId,Nr.set(d,Tr(Nr.get(d)||null,e,t,n,a,i)),!0}return!1}function Rl(e){var t=mn(e.target);if(t!==null){var n=pn(t);if(n!==null){if(t=n.tag,t===13){if(t=yl(n),t!==null){e.blockedOn=t,Cl(e.priority,function(){Pl(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ys(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);zs=a,n.target.dispatchEvent(a),zs=null}else return t=Fr(n),t!==null&&Qs(t),e.blockedOn=n,!1;t.shift()}return!0}function Al(e,t,n){ka(e)&&n.delete(t)}function $h(){Gs=!1,Bt!==null&&ka(Bt)&&(Bt=null),Wt!==null&&ka(Wt)&&(Wt=null),Vt!==null&&ka(Vt)&&(Vt=null),jr.forEach(Al),Nr.forEach(Al)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,Gs||(Gs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$h)))}function Er(e){function t(i){return Pr(i,e)}if(0<xa.length){Pr(xa[0],e);for(var n=1;n<xa.length;n++){var a=xa[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Bt!==null&&Pr(Bt,e),Wt!==null&&Pr(Wt,e),Vt!==null&&Pr(Vt,e),jr.forEach(t),Nr.forEach(t),n=0;n<Ht.length;n++)a=Ht[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ht.length&&(n=Ht[0],n.blockedOn===null);)Rl(n),n.blockedOn===null&&Ht.shift()}var Ln=F.ReactCurrentBatchConfig,_a=!0;function Dh(e,t,n,a){var i=pe,d=Ln.transition;Ln.transition=null;try{pe=1,Js(e,t,n,a)}finally{pe=i,Ln.transition=d}}function zh(e,t,n,a){var i=pe,d=Ln.transition;Ln.transition=null;try{pe=4,Js(e,t,n,a)}finally{pe=i,Ln.transition=d}}function Js(e,t,n,a){if(_a){var i=Ys(e,t,n,a);if(i===null)mo(e,t,a,Sa,n),Ol(e,a);else if(Lh(i,e,t,n,a))a.stopPropagation();else if(Ol(e,a),t&4&&-1<Ih.indexOf(e)){for(;i!==null;){var d=Fr(i);if(d!==null&&Tl(d),d=Ys(e,t,n,a),d===null&&mo(e,t,a,Sa,n),d===i)break;i=d}i!==null&&a.stopPropagation()}else mo(e,t,a,null,n)}}var Sa=null;function Ys(e,t,n,a){if(Sa=null,e=Ms(a),e=mn(e),e!==null)if(t=pn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yl(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sa=e,null}function Il(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jh()){case Ws:return 1;case _l:return 4;case ga:case Nh:return 16;case Sl:return 536870912;default:return 16}default:return 16}}var Kt=null,Xs=null,ja=null;function Ll(){if(ja)return ja;var e,t=Xs,n=t.length,a,i="value"in Kt?Kt.value:Kt.textContent,d=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[d-a];a++);return ja=i.slice(e,1<a?1-a:void 0)}function Na(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ta(){return!0}function $l(){return!1}function it(e){function t(n,a,i,d,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ta:$l,this.isPropagationStopped=$l,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),t}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=it($n),Cr=W({},$n,{view:0,detail:0}),Mh=it(Cr),eo,to,Or,Pa=W({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Or&&(Or&&e.type==="mousemove"?(eo=e.screenX-Or.screenX,to=e.screenY-Or.screenY):to=eo=0,Or=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),Dl=it(Pa),Uh=W({},Pa,{dataTransfer:0}),Fh=it(Uh),qh=W({},Cr,{relatedTarget:0}),no=it(qh),Bh=W({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Wh=it(Bh),Vh=W({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hh=it(Vh),Kh=W({},$n,{data:0}),zl=it(Kh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jh[e])?!!t[e]:!1}function ro(){return Yh}var Xh=W({},Cr,{key:function(e){if(e.key){var t=Qh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Na(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(e){return e.type==="keypress"?Na(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Na(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zh=it(Xh),ef=W({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=it(ef),tf=W({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),nf=it(tf),rf=W({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),af=it(rf),sf=W({},Pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),of=it(sf),lf=[9,13,27,32],ao=m&&"CompositionEvent"in window,Rr=null;m&&"documentMode"in document&&(Rr=document.documentMode);var uf=m&&"TextEvent"in window&&!Rr,Ul=m&&(!ao||Rr&&8<Rr&&11>=Rr),Fl=" ",ql=!1;function Bl(e,t){switch(e){case"keyup":return lf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function cf(e,t){switch(e){case"compositionend":return Wl(t);case"keypress":return t.which!==32?null:(ql=!0,Fl);case"textInput":return e=t.data,e===Fl&&ql?null:e;default:return null}}function df(e,t){if(Dn)return e==="compositionend"||!ao&&Bl(e,t)?(e=Ll(),ja=Xs=Kt=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ul&&t.locale!=="ko"?null:t.data;default:return null}}var hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hf[e.type]:t==="textarea"}function Hl(e,t,n,a){hl(a),t=Aa(t,"onChange"),0<t.length&&(n=new Zs("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Ar=null,Ir=null;function ff(e){cu(e,0)}function Ea(e){var t=qn(e);if(el(t))return e}function pf(e,t){if(e==="change")return t}var Kl=!1;if(m){var so;if(m){var oo="oninput"in document;if(!oo){var Ql=document.createElement("div");Ql.setAttribute("oninput","return;"),oo=typeof Ql.oninput=="function"}so=oo}else so=!1;Kl=so&&(!document.documentMode||9<document.documentMode)}function Gl(){Ar&&(Ar.detachEvent("onpropertychange",Jl),Ir=Ar=null)}function Jl(e){if(e.propertyName==="value"&&Ea(Ir)){var t=[];Hl(t,Ir,e,Ms(e)),gl(ff,t)}}function mf(e,t,n){e==="focusin"?(Gl(),Ar=t,Ir=n,Ar.attachEvent("onpropertychange",Jl)):e==="focusout"&&Gl()}function gf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(Ir)}function yf(e,t){if(e==="click")return Ea(t)}function vf(e,t){if(e==="input"||e==="change")return Ea(t)}function bf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:bf;function Lr(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!g.call(t,i)||!bt(e[i],t[i]))return!1}return!0}function Yl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xl(e,t){var n=Yl(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yl(n)}}function Zl(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zl(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eu(){for(var e=window,t=ha();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ha(e.document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wf(e){var t=eu(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zl(n.ownerDocument.documentElement,n)){if(a!==null&&io(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,d=Math.min(a.start,i);a=a.end===void 0?d:Math.min(a.end,i),!e.extend&&d>a&&(i=a,a=d,d=i),i=Xl(n,d);var p=Xl(n,a);i&&p&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xf=m&&"documentMode"in document&&11>=document.documentMode,zn=null,lo=null,$r=null,uo=!1;function tu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uo||zn==null||zn!==ha(a)||(a=zn,"selectionStart"in a&&io(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),$r&&Lr($r,a)||($r=a,a=Aa(lo,"onSelect"),0<a.length&&(t=new Zs("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=zn)))}function Ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},co={},nu={};m&&(nu=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function Oa(e){if(co[e])return co[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nu)return co[e]=t[n];return e}var ru=Oa("animationend"),au=Oa("animationiteration"),su=Oa("animationstart"),ou=Oa("transitionend"),iu=new Map,lu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){iu.set(e,t),c(t,[e])}for(var ho=0;ho<lu.length;ho++){var fo=lu[ho],kf=fo.toLowerCase(),_f=fo[0].toUpperCase()+fo.slice(1);Qt(kf,"on"+_f)}Qt(ru,"onAnimationEnd"),Qt(au,"onAnimationIteration"),Qt(su,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(ou,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function uu(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,xh(a,t,void 0,e),e.currentTarget=null}function cu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var p=a.length-1;0<=p;p--){var b=a[p],x=b.instance,P=b.currentTarget;if(b=b.listener,x!==d&&i.isPropagationStopped())break e;uu(i,b,P),d=x}else for(p=0;p<a.length;p++){if(b=a[p],x=b.instance,P=b.currentTarget,b=b.listener,x!==d&&i.isPropagationStopped())break e;uu(i,b,P),d=x}}}if(ma)throw e=Bs,ma=!1,Bs=null,e}function ke(e,t){var n=t[xo];n===void 0&&(n=t[xo]=new Set);var a=e+"__bubble";n.has(a)||(du(t,e,2,!1),n.add(a))}function po(e,t,n){var a=0;t&&(a|=4),du(n,e,a,t)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ra]){e[Ra]=!0,o.forEach(function(n){n!=="selectionchange"&&(Sf.has(n)||po(n,!1,e),po(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ra]||(t[Ra]=!0,po("selectionchange",!1,t))}}function du(e,t,n,a){switch(Il(t)){case 1:var i=Dh;break;case 4:i=zh;break;default:i=Js}n=i.bind(null,t,n,e),i=void 0,!qs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mo(e,t,n,a,i){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var b=a.stateNode.containerInfo;if(b===i||b.nodeType===8&&b.parentNode===i)break;if(p===4)for(p=a.return;p!==null;){var x=p.tag;if((x===3||x===4)&&(x=p.stateNode.containerInfo,x===i||x.nodeType===8&&x.parentNode===i))return;p=p.return}for(;b!==null;){if(p=mn(b),p===null)return;if(x=p.tag,x===5||x===6){a=d=p;continue e}b=b.parentNode}}a=a.return}gl(function(){var P=d,$=Ms(n),D=[];e:{var I=iu.get(e);if(I!==void 0){var B=Zs,H=e;switch(e){case"keypress":if(Na(n)===0)break e;case"keydown":case"keyup":B=Zh;break;case"focusin":H="focus",B=no;break;case"focusout":H="blur",B=no;break;case"beforeblur":case"afterblur":B=no;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=nf;break;case ru:case au:case su:B=Wh;break;case ou:B=af;break;case"scroll":B=Mh;break;case"wheel":B=of;break;case"copy":case"cut":case"paste":B=Hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ml}var Q=(t&4)!==0,Ae=!Q&&e==="scroll",j=Q?I!==null?I+"Capture":null:I;Q=[];for(var k=P,T;k!==null;){T=k;var U=T.stateNode;if(T.tag===5&&U!==null&&(T=U,j!==null&&(U=wr(k,j),U!=null&&Q.push(Mr(k,U,T)))),Ae)break;k=k.return}0<Q.length&&(I=new B(I,H,null,n,$),D.push({event:I,listeners:Q}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",I&&n!==zs&&(H=n.relatedTarget||n.fromElement)&&(mn(H)||H[Rt]))break e;if((B||I)&&(I=$.window===$?$:(I=$.ownerDocument)?I.defaultView||I.parentWindow:window,B?(H=n.relatedTarget||n.toElement,B=P,H=H?mn(H):null,H!==null&&(Ae=pn(H),H!==Ae||H.tag!==5&&H.tag!==6)&&(H=null)):(B=null,H=P),B!==H)){if(Q=Dl,U="onMouseLeave",j="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(Q=Ml,U="onPointerLeave",j="onPointerEnter",k="pointer"),Ae=B==null?I:qn(B),T=H==null?I:qn(H),I=new Q(U,k+"leave",B,n,$),I.target=Ae,I.relatedTarget=T,U=null,mn($)===P&&(Q=new Q(j,k+"enter",H,n,$),Q.target=T,Q.relatedTarget=Ae,U=Q),Ae=U,B&&H)t:{for(Q=B,j=H,k=0,T=Q;T;T=Un(T))k++;for(T=0,U=j;U;U=Un(U))T++;for(;0<k-T;)Q=Un(Q),k--;for(;0<T-k;)j=Un(j),T--;for(;k--;){if(Q===j||j!==null&&Q===j.alternate)break t;Q=Un(Q),j=Un(j)}Q=null}else Q=null;B!==null&&hu(D,I,B,Q,!1),H!==null&&Ae!==null&&hu(D,Ae,H,Q,!0)}}e:{if(I=P?qn(P):window,B=I.nodeName&&I.nodeName.toLowerCase(),B==="select"||B==="input"&&I.type==="file")var G=pf;else if(Vl(I))if(Kl)G=vf;else{G=gf;var Y=mf}else(B=I.nodeName)&&B.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(G=yf);if(G&&(G=G(e,P))){Hl(D,G,n,$);break e}Y&&Y(e,I,P),e==="focusout"&&(Y=I._wrapperState)&&Y.controlled&&I.type==="number"&&As(I,"number",I.value)}switch(Y=P?qn(P):window,e){case"focusin":(Vl(Y)||Y.contentEditable==="true")&&(zn=Y,lo=P,$r=null);break;case"focusout":$r=lo=zn=null;break;case"mousedown":uo=!0;break;case"contextmenu":case"mouseup":case"dragend":uo=!1,tu(D,n,$);break;case"selectionchange":if(xf)break;case"keydown":case"keyup":tu(D,n,$)}var X;if(ao)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Dn?Bl(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(Ul&&n.locale!=="ko"&&(Dn||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Dn&&(X=Ll()):(Kt=$,Xs="value"in Kt?Kt.value:Kt.textContent,Dn=!0)),Y=Aa(P,ee),0<Y.length&&(ee=new zl(ee,e,null,n,$),D.push({event:ee,listeners:Y}),X?ee.data=X:(X=Wl(n),X!==null&&(ee.data=X)))),(X=uf?cf(e,n):df(e,n))&&(P=Aa(P,"onBeforeInput"),0<P.length&&($=new zl("onBeforeInput","beforeinput",null,n,$),D.push({event:$,listeners:P}),$.data=X))}cu(D,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Aa(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,d=i.stateNode;i.tag===5&&d!==null&&(i=d,d=wr(e,n),d!=null&&a.unshift(Mr(e,d,i)),d=wr(e,t),d!=null&&a.push(Mr(e,d,i))),e=e.return}return a}function Un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hu(e,t,n,a,i){for(var d=t._reactName,p=[];n!==null&&n!==a;){var b=n,x=b.alternate,P=b.stateNode;if(x!==null&&x===a)break;b.tag===5&&P!==null&&(b=P,i?(x=wr(n,d),x!=null&&p.unshift(Mr(n,x,b))):i||(x=wr(n,d),x!=null&&p.push(Mr(n,x,b)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var jf=/\r\n?/g,Nf=/\u0000|\uFFFD/g;function fu(e){return(typeof e=="string"?e:""+e).replace(jf,`
`).replace(Nf,"")}function Ia(e,t,n){if(t=fu(t),fu(e)!==t&&n)throw Error(s(425))}function La(){}var go=null,yo=null;function vo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bo=typeof setTimeout=="function"?setTimeout:void 0,Tf=typeof clearTimeout=="function"?clearTimeout:void 0,pu=typeof Promise=="function"?Promise:void 0,Pf=typeof queueMicrotask=="function"?queueMicrotask:typeof pu<"u"?function(e){return pu.resolve(null).then(e).catch(Ef)}:bo;function Ef(e){setTimeout(function(){throw e})}function wo(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(a===0){e.removeChild(i),Er(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=i}while(n);Er(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fn=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Fn,Ur="__reactProps$"+Fn,Rt="__reactContainer$"+Fn,xo="__reactEvents$"+Fn,Cf="__reactListeners$"+Fn,Of="__reactHandles$"+Fn;function mn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mu(e);e!==null;){if(n=e[Pt])return n;e=mu(e)}return t}e=n,n=e.parentNode}return null}function Fr(e){return e=e[Pt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function $a(e){return e[Ur]||null}var ko=[],Bn=-1;function Jt(e){return{current:e}}function _e(e){0>Bn||(e.current=ko[Bn],ko[Bn]=null,Bn--)}function ve(e,t){Bn++,ko[Bn]=e.current,e.current=t}var Yt={},He=Jt(Yt),Ze=Jt(!1),gn=Yt;function Wn(e,t){var n=e.type.contextTypes;if(!n)return Yt;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},d;for(d in n)i[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function et(e){return e=e.childContextTypes,e!=null}function Da(){_e(Ze),_e(He)}function gu(e,t,n){if(He.current!==Yt)throw Error(s(168));ve(He,t),ve(Ze,n)}function yu(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(s(108,ye(e)||"Unknown",i));return W({},n,a)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,gn=He.current,ve(He,e),ve(Ze,Ze.current),!0}function vu(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=yu(e,t,gn),a.__reactInternalMemoizedMergedChildContext=e,_e(Ze),_e(He),ve(He,e)):_e(Ze),ve(Ze,n)}var At=null,Ma=!1,_o=!1;function bu(e){At===null?At=[e]:At.push(e)}function Rf(e){Ma=!0,bu(e)}function Xt(){if(!_o&&At!==null){_o=!0;var e=0,t=pe;try{var n=At;for(pe=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}At=null,Ma=!1}catch(i){throw At!==null&&(At=At.slice(e+1)),xl(Ws,Xt),i}finally{pe=t,_o=!1}}return null}var Vn=[],Hn=0,Ua=null,Fa=0,ht=[],ft=0,yn=null,It=1,Lt="";function vn(e,t){Vn[Hn++]=Fa,Vn[Hn++]=Ua,Ua=e,Fa=t}function wu(e,t,n){ht[ft++]=It,ht[ft++]=Lt,ht[ft++]=yn,yn=e;var a=It;e=Lt;var i=32-vt(a)-1;a&=~(1<<i),n+=1;var d=32-vt(t)+i;if(30<d){var p=i-i%5;d=(a&(1<<p)-1).toString(32),a>>=p,i-=p,It=1<<32-vt(t)+i|n<<i|a,Lt=d+e}else It=1<<d|n<<i|a,Lt=e}function So(e){e.return!==null&&(vn(e,1),wu(e,1,0))}function jo(e){for(;e===Ua;)Ua=Vn[--Hn],Vn[Hn]=null,Fa=Vn[--Hn],Vn[Hn]=null;for(;e===yn;)yn=ht[--ft],ht[ft]=null,Lt=ht[--ft],ht[ft]=null,It=ht[--ft],ht[ft]=null}var lt=null,ut=null,Te=!1,wt=null;function xu(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ku(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,ut=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yn!==null?{id:It,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,ut=null,!0):!1;default:return!1}}function No(e){return(e.mode&1)!==0&&(e.flags&128)===0}function To(e){if(Te){var t=ut;if(t){var n=t;if(!ku(e,t)){if(No(e))throw Error(s(418));t=Gt(n.nextSibling);var a=lt;t&&ku(e,t)?xu(a,n):(e.flags=e.flags&-4097|2,Te=!1,lt=e)}}else{if(No(e))throw Error(s(418));e.flags=e.flags&-4097|2,Te=!1,lt=e}}}function _u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function qa(e){if(e!==lt)return!1;if(!Te)return _u(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vo(e.type,e.memoizedProps)),t&&(t=ut)){if(No(e))throw Su(),Error(s(418));for(;t;)xu(e,t),t=Gt(t.nextSibling)}if(_u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=lt?Gt(e.stateNode.nextSibling):null;return!0}function Su(){for(var e=ut;e;)e=Gt(e.nextSibling)}function Kn(){ut=lt=null,Te=!1}function Po(e){wt===null?wt=[e]:wt.push(e)}var Af=F.ReactCurrentBatchConfig;function qr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var i=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var b=i.refs;p===null?delete b[d]:b[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ju(e){var t=e._init;return t(e._payload)}function Nu(e){function t(j,k){if(e){var T=j.deletions;T===null?(j.deletions=[k],j.flags|=16):T.push(k)}}function n(j,k){if(!e)return null;for(;k!==null;)t(j,k),k=k.sibling;return null}function a(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function i(j,k){return j=on(j,k),j.index=0,j.sibling=null,j}function d(j,k,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<k?(j.flags|=2,k):T):(j.flags|=2,k)):(j.flags|=1048576,k)}function p(j){return e&&j.alternate===null&&(j.flags|=2),j}function b(j,k,T,U){return k===null||k.tag!==6?(k=vi(T,j.mode,U),k.return=j,k):(k=i(k,T),k.return=j,k)}function x(j,k,T,U){var G=T.type;return G===re?$(j,k,T.props.children,U,T.key):k!==null&&(k.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===we&&ju(G)===k.type)?(U=i(k,T.props),U.ref=qr(j,k,T),U.return=j,U):(U=fs(T.type,T.key,T.props,null,j.mode,U),U.ref=qr(j,k,T),U.return=j,U)}function P(j,k,T,U){return k===null||k.tag!==4||k.stateNode.containerInfo!==T.containerInfo||k.stateNode.implementation!==T.implementation?(k=bi(T,j.mode,U),k.return=j,k):(k=i(k,T.children||[]),k.return=j,k)}function $(j,k,T,U,G){return k===null||k.tag!==7?(k=Nn(T,j.mode,U,G),k.return=j,k):(k=i(k,T),k.return=j,k)}function D(j,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return k=vi(""+k,j.mode,T),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Z:return T=fs(k.type,k.key,k.props,null,j.mode,T),T.ref=qr(j,null,k),T.return=j,T;case K:return k=bi(k,j.mode,T),k.return=j,k;case we:var U=k._init;return D(j,U(k._payload),T)}if(yr(k)||J(k))return k=Nn(k,j.mode,T,null),k.return=j,k;Ba(j,k)}return null}function I(j,k,T,U){var G=k!==null?k.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return G!==null?null:b(j,k,""+T,U);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Z:return T.key===G?x(j,k,T,U):null;case K:return T.key===G?P(j,k,T,U):null;case we:return G=T._init,I(j,k,G(T._payload),U)}if(yr(T)||J(T))return G!==null?null:$(j,k,T,U,null);Ba(j,T)}return null}function B(j,k,T,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return j=j.get(T)||null,b(k,j,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Z:return j=j.get(U.key===null?T:U.key)||null,x(k,j,U,G);case K:return j=j.get(U.key===null?T:U.key)||null,P(k,j,U,G);case we:var Y=U._init;return B(j,k,T,Y(U._payload),G)}if(yr(U)||J(U))return j=j.get(T)||null,$(k,j,U,G,null);Ba(k,U)}return null}function H(j,k,T,U){for(var G=null,Y=null,X=k,ee=k=0,Fe=null;X!==null&&ee<T.length;ee++){X.index>ee?(Fe=X,X=null):Fe=X.sibling;var de=I(j,X,T[ee],U);if(de===null){X===null&&(X=Fe);break}e&&X&&de.alternate===null&&t(j,X),k=d(de,k,ee),Y===null?G=de:Y.sibling=de,Y=de,X=Fe}if(ee===T.length)return n(j,X),Te&&vn(j,ee),G;if(X===null){for(;ee<T.length;ee++)X=D(j,T[ee],U),X!==null&&(k=d(X,k,ee),Y===null?G=X:Y.sibling=X,Y=X);return Te&&vn(j,ee),G}for(X=a(j,X);ee<T.length;ee++)Fe=B(X,j,ee,T[ee],U),Fe!==null&&(e&&Fe.alternate!==null&&X.delete(Fe.key===null?ee:Fe.key),k=d(Fe,k,ee),Y===null?G=Fe:Y.sibling=Fe,Y=Fe);return e&&X.forEach(function(ln){return t(j,ln)}),Te&&vn(j,ee),G}function Q(j,k,T,U){var G=J(T);if(typeof G!="function")throw Error(s(150));if(T=G.call(T),T==null)throw Error(s(151));for(var Y=G=null,X=k,ee=k=0,Fe=null,de=T.next();X!==null&&!de.done;ee++,de=T.next()){X.index>ee?(Fe=X,X=null):Fe=X.sibling;var ln=I(j,X,de.value,U);if(ln===null){X===null&&(X=Fe);break}e&&X&&ln.alternate===null&&t(j,X),k=d(ln,k,ee),Y===null?G=ln:Y.sibling=ln,Y=ln,X=Fe}if(de.done)return n(j,X),Te&&vn(j,ee),G;if(X===null){for(;!de.done;ee++,de=T.next())de=D(j,de.value,U),de!==null&&(k=d(de,k,ee),Y===null?G=de:Y.sibling=de,Y=de);return Te&&vn(j,ee),G}for(X=a(j,X);!de.done;ee++,de=T.next())de=B(X,j,ee,de.value,U),de!==null&&(e&&de.alternate!==null&&X.delete(de.key===null?ee:de.key),k=d(de,k,ee),Y===null?G=de:Y.sibling=de,Y=de);return e&&X.forEach(function(hp){return t(j,hp)}),Te&&vn(j,ee),G}function Ae(j,k,T,U){if(typeof T=="object"&&T!==null&&T.type===re&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Z:e:{for(var G=T.key,Y=k;Y!==null;){if(Y.key===G){if(G=T.type,G===re){if(Y.tag===7){n(j,Y.sibling),k=i(Y,T.props.children),k.return=j,j=k;break e}}else if(Y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===we&&ju(G)===Y.type){n(j,Y.sibling),k=i(Y,T.props),k.ref=qr(j,Y,T),k.return=j,j=k;break e}n(j,Y);break}else t(j,Y);Y=Y.sibling}T.type===re?(k=Nn(T.props.children,j.mode,U,T.key),k.return=j,j=k):(U=fs(T.type,T.key,T.props,null,j.mode,U),U.ref=qr(j,k,T),U.return=j,j=U)}return p(j);case K:e:{for(Y=T.key;k!==null;){if(k.key===Y)if(k.tag===4&&k.stateNode.containerInfo===T.containerInfo&&k.stateNode.implementation===T.implementation){n(j,k.sibling),k=i(k,T.children||[]),k.return=j,j=k;break e}else{n(j,k);break}else t(j,k);k=k.sibling}k=bi(T,j.mode,U),k.return=j,j=k}return p(j);case we:return Y=T._init,Ae(j,k,Y(T._payload),U)}if(yr(T))return H(j,k,T,U);if(J(T))return Q(j,k,T,U);Ba(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,k!==null&&k.tag===6?(n(j,k.sibling),k=i(k,T),k.return=j,j=k):(n(j,k),k=vi(T,j.mode,U),k.return=j,j=k),p(j)):n(j,k)}return Ae}var Qn=Nu(!0),Tu=Nu(!1),Wa=Jt(null),Va=null,Gn=null,Eo=null;function Co(){Eo=Gn=Va=null}function Oo(e){var t=Wa.current;_e(Wa),e._currentValue=t}function Ro(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Jn(e,t){Va=e,Eo=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(tt=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(Va===null)throw Error(s(308));Gn=e,Va.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var bn=null;function Ao(e){bn===null?bn=[e]:bn.push(e)}function Pu(e,t,n,a){var i=t.interleaved;return i===null?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,$t(e,a)}function $t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zt=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function en(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(le&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,$t(e,n)}return i=a.interleaved,i===null?(t.next=t,Ao(a)):(t.next=i.next,i.next=t),a.interleaved=t,$t(e,n)}function Ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ks(e,n)}}function Cu(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?i=d=p:d=d.next=p,n=n.next}while(n!==null);d===null?i=d=t:d=d.next=t}else i=d=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ka(e,t,n,a){var i=e.updateQueue;Zt=!1;var d=i.firstBaseUpdate,p=i.lastBaseUpdate,b=i.shared.pending;if(b!==null){i.shared.pending=null;var x=b,P=x.next;x.next=null,p===null?d=P:p.next=P,p=x;var $=e.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==p&&(b===null?$.firstBaseUpdate=P:b.next=P,$.lastBaseUpdate=x))}if(d!==null){var D=i.baseState;p=0,$=P=x=null,b=d;do{var I=b.lane,B=b.eventTime;if((a&I)===I){$!==null&&($=$.next={eventTime:B,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var H=e,Q=b;switch(I=t,B=n,Q.tag){case 1:if(H=Q.payload,typeof H=="function"){D=H.call(B,D,I);break e}D=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=Q.payload,I=typeof H=="function"?H.call(B,D,I):H,I==null)break e;D=W({},D,I);break e;case 2:Zt=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,I=i.effects,I===null?i.effects=[b]:I.push(b))}else B={eventTime:B,lane:I,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(P=$=B,x=D):$=$.next=B,p|=I;if(b=b.next,b===null){if(b=i.shared.pending,b===null)break;I=b,b=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);if($===null&&(x=D),i.baseState=x,i.firstBaseUpdate=P,i.lastBaseUpdate=$,t=i.shared.interleaved,t!==null){i=t;do p|=i.lane,i=i.next;while(i!==t)}else d===null&&(i.shared.lanes=0);kn|=p,e.lanes=p,e.memoizedState=D}}function Ou(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],i=a.callback;if(i!==null){if(a.callback=null,a=n,typeof i!="function")throw Error(s(191,i));i.call(a)}}}var Br={},Et=Jt(Br),Wr=Jt(Br),Vr=Jt(Br);function wn(e){if(e===Br)throw Error(s(174));return e}function Lo(e,t){switch(ve(Vr,t),ve(Wr,e),ve(Et,Br),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ls(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ls(t,e)}_e(Et),ve(Et,t)}function Yn(){_e(Et),_e(Wr),_e(Vr)}function Ru(e){wn(Vr.current);var t=wn(Et.current),n=Ls(t,e.type);t!==n&&(ve(Wr,e),ve(Et,n))}function $o(e){Wr.current===e&&(_e(Et),_e(Wr))}var Ee=Jt(0);function Qa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Do=[];function zo(){for(var e=0;e<Do.length;e++)Do[e]._workInProgressVersionPrimary=null;Do.length=0}var Ga=F.ReactCurrentDispatcher,Mo=F.ReactCurrentBatchConfig,xn=0,Ce=null,De=null,Me=null,Ja=!1,Hr=!1,Kr=0,If=0;function Ke(){throw Error(s(321))}function Uo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function Fo(e,t,n,a,i,d){if(xn=d,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=e===null||e.memoizedState===null?zf:Mf,e=n(a,i),Hr){d=0;do{if(Hr=!1,Kr=0,25<=d)throw Error(s(301));d+=1,Me=De=null,t.updateQueue=null,Ga.current=Uf,e=n(a,i)}while(Hr)}if(Ga.current=Za,t=De!==null&&De.next!==null,xn=0,Me=De=Ce=null,Ja=!1,t)throw Error(s(300));return e}function qo(){var e=Kr!==0;return Kr=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ce.memoizedState=Me=e:Me=Me.next=e,Me}function mt(){if(De===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Me===null?Ce.memoizedState:Me.next;if(t!==null)Me=t,De=e;else{if(e===null)throw Error(s(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Me===null?Ce.memoizedState=Me=e:Me=Me.next=e}return Me}function Qr(e,t){return typeof t=="function"?t(e):t}function Bo(e){var t=mt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=De,i=a.baseQueue,d=n.pending;if(d!==null){if(i!==null){var p=i.next;i.next=d.next,d.next=p}a.baseQueue=i=d,n.pending=null}if(i!==null){d=i.next,a=a.baseState;var b=p=null,x=null,P=d;do{var $=P.lane;if((xn&$)===$)x!==null&&(x=x.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var D={lane:$,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};x===null?(b=x=D,p=a):x=x.next=D,Ce.lanes|=$,kn|=$}P=P.next}while(P!==null&&P!==d);x===null?p=a:x.next=b,bt(a,t.memoizedState)||(tt=!0),t.memoizedState=a,t.baseState=p,t.baseQueue=x,n.lastRenderedState=a}if(e=n.interleaved,e!==null){i=e;do d=i.lane,Ce.lanes|=d,kn|=d,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wo(e){var t=mt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,d=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do d=e(d,p.action),p=p.next;while(p!==i);bt(d,t.memoizedState)||(tt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,a]}function Au(){}function Iu(e,t){var n=Ce,a=mt(),i=t(),d=!bt(a.memoizedState,i);if(d&&(a.memoizedState=i,tt=!0),a=a.queue,Vo(Du.bind(null,n,a,e),[e]),a.getSnapshot!==t||d||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Gr(9,$u.bind(null,n,a,i,t),void 0,null),Ue===null)throw Error(s(349));(xn&30)!==0||Lu(n,t,i)}return i}function Lu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $u(e,t,n,a){t.value=n,t.getSnapshot=a,zu(t)&&Mu(e)}function Du(e,t,n){return n(function(){zu(t)&&Mu(e)})}function zu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function Mu(e){var t=$t(e,1);t!==null&&St(t,e,1,-1)}function Uu(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:e},t.queue=e,e=e.dispatch=Df.bind(null,Ce,e),[t.memoizedState,e]}function Gr(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Fu(){return mt().memoizedState}function Ya(e,t,n,a){var i=Ct();Ce.flags|=e,i.memoizedState=Gr(1|t,n,void 0,a===void 0?null:a)}function Xa(e,t,n,a){var i=mt();a=a===void 0?null:a;var d=void 0;if(De!==null){var p=De.memoizedState;if(d=p.destroy,a!==null&&Uo(a,p.deps)){i.memoizedState=Gr(t,n,d,a);return}}Ce.flags|=e,i.memoizedState=Gr(1|t,n,d,a)}function qu(e,t){return Ya(8390656,8,e,t)}function Vo(e,t){return Xa(2048,8,e,t)}function Bu(e,t){return Xa(4,2,e,t)}function Wu(e,t){return Xa(4,4,e,t)}function Vu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hu(e,t,n){return n=n!=null?n.concat([e]):null,Xa(4,4,Vu.bind(null,t,e),n)}function Ho(){}function Ku(e,t){var n=mt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Uo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Qu(e,t){var n=mt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Uo(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Gu(e,t,n){return(xn&21)===0?(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=n):(bt(n,t)||(n=jl(),Ce.lanes|=n,kn|=n,e.baseState=!0),t)}function Lf(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var a=Mo.transition;Mo.transition={};try{e(!1),t()}finally{pe=n,Mo.transition=a}}function Ju(){return mt().memoizedState}function $f(e,t,n){var a=an(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Yu(e))Xu(t,n);else if(n=Pu(e,t,n,a),n!==null){var i=Xe();St(n,e,a,i),Zu(n,t,a)}}function Df(e,t,n){var a=an(e),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Xu(t,i);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,b=d(p,n);if(i.hasEagerState=!0,i.eagerState=b,bt(b,p)){var x=t.interleaved;x===null?(i.next=i,Ao(t)):(i.next=x.next,x.next=i),t.interleaved=i;return}}catch{}finally{}n=Pu(e,t,i,a),n!==null&&(i=Xe(),St(n,e,a,i),Zu(n,t,a))}}function Yu(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Xu(e,t){Hr=Ja=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zu(e,t,n){if((n&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Ks(e,n)}}var Za={readContext:pt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},zf={readContext:pt,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:qu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ya(4194308,4,Vu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ya(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ya(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Ct();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=$f.bind(null,Ce,e),[a.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:Uu,useDebugValue:Ho,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=Uu(!1),t=e[0];return e=Lf.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Ce,i=Ct();if(Te){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ue===null)throw Error(s(349));(xn&30)!==0||Lu(a,t,n)}i.memoizedState=n;var d={value:n,getSnapshot:t};return i.queue=d,qu(Du.bind(null,a,d,e),[e]),a.flags|=2048,Gr(9,$u.bind(null,a,d,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Ue.identifierPrefix;if(Te){var n=Lt,a=It;n=(a&~(1<<32-vt(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=Kr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=If++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mf={readContext:pt,useCallback:Ku,useContext:pt,useEffect:Vo,useImperativeHandle:Hu,useInsertionEffect:Bu,useLayoutEffect:Wu,useMemo:Qu,useReducer:Bo,useRef:Fu,useState:function(){return Bo(Qr)},useDebugValue:Ho,useDeferredValue:function(e){var t=mt();return Gu(t,De.memoizedState,e)},useTransition:function(){var e=Bo(Qr)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Au,useSyncExternalStore:Iu,useId:Ju,unstable_isNewReconciler:!1},Uf={readContext:pt,useCallback:Ku,useContext:pt,useEffect:Vo,useImperativeHandle:Hu,useInsertionEffect:Bu,useLayoutEffect:Wu,useMemo:Qu,useReducer:Wo,useRef:Fu,useState:function(){return Wo(Qr)},useDebugValue:Ho,useDeferredValue:function(e){var t=mt();return De===null?t.memoizedState=e:Gu(t,De.memoizedState,e)},useTransition:function(){var e=Wo(Qr)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Au,useSyncExternalStore:Iu,useId:Ju,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ko(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var es={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Xe(),i=an(e),d=Dt(a,i);d.payload=t,n!=null&&(d.callback=n),t=en(e,d,i),t!==null&&(St(t,e,i,a),Ha(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Xe(),i=an(e),d=Dt(a,i);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=en(e,d,i),t!==null&&(St(t,e,i,a),Ha(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),a=an(e),i=Dt(n,a);i.tag=2,t!=null&&(i.callback=t),t=en(e,i,a),t!==null&&(St(t,e,a,n),Ha(t,e,a))}};function ec(e,t,n,a,i,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,p):t.prototype&&t.prototype.isPureReactComponent?!Lr(n,a)||!Lr(i,d):!0}function tc(e,t,n){var a=!1,i=Yt,d=t.contextType;return typeof d=="object"&&d!==null?d=pt(d):(i=et(t)?gn:He.current,a=t.contextTypes,d=(a=a!=null)?Wn(e,i):Yt),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=es,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=d),t}function nc(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&es.enqueueReplaceState(t,t.state,null)}function Qo(e,t,n,a){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Io(e);var d=t.contextType;typeof d=="object"&&d!==null?i.context=pt(d):(d=et(t)?gn:He.current,i.context=Wn(e,d)),i.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Ko(e,t,d,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&es.enqueueReplaceState(i,i.state,null),Ka(e,n,i,a),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xn(e,t){try{var n="",a=t;do n+=ue(a),a=a.return;while(a);var i=n}catch(d){i=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:i,digest:null}}function Go(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ff=typeof WeakMap=="function"?WeakMap:Map;function rc(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){is||(is=!0,ci=a),Jo(e,t)},n}function ac(e,t,n){n=Dt(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;n.payload=function(){return a(i)},n.callback=function(){Jo(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){Jo(e,t),typeof a!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function sc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ff;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(i.add(n),e=tp.bind(null,e,t,n),t.then(e,e))}function oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ic(e,t,n,a,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,en(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var qf=F.ReactCurrentOwner,tt=!1;function Ye(e,t,n,a){t.child=e===null?Tu(t,null,n,a):Qn(t,e.child,n,a)}function lc(e,t,n,a,i){n=n.render;var d=t.ref;return Jn(t,i),a=Fo(e,t,n,a,d,i),n=qo(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zt(e,t,i)):(Te&&n&&So(t),t.flags|=1,Ye(e,t,a,i),t.child)}function uc(e,t,n,a,i){if(e===null){var d=n.type;return typeof d=="function"&&!yi(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,cc(e,t,d,a,i)):(e=fs(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&i)===0){var p=d.memoizedProps;if(n=n.compare,n=n!==null?n:Lr,n(p,a)&&e.ref===t.ref)return zt(e,t,i)}return t.flags|=1,e=on(d,a),e.ref=t.ref,e.return=t,t.child=e}function cc(e,t,n,a,i){if(e!==null){var d=e.memoizedProps;if(Lr(d,a)&&e.ref===t.ref)if(tt=!1,t.pendingProps=a=d,(e.lanes&i)!==0)(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,zt(e,t,i)}return Yo(e,t,n,a,i)}function dc(e,t,n){var a=t.pendingProps,i=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(er,ct),ct|=n;else{if((n&1073741824)===0)return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(er,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:n,ve(er,ct),ct|=a}else d!==null?(a=d.baseLanes|n,t.memoizedState=null):a=n,ve(er,ct),ct|=a;return Ye(e,t,i,n),t.child}function hc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yo(e,t,n,a,i){var d=et(n)?gn:He.current;return d=Wn(t,d),Jn(t,i),n=Fo(e,t,n,a,d,i),a=qo(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zt(e,t,i)):(Te&&a&&So(t),t.flags|=1,Ye(e,t,n,i),t.child)}function fc(e,t,n,a,i){if(et(n)){var d=!0;za(t)}else d=!1;if(Jn(t,i),t.stateNode===null)ns(e,t),tc(t,n,a),Qo(t,n,a,i),a=!0;else if(e===null){var p=t.stateNode,b=t.memoizedProps;p.props=b;var x=p.context,P=n.contextType;typeof P=="object"&&P!==null?P=pt(P):(P=et(n)?gn:He.current,P=Wn(t,P));var $=n.getDerivedStateFromProps,D=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function";D||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==a||x!==P)&&nc(t,p,a,P),Zt=!1;var I=t.memoizedState;p.state=I,Ka(t,a,p,i),x=t.memoizedState,b!==a||I!==x||Ze.current||Zt?(typeof $=="function"&&(Ko(t,n,$,a),x=t.memoizedState),(b=Zt||ec(t,n,b,a,I,x,P))?(D||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),p.props=a,p.state=x,p.context=P,a=b):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,Eu(e,t),b=t.memoizedProps,P=t.type===t.elementType?b:xt(t.type,b),p.props=P,D=t.pendingProps,I=p.context,x=n.contextType,typeof x=="object"&&x!==null?x=pt(x):(x=et(n)?gn:He.current,x=Wn(t,x));var B=n.getDerivedStateFromProps;($=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==D||I!==x)&&nc(t,p,a,x),Zt=!1,I=t.memoizedState,p.state=I,Ka(t,a,p,i);var H=t.memoizedState;b!==D||I!==H||Ze.current||Zt?(typeof B=="function"&&(Ko(t,n,B,a),H=t.memoizedState),(P=Zt||ec(t,n,P,a,I,H,x)||!1)?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,H,x),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,H,x)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),p.props=a,p.state=H,p.context=x,a=P):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),a=!1)}return Xo(e,t,n,a,d,i)}function Xo(e,t,n,a,i,d){hc(e,t);var p=(t.flags&128)!==0;if(!a&&!p)return i&&vu(t,n,!1),zt(e,t,d);a=t.stateNode,qf.current=t;var b=p&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&p?(t.child=Qn(t,e.child,null,d),t.child=Qn(t,null,b,d)):Ye(e,t,b,d),t.memoizedState=a.state,i&&vu(t,n,!0),t.child}function pc(e){var t=e.stateNode;t.pendingContext?gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gu(e,t.context,!1),Lo(e,t.containerInfo)}function mc(e,t,n,a,i){return Kn(),Po(i),t.flags|=256,Ye(e,t,n,a),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0};function ei(e){return{baseLanes:e,cachePool:null,transitions:null}}function gc(e,t,n){var a=t.pendingProps,i=Ee.current,d=!1,p=(t.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(i&2)!==0),b?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ve(Ee,i&1),e===null)return To(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=a.children,e=a.fallback,d?(a=t.mode,d=t.child,p={mode:"hidden",children:p},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=ps(p,a,0,null),e=Nn(e,a,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=ei(n),t.memoizedState=Zo,e):ti(t,p));if(i=e.memoizedState,i!==null&&(b=i.dehydrated,b!==null))return Bf(e,t,p,a,b,i,n);if(d){d=a.fallback,p=t.mode,i=e.child,b=i.sibling;var x={mode:"hidden",children:a.children};return(p&1)===0&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=x,t.deletions=null):(a=on(i,x),a.subtreeFlags=i.subtreeFlags&14680064),b!==null?d=on(b,d):(d=Nn(d,p,n,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,p=e.child.memoizedState,p=p===null?ei(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~n,t.memoizedState=Zo,a}return d=e.child,e=d.sibling,a=on(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function ti(e,t){return t=ps({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ts(e,t,n,a){return a!==null&&Po(a),Qn(t,e.child,null,n),e=ti(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bf(e,t,n,a,i,d,p){if(n)return t.flags&256?(t.flags&=-257,a=Go(Error(s(422))),ts(e,t,p,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,i=t.mode,a=ps({mode:"visible",children:a.children},i,0,null),d=Nn(d,i,p,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&Qn(t,e.child,null,p),t.child.memoizedState=ei(p),t.memoizedState=Zo,d);if((t.mode&1)===0)return ts(e,t,p,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var b=a.dgst;return a=b,d=Error(s(419)),a=Go(d,a,void 0),ts(e,t,p,a)}if(b=(p&e.childLanes)!==0,tt||b){if(a=Ue,a!==null){switch(p&-p){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(a.suspendedLanes|p))!==0?0:i,i!==0&&i!==d.retryLane&&(d.retryLane=i,$t(e,i),St(a,e,i,-1))}return gi(),a=Go(Error(s(421))),ts(e,t,p,a)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=np.bind(null,e),i._reactRetry=t,null):(e=d.treeContext,ut=Gt(i.nextSibling),lt=t,Te=!0,wt=null,e!==null&&(ht[ft++]=It,ht[ft++]=Lt,ht[ft++]=yn,It=e.id,Lt=e.overflow,yn=t),t=ti(t,a.children),t.flags|=4096,t)}function yc(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ro(e.return,t,n)}function ni(e,t,n,a,i){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=n,d.tailMode=i)}function vc(e,t,n){var a=t.pendingProps,i=a.revealOrder,d=a.tail;if(Ye(e,t,a.children,n),a=Ee.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yc(e,n,t);else if(e.tag===19)yc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ve(Ee,a),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ni(t,!1,i,n,d);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ni(t,!0,n,null,d);break;case"together":ni(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wf(e,t,n){switch(t.tag){case 3:pc(t),Kn();break;case 5:Ru(t);break;case 1:et(t.type)&&za(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;ve(Wa,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ve(Ee,Ee.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?gc(e,t,n):(ve(Ee,Ee.current&1),e=zt(e,t,n),e!==null?e.sibling:null);ve(Ee,Ee.current&1);break;case 19:if(a=(n&t.childLanes)!==0,(e.flags&128)!==0){if(a)return vc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(Ee,Ee.current),a)break;return null;case 22:case 23:return t.lanes=0,dc(e,t,n)}return zt(e,t,n)}var bc,ri,wc,xc;bc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ri=function(){},wc=function(e,t,n,a){var i=e.memoizedProps;if(i!==a){e=t.stateNode,wn(Et.current);var d=null;switch(n){case"input":i=Os(e,i),a=Os(e,a),d=[];break;case"select":i=W({},i,{value:void 0}),a=W({},a,{value:void 0}),d=[];break;case"textarea":i=Is(e,i),a=Is(e,a),d=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=La)}$s(n,a);var p;n=null;for(P in i)if(!a.hasOwnProperty(P)&&i.hasOwnProperty(P)&&i[P]!=null)if(P==="style"){var b=i[P];for(p in b)b.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in a){var x=a[P];if(b=i!=null?i[P]:void 0,a.hasOwnProperty(P)&&x!==b&&(x!=null||b!=null))if(P==="style")if(b){for(p in b)!b.hasOwnProperty(p)||x&&x.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in x)x.hasOwnProperty(p)&&b[p]!==x[p]&&(n||(n={}),n[p]=x[p])}else n||(d||(d=[]),d.push(P,n)),n=x;else P==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,b=b?b.__html:void 0,x!=null&&b!==x&&(d=d||[]).push(P,x)):P==="children"?typeof x!="string"&&typeof x!="number"||(d=d||[]).push(P,""+x):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(x!=null&&P==="onScroll"&&ke("scroll",e),d||b===x||(d=[])):(d=d||[]).push(P,x))}n&&(d=d||[]).push("style",n);var P=d;(t.updateQueue=P)&&(t.flags|=4)}},xc=function(e,t,n,a){n!==a&&(t.flags|=4)};function Jr(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Vf(e,t,n){var a=t.pendingProps;switch(jo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return et(t.type)&&Da(),Qe(t),null;case 3:return a=t.stateNode,Yn(),_e(Ze),_e(He),zo(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wt!==null&&(fi(wt),wt=null))),ri(e,t),Qe(t),null;case 5:$o(t);var i=wn(Vr.current);if(n=t.type,e!==null&&t.stateNode!=null)wc(e,t,n,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Qe(t),null}if(e=wn(Et.current),qa(t)){a=t.stateNode,n=t.type;var d=t.memoizedProps;switch(a[Pt]=t,a[Ur]=d,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",a),ke("close",a);break;case"iframe":case"object":case"embed":ke("load",a);break;case"video":case"audio":for(i=0;i<Dr.length;i++)ke(Dr[i],a);break;case"source":ke("error",a);break;case"img":case"image":case"link":ke("error",a),ke("load",a);break;case"details":ke("toggle",a);break;case"input":tl(a,d),ke("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},ke("invalid",a);break;case"textarea":al(a,d),ke("invalid",a)}$s(n,d),i=null;for(var p in d)if(d.hasOwnProperty(p)){var b=d[p];p==="children"?typeof b=="string"?a.textContent!==b&&(d.suppressHydrationWarning!==!0&&Ia(a.textContent,b,e),i=["children",b]):typeof b=="number"&&a.textContent!==""+b&&(d.suppressHydrationWarning!==!0&&Ia(a.textContent,b,e),i=["children",""+b]):l.hasOwnProperty(p)&&b!=null&&p==="onScroll"&&ke("scroll",a)}switch(n){case"input":da(a),rl(a,d,!0);break;case"textarea":da(a),ol(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=La)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{p=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=il(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(n,{is:a.is}):(e=p.createElement(n),n==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,n),e[Pt]=t,e[Ur]=a,bc(e,t,!1,!1),t.stateNode=e;e:{switch(p=Ds(n,a),n){case"dialog":ke("cancel",e),ke("close",e),i=a;break;case"iframe":case"object":case"embed":ke("load",e),i=a;break;case"video":case"audio":for(i=0;i<Dr.length;i++)ke(Dr[i],e);i=a;break;case"source":ke("error",e),i=a;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=a;break;case"details":ke("toggle",e),i=a;break;case"input":tl(e,a),i=Os(e,a),ke("invalid",e);break;case"option":i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=W({},a,{value:void 0}),ke("invalid",e);break;case"textarea":al(e,a),i=Is(e,a),ke("invalid",e);break;default:i=a}$s(n,i),b=i;for(d in b)if(b.hasOwnProperty(d)){var x=b[d];d==="style"?cl(e,x):d==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&ll(e,x)):d==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&vr(e,x):typeof x=="number"&&vr(e,""+x):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?x!=null&&d==="onScroll"&&ke("scroll",e):x!=null&&M(e,d,x,p))}switch(n){case"input":da(e),rl(e,a,!1);break;case"textarea":da(e),ol(e);break;case"option":a.value!=null&&e.setAttribute("value",""+fe(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Rn(e,!!a.multiple,d,!1):a.defaultValue!=null&&Rn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)xc(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(n=wn(Vr.current),wn(Et.current),qa(t)){if(a=t.stateNode,n=t.memoizedProps,a[Pt]=t,(d=a.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:Ia(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ia(a.nodeValue,n,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Pt]=t,t.stateNode=a}return Qe(t),null;case 13:if(_e(Ee),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Su(),Kn(),t.flags|=98560,d=!1;else if(d=qa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=t}else Kn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),d=!1}else wt!==null&&(fi(wt),wt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ee.current&1)!==0?ze===0&&(ze=3):gi())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return Yn(),ri(e,t),e===null&&zr(t.stateNode.containerInfo),Qe(t),null;case 10:return Oo(t.type._context),Qe(t),null;case 17:return et(t.type)&&Da(),Qe(t),null;case 19:if(_e(Ee),d=t.memoizedState,d===null)return Qe(t),null;if(a=(t.flags&128)!==0,p=d.rendering,p===null)if(a)Jr(d,!1);else{if(ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Qa(e),p!==null){for(t.flags|=128,Jr(d,!1),a=p.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)d=n,e=a,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ee,Ee.current&1|2),t.child}e=e.sibling}d.tail!==null&&Re()>tr&&(t.flags|=128,a=!0,Jr(d,!1),t.lanes=4194304)}else{if(!a)if(e=Qa(p),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jr(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!Te)return Qe(t),null}else 2*Re()-d.renderingStartTime>tr&&n!==1073741824&&(t.flags|=128,a=!0,Jr(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(n=d.last,n!==null?n.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Re(),t.sibling=null,n=Ee.current,ve(Ee,a?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return mi(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ct&1073741824)!==0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Hf(e,t){switch(jo(t),t.tag){case 1:return et(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),_e(Ze),_e(He),zo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return $o(t),null;case 13:if(_e(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Kn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ee),null;case 4:return Yn(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return mi(),null;case 24:return null;default:return null}}var rs=!1,Ge=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,V=null;function Zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Oe(e,t,a)}else n.current=null}function kc(e,t,n){try{n()}catch(a){Oe(e,t,a)}}var _c=!1;function Qf(e,t){if(go=_a,e=eu(),io(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var p=0,b=-1,x=-1,P=0,$=0,D=e,I=null;t:for(;;){for(var B;D!==n||i!==0&&D.nodeType!==3||(b=p+i),D!==d||a!==0&&D.nodeType!==3||(x=p+a),D.nodeType===3&&(p+=D.nodeValue.length),(B=D.firstChild)!==null;)I=D,D=B;for(;;){if(D===e)break t;if(I===n&&++P===i&&(b=p),I===d&&++$===a&&(x=p),(B=D.nextSibling)!==null)break;D=I,I=D.parentNode}D=B}n=b===-1||x===-1?null:{start:b,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(yo={focusedElem:e,selectionRange:n},_a=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var Q=H.memoizedProps,Ae=H.memoizedState,j=t.stateNode,k=j.getSnapshotBeforeUpdate(t.elementType===t.type?Q:xt(t.type,Q),Ae);j.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(U){Oe(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return H=_c,_c=!1,H}function Yr(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&e)===e){var d=i.destroy;i.destroy=void 0,d!==void 0&&kc(t,n,d)}i=i.next}while(i!==a)}}function as(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ai(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sc(e){var t=e.alternate;t!==null&&(e.alternate=null,Sc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Ur],delete t[xo],delete t[Cf],delete t[Of])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jc(e){return e.tag===5||e.tag===3||e.tag===4}function Nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function si(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=La));else if(a!==4&&(e=e.child,e!==null))for(si(e,t,n),e=e.sibling;e!==null;)si(e,t,n),e=e.sibling}function oi(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(oi(e,t,n),e=e.sibling;e!==null;)oi(e,t,n),e=e.sibling}var We=null,kt=!1;function tn(e,t,n){for(n=n.child;n!==null;)Tc(e,t,n),n=n.sibling}function Tc(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:Ge||Zn(n,t);case 6:var a=We,i=kt;We=null,tn(e,t,n),We=a,kt=i,We!==null&&(kt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(kt?(e=We,n=n.stateNode,e.nodeType===8?wo(e.parentNode,n):e.nodeType===1&&wo(e,n),Er(e)):wo(We,n.stateNode));break;case 4:a=We,i=kt,We=n.stateNode.containerInfo,kt=!0,tn(e,t,n),We=a,kt=i;break;case 0:case 11:case 14:case 15:if(!Ge&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var d=i,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&kc(n,t,p),i=i.next}while(i!==a)}tn(e,t,n);break;case 1:if(!Ge&&(Zn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(b){Oe(n,t,b)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Ge=(a=Ge)||n.memoizedState!==null,tn(e,t,n),Ge=a):tn(e,t,n);break;default:tn(e,t,n)}}function Pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kf),t.forEach(function(a){var i=rp.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];try{var d=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 5:We=b.stateNode,kt=!1;break e;case 3:We=b.stateNode.containerInfo,kt=!0;break e;case 4:We=b.stateNode.containerInfo,kt=!0;break e}b=b.return}if(We===null)throw Error(s(160));Tc(d,p,i),We=null,kt=!1;var x=i.alternate;x!==null&&(x.return=null),i.return=null}catch(P){Oe(i,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ec(t,e),t=t.sibling}function Ec(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Ot(e),a&4){try{Yr(3,e,e.return),as(3,e)}catch(Q){Oe(e,e.return,Q)}try{Yr(5,e,e.return)}catch(Q){Oe(e,e.return,Q)}}break;case 1:_t(t,e),Ot(e),a&512&&n!==null&&Zn(n,n.return);break;case 5:if(_t(t,e),Ot(e),a&512&&n!==null&&Zn(n,n.return),e.flags&32){var i=e.stateNode;try{vr(i,"")}catch(Q){Oe(e,e.return,Q)}}if(a&4&&(i=e.stateNode,i!=null)){var d=e.memoizedProps,p=n!==null?n.memoizedProps:d,b=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{b==="input"&&d.type==="radio"&&d.name!=null&&nl(i,d),Ds(b,p);var P=Ds(b,d);for(p=0;p<x.length;p+=2){var $=x[p],D=x[p+1];$==="style"?cl(i,D):$==="dangerouslySetInnerHTML"?ll(i,D):$==="children"?vr(i,D):M(i,$,D,P)}switch(b){case"input":Rs(i,d);break;case"textarea":sl(i,d);break;case"select":var I=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!d.multiple;var B=d.value;B!=null?Rn(i,!!d.multiple,B,!1):I!==!!d.multiple&&(d.defaultValue!=null?Rn(i,!!d.multiple,d.defaultValue,!0):Rn(i,!!d.multiple,d.multiple?[]:"",!1))}i[Ur]=d}catch(Q){Oe(e,e.return,Q)}}break;case 6:if(_t(t,e),Ot(e),a&4){if(e.stateNode===null)throw Error(s(162));i=e.stateNode,d=e.memoizedProps;try{i.nodeValue=d}catch(Q){Oe(e,e.return,Q)}}break;case 3:if(_t(t,e),Ot(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(Q){Oe(e,e.return,Q)}break;case 4:_t(t,e),Ot(e);break;case 13:_t(t,e),Ot(e),i=e.child,i.flags&8192&&(d=i.memoizedState!==null,i.stateNode.isHidden=d,!d||i.alternate!==null&&i.alternate.memoizedState!==null||(ui=Re())),a&4&&Pc(e);break;case 22:if($=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(P=Ge)||$,_t(t,e),Ge=P):_t(t,e),Ot(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!$&&(e.mode&1)!==0)for(V=e,$=e.child;$!==null;){for(D=V=$;V!==null;){switch(I=V,B=I.child,I.tag){case 0:case 11:case 14:case 15:Yr(4,I,I.return);break;case 1:Zn(I,I.return);var H=I.stateNode;if(typeof H.componentWillUnmount=="function"){a=I,n=I.return;try{t=a,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(Q){Oe(a,n,Q)}}break;case 5:Zn(I,I.return);break;case 22:if(I.memoizedState!==null){Rc(D);continue}}B!==null?(B.return=I,V=B):Rc(D)}$=$.sibling}e:for($=null,D=e;;){if(D.tag===5){if($===null){$=D;try{i=D.stateNode,P?(d=i.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(b=D.stateNode,x=D.memoizedProps.style,p=x!=null&&x.hasOwnProperty("display")?x.display:null,b.style.display=ul("display",p))}catch(Q){Oe(e,e.return,Q)}}}else if(D.tag===6){if($===null)try{D.stateNode.nodeValue=P?"":D.memoizedProps}catch(Q){Oe(e,e.return,Q)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;$===D&&($=null),D=D.return}$===D&&($=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:_t(t,e),Ot(e),a&4&&Pc(e);break;case 21:break;default:_t(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jc(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(vr(i,""),a.flags&=-33);var d=Nc(e);oi(e,d,i);break;case 3:case 4:var p=a.stateNode.containerInfo,b=Nc(e);si(e,b,p);break;default:throw Error(s(161))}}catch(x){Oe(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gf(e,t,n){V=e,Cc(e)}function Cc(e,t,n){for(var a=(e.mode&1)!==0;V!==null;){var i=V,d=i.child;if(i.tag===22&&a){var p=i.memoizedState!==null||rs;if(!p){var b=i.alternate,x=b!==null&&b.memoizedState!==null||Ge;b=rs;var P=Ge;if(rs=p,(Ge=x)&&!P)for(V=i;V!==null;)p=V,x=p.child,p.tag===22&&p.memoizedState!==null?Ac(i):x!==null?(x.return=p,V=x):Ac(i);for(;d!==null;)V=d,Cc(d),d=d.sibling;V=i,rs=b,Ge=P}Oc(e)}else(i.subtreeFlags&8772)!==0&&d!==null?(d.return=i,V=d):Oc(e)}}function Oc(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ge||as(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ge)if(n===null)a.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xt(t.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Ou(t,d,a);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ou(t,p,n)}break;case 5:var b=t.stateNode;if(n===null&&t.flags&4){n=b;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var $=P.memoizedState;if($!==null){var D=$.dehydrated;D!==null&&Er(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ge||t.flags&512&&ai(t)}catch(I){Oe(t,t.return,I)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Rc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Ac(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{as(4,t)}catch(x){Oe(t,n,x)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(x){Oe(t,i,x)}}var d=t.return;try{ai(t)}catch(x){Oe(t,d,x)}break;case 5:var p=t.return;try{ai(t)}catch(x){Oe(t,p,x)}}}catch(x){Oe(t,t.return,x)}if(t===e){V=null;break}var b=t.sibling;if(b!==null){b.return=t.return,V=b;break}V=t.return}}var Jf=Math.ceil,ss=F.ReactCurrentDispatcher,ii=F.ReactCurrentOwner,gt=F.ReactCurrentBatchConfig,le=0,Ue=null,Le=null,Ve=0,ct=0,er=Jt(0),ze=0,Xr=null,kn=0,os=0,li=0,Zr=null,nt=null,ui=0,tr=1/0,Mt=null,is=!1,ci=null,nn=null,ls=!1,rn=null,us=0,ea=0,di=null,cs=-1,ds=0;function Xe(){return(le&6)!==0?Re():cs!==-1?cs:cs=Re()}function an(e){return(e.mode&1)===0?1:(le&2)!==0&&Ve!==0?Ve&-Ve:Af.transition!==null?(ds===0&&(ds=jl()),ds):(e=pe,e!==0||(e=window.event,e=e===void 0?16:Il(e.type)),e)}function St(e,t,n,a){if(50<ea)throw ea=0,di=null,Error(s(185));Sr(e,n,a),((le&2)===0||e!==Ue)&&(e===Ue&&((le&2)===0&&(os|=n),ze===4&&sn(e,Ve)),rt(e,a),n===1&&le===0&&(t.mode&1)===0&&(tr=Re()+500,Ma&&Xt()))}function rt(e,t){var n=e.callbackNode;Rh(e,t);var a=wa(e,e===Ue?Ve:0);if(a===0)n!==null&&kl(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&kl(n),t===1)e.tag===0?Rf(Lc.bind(null,e)):bu(Lc.bind(null,e)),Pf(function(){(le&6)===0&&Xt()}),n=null;else{switch(Nl(a)){case 1:n=Ws;break;case 4:n=_l;break;case 16:n=ga;break;case 536870912:n=Sl;break;default:n=ga}n=Bc(n,Ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ic(e,t){if(cs=-1,ds=0,(le&6)!==0)throw Error(s(327));var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var a=wa(e,e===Ue?Ve:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=hs(e,a);else{t=a;var i=le;le|=2;var d=Dc();(Ue!==e||Ve!==t)&&(Mt=null,tr=Re()+500,Sn(e,t));do try{Zf();break}catch(b){$c(e,b)}while(!0);Co(),ss.current=d,le=i,Le!==null?t=0:(Ue=null,Ve=0,t=ze)}if(t!==0){if(t===2&&(i=Vs(e),i!==0&&(a=i,t=hi(e,i))),t===1)throw n=Xr,Sn(e,0),sn(e,a),rt(e,Re()),n;if(t===6)sn(e,a);else{if(i=e.current.alternate,(a&30)===0&&!Yf(i)&&(t=hs(e,a),t===2&&(d=Vs(e),d!==0&&(a=d,t=hi(e,d))),t===1))throw n=Xr,Sn(e,0),sn(e,a),rt(e,Re()),n;switch(e.finishedWork=i,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:jn(e,nt,Mt);break;case 3:if(sn(e,a),(a&130023424)===a&&(t=ui+500-Re(),10<t)){if(wa(e,0)!==0)break;if(i=e.suspendedLanes,(i&a)!==a){Xe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bo(jn.bind(null,e,nt,Mt),t);break}jn(e,nt,Mt);break;case 4:if(sn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,i=-1;0<a;){var p=31-vt(a);d=1<<p,p=t[p],p>i&&(i=p),a&=~d}if(a=i,a=Re()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Jf(a/1960))-a,10<a){e.timeoutHandle=bo(jn.bind(null,e,nt,Mt),a);break}jn(e,nt,Mt);break;case 5:jn(e,nt,Mt);break;default:throw Error(s(329))}}}return rt(e,Re()),e.callbackNode===n?Ic.bind(null,e):null}function hi(e,t){var n=Zr;return e.current.memoizedState.isDehydrated&&(Sn(e,t).flags|=256),e=hs(e,t),e!==2&&(t=nt,nt=n,t!==null&&fi(t)),e}function fi(e){nt===null?nt=e:nt.push.apply(nt,e)}function Yf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var i=n[a],d=i.getSnapshot;i=i.value;try{if(!bt(d(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sn(e,t){for(t&=~li,t&=~os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),a=1<<n;e[n]=-1,t&=~a}}function Lc(e){if((le&6)!==0)throw Error(s(327));nr();var t=wa(e,0);if((t&1)===0)return rt(e,Re()),null;var n=hs(e,t);if(e.tag!==0&&n===2){var a=Vs(e);a!==0&&(t=a,n=hi(e,a))}if(n===1)throw n=Xr,Sn(e,0),sn(e,t),rt(e,Re()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,nt,Mt),rt(e,Re()),null}function pi(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(tr=Re()+500,Ma&&Xt())}}function _n(e){rn!==null&&rn.tag===0&&(le&6)===0&&nr();var t=le;le|=1;var n=gt.transition,a=pe;try{if(gt.transition=null,pe=1,e)return e()}finally{pe=a,gt.transition=n,le=t,(le&6)===0&&Xt()}}function mi(){ct=er.current,_e(er)}function Sn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Tf(n)),Le!==null)for(n=Le.return;n!==null;){var a=n;switch(jo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Da();break;case 3:Yn(),_e(Ze),_e(He),zo();break;case 5:$o(a);break;case 4:Yn();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:Oo(a.type._context);break;case 22:case 23:mi()}n=n.return}if(Ue=e,Le=e=on(e.current,null),Ve=ct=t,ze=0,Xr=null,li=os=kn=0,nt=Zr=null,bn!==null){for(t=0;t<bn.length;t++)if(n=bn[t],a=n.interleaved,a!==null){n.interleaved=null;var i=a.next,d=n.pending;if(d!==null){var p=d.next;d.next=i,a.next=p}n.pending=a}bn=null}return e}function $c(e,t){do{var n=Le;try{if(Co(),Ga.current=Za,Ja){for(var a=Ce.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Ja=!1}if(xn=0,Me=De=Ce=null,Hr=!1,Kr=0,ii.current=null,n===null||n.return===null){ze=1,Xr=t,Le=null;break}e:{var d=e,p=n.return,b=n,x=t;if(t=Ve,b.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var P=x,$=b,D=$.tag;if(($.mode&1)===0&&(D===0||D===11||D===15)){var I=$.alternate;I?($.updateQueue=I.updateQueue,$.memoizedState=I.memoizedState,$.lanes=I.lanes):($.updateQueue=null,$.memoizedState=null)}var B=oc(p);if(B!==null){B.flags&=-257,ic(B,p,b,d,t),B.mode&1&&sc(d,P,t),t=B,x=P;var H=t.updateQueue;if(H===null){var Q=new Set;Q.add(x),t.updateQueue=Q}else H.add(x);break e}else{if((t&1)===0){sc(d,P,t),gi();break e}x=Error(s(426))}}else if(Te&&b.mode&1){var Ae=oc(p);if(Ae!==null){(Ae.flags&65536)===0&&(Ae.flags|=256),ic(Ae,p,b,d,t),Po(Xn(x,b));break e}}d=x=Xn(x,b),ze!==4&&(ze=2),Zr===null?Zr=[d]:Zr.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var j=rc(d,x,t);Cu(d,j);break e;case 1:b=x;var k=d.type,T=d.stateNode;if((d.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(nn===null||!nn.has(T)))){d.flags|=65536,t&=-t,d.lanes|=t;var U=ac(d,b,t);Cu(d,U);break e}}d=d.return}while(d!==null)}Mc(n)}catch(G){t=G,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Dc(){var e=ss.current;return ss.current=Za,e===null?Za:e}function gi(){(ze===0||ze===3||ze===2)&&(ze=4),Ue===null||(kn&268435455)===0&&(os&268435455)===0||sn(Ue,Ve)}function hs(e,t){var n=le;le|=2;var a=Dc();(Ue!==e||Ve!==t)&&(Mt=null,Sn(e,t));do try{Xf();break}catch(i){$c(e,i)}while(!0);if(Co(),le=n,ss.current=a,Le!==null)throw Error(s(261));return Ue=null,Ve=0,ze}function Xf(){for(;Le!==null;)zc(Le)}function Zf(){for(;Le!==null&&!_h();)zc(Le)}function zc(e){var t=qc(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Mc(e):Le=t,ii.current=null}function Mc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Vf(n,t,ct),n!==null){Le=n;return}}else{if(n=Hf(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Le=null;return}}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);ze===0&&(ze=5)}function jn(e,t,n){var a=pe,i=gt.transition;try{gt.transition=null,pe=1,ep(e,t,n,a)}finally{gt.transition=i,pe=a}return null}function ep(e,t,n,a){do nr();while(rn!==null);if((le&6)!==0)throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(Ah(e,d),e===Ue&&(Le=Ue=null,Ve=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ls||(ls=!0,Bc(ga,function(){return nr(),null})),d=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||d){d=gt.transition,gt.transition=null;var p=pe;pe=1;var b=le;le|=4,ii.current=null,Qf(e,n),Ec(n,e),wf(yo),_a=!!go,yo=go=null,e.current=n,Gf(n),Sh(),le=b,pe=p,gt.transition=d}else e.current=n;if(ls&&(ls=!1,rn=e,us=i),d=e.pendingLanes,d===0&&(nn=null),Th(n.stateNode),rt(e,Re()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(is)throw is=!1,e=ci,ci=null,e;return(us&1)!==0&&e.tag!==0&&nr(),d=e.pendingLanes,(d&1)!==0?e===di?ea++:(ea=0,di=e):ea=0,Xt(),null}function nr(){if(rn!==null){var e=Nl(us),t=gt.transition,n=pe;try{if(gt.transition=null,pe=16>e?16:e,rn===null)var a=!1;else{if(e=rn,rn=null,us=0,(le&6)!==0)throw Error(s(331));var i=le;for(le|=4,V=e.current;V!==null;){var d=V,p=d.child;if((V.flags&16)!==0){var b=d.deletions;if(b!==null){for(var x=0;x<b.length;x++){var P=b[x];for(V=P;V!==null;){var $=V;switch($.tag){case 0:case 11:case 15:Yr(8,$,d)}var D=$.child;if(D!==null)D.return=$,V=D;else for(;V!==null;){$=V;var I=$.sibling,B=$.return;if(Sc($),$===P){V=null;break}if(I!==null){I.return=B,V=I;break}V=B}}}var H=d.alternate;if(H!==null){var Q=H.child;if(Q!==null){H.child=null;do{var Ae=Q.sibling;Q.sibling=null,Q=Ae}while(Q!==null)}}V=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,V=p;else e:for(;V!==null;){if(d=V,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Yr(9,d,d.return)}var j=d.sibling;if(j!==null){j.return=d.return,V=j;break e}V=d.return}}var k=e.current;for(V=k;V!==null;){p=V;var T=p.child;if((p.subtreeFlags&2064)!==0&&T!==null)T.return=p,V=T;else e:for(p=k;V!==null;){if(b=V,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:as(9,b)}}catch(G){Oe(b,b.return,G)}if(b===p){V=null;break e}var U=b.sibling;if(U!==null){U.return=b.return,V=U;break e}V=b.return}}if(le=i,Xt(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(ya,e)}catch{}a=!0}return a}finally{pe=n,gt.transition=t}}return!1}function Uc(e,t,n){t=Xn(n,t),t=rc(e,t,1),e=en(e,t,1),t=Xe(),e!==null&&(Sr(e,1,t),rt(e,t))}function Oe(e,t,n){if(e.tag===3)Uc(e,e,n);else for(;t!==null;){if(t.tag===3){Uc(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(nn===null||!nn.has(a))){e=Xn(n,e),e=ac(t,e,1),t=en(t,e,1),e=Xe(),t!==null&&(Sr(t,1,e),rt(t,e));break}}t=t.return}}function tp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Ue===e&&(Ve&n)===n&&(ze===4||ze===3&&(Ve&130023424)===Ve&&500>Re()-ui?Sn(e,0):li|=n),rt(e,t)}function Fc(e,t){t===0&&((e.mode&1)===0?t=1:(t=ba,ba<<=1,(ba&130023424)===0&&(ba=4194304)));var n=Xe();e=$t(e,t),e!==null&&(Sr(e,t,n),rt(e,n))}function np(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fc(e,n)}function rp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(t),Fc(e,n)}var qc;qc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)tt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return tt=!1,Wf(e,t,n);tt=(e.flags&131072)!==0}else tt=!1,Te&&(t.flags&1048576)!==0&&wu(t,Fa,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ns(e,t),e=t.pendingProps;var i=Wn(t,He.current);Jn(t,n),i=Fo(null,t,a,e,i,n);var d=qo();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(a)?(d=!0,za(t)):d=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Io(t),i.updater=es,t.stateNode=i,i._reactInternals=t,Qo(t,a,e,n),t=Xo(null,t,a,!0,d,n)):(t.tag=0,Te&&d&&So(t),Ye(null,t,i,n),t=t.child),t;case 16:a=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=sp(a),e=xt(a,e),i){case 0:t=Yo(null,t,a,e,n);break e;case 1:t=fc(null,t,a,e,n);break e;case 11:t=lc(null,t,a,e,n);break e;case 14:t=uc(null,t,a,xt(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:xt(a,i),Yo(e,t,a,i,n);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:xt(a,i),fc(e,t,a,i,n);case 3:e:{if(pc(t),e===null)throw Error(s(387));a=t.pendingProps,d=t.memoizedState,i=d.element,Eu(e,t),Ka(t,a,null,n);var p=t.memoizedState;if(a=p.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){i=Xn(Error(s(423)),t),t=mc(e,t,a,n,i);break e}else if(a!==i){i=Xn(Error(s(424)),t),t=mc(e,t,a,n,i);break e}else for(ut=Gt(t.stateNode.containerInfo.firstChild),lt=t,Te=!0,wt=null,n=Tu(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kn(),a===i){t=zt(e,t,n);break e}Ye(e,t,a,n)}t=t.child}return t;case 5:return Ru(t),e===null&&To(t),a=t.type,i=t.pendingProps,d=e!==null?e.memoizedProps:null,p=i.children,vo(a,i)?p=null:d!==null&&vo(a,d)&&(t.flags|=32),hc(e,t),Ye(e,t,p,n),t.child;case 6:return e===null&&To(t),null;case 13:return gc(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Qn(t,null,a,n):Ye(e,t,a,n),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:xt(a,i),lc(e,t,a,i,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,d=t.memoizedProps,p=i.value,ve(Wa,a._currentValue),a._currentValue=p,d!==null)if(bt(d.value,p)){if(d.children===i.children&&!Ze.current){t=zt(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var b=d.dependencies;if(b!==null){p=d.child;for(var x=b.firstContext;x!==null;){if(x.context===a){if(d.tag===1){x=Dt(-1,n&-n),x.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var $=P.pending;$===null?x.next=x:(x.next=$.next,$.next=x),P.pending=x}}d.lanes|=n,x=d.alternate,x!==null&&(x.lanes|=n),Ro(d.return,n,t),b.lanes|=n;break}x=x.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(s(341));p.lanes|=n,b=p.alternate,b!==null&&(b.lanes|=n),Ro(p,n,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Ye(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,Jn(t,n),i=pt(i),a=a(i),t.flags|=1,Ye(e,t,a,n),t.child;case 14:return a=t.type,i=xt(a,t.pendingProps),i=xt(a.type,i),uc(e,t,a,i,n);case 15:return cc(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:xt(a,i),ns(e,t),t.tag=1,et(a)?(e=!0,za(t)):e=!1,Jn(t,n),tc(t,a,i),Qo(t,a,i,n),Xo(null,t,a,!0,e,n);case 19:return vc(e,t,n);case 22:return dc(e,t,n)}throw Error(s(156,t.tag))};function Bc(e,t){return xl(e,t)}function ap(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,a){return new ap(e,t,n,a)}function yi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sp(e){if(typeof e=="function")return yi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pe)return 11;if(e===$e)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fs(e,t,n,a,i,d){var p=2;if(a=e,typeof e=="function")yi(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case re:return Nn(n.children,i,d,t);case me:p=8,i|=8;break;case he:return e=yt(12,n,t,i|2),e.elementType=he,e.lanes=d,e;case Ie:return e=yt(13,n,t,i),e.elementType=Ie,e.lanes=d,e;case je:return e=yt(19,n,t,i),e.elementType=je,e.lanes=d,e;case xe:return ps(n,i,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:p=10;break e;case ie:p=9;break e;case Pe:p=11;break e;case $e:p=14;break e;case we:p=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=yt(p,n,t,i),t.elementType=e,t.type=a,t.lanes=d,t}function Nn(e,t,n,a){return e=yt(7,e,a,t),e.lanes=n,e}function ps(e,t,n,a){return e=yt(22,e,a,t),e.elementType=xe,e.lanes=n,e.stateNode={isHidden:!1},e}function vi(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function bi(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function op(e,t,n,a,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hs(0),this.expirationTimes=Hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wi(e,t,n,a,i,d,p,b,x){return e=new op(e,t,n,b,x),t===1?(t=1,d===!0&&(t|=8)):t=0,d=yt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(d),e}function ip(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function Wc(e){if(!e)return Yt;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(et(n))return yu(e,n,t)}return t}function Vc(e,t,n,a,i,d,p,b,x){return e=wi(n,a,!0,e,i,d,p,b,x),e.context=Wc(null),n=e.current,a=Xe(),i=an(n),d=Dt(a,i),d.callback=t??null,en(n,d,i),e.current.lanes=i,Sr(e,i,a),rt(e,a),e}function ms(e,t,n,a){var i=t.current,d=Xe(),p=an(i);return n=Wc(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(d,p),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=en(i,t,p),e!==null&&(St(e,i,p,d),Ha(e,i,p)),p}function gs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function xi(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}function lp(){return null}var Kc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ki(e){this._internalRoot=e}ys.prototype.render=ki.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ms(e,t,null,null)},ys.prototype.unmount=ki.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_n(function(){ms(null,e,null,null)}),t[Rt]=null}};function ys(e){this._internalRoot=e}ys.prototype.unstable_scheduleHydration=function(e){if(e){var t=El();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ht.length&&t!==0&&t<Ht[n].priority;n++);Ht.splice(n,0,e),n===0&&Rl(e)}};function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qc(){}function up(e,t,n,a,i){if(i){if(typeof a=="function"){var d=a;a=function(){var P=gs(p);d.call(P)}}var p=Vc(t,a,e,0,null,!1,!1,"",Qc);return e._reactRootContainer=p,e[Rt]=p.current,zr(e.nodeType===8?e.parentNode:e),_n(),p}for(;i=e.lastChild;)e.removeChild(i);if(typeof a=="function"){var b=a;a=function(){var P=gs(x);b.call(P)}}var x=wi(e,0,!1,null,null,!1,!1,"",Qc);return e._reactRootContainer=x,e[Rt]=x.current,zr(e.nodeType===8?e.parentNode:e),_n(function(){ms(t,x,n,a)}),x}function bs(e,t,n,a,i){var d=n._reactRootContainer;if(d){var p=d;if(typeof i=="function"){var b=i;i=function(){var x=gs(p);b.call(x)}}ms(t,p,e,i)}else p=up(n,t,e,i,a);return gs(p)}Tl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_r(t.pendingLanes);n!==0&&(Ks(t,n|1),rt(t,Re()),(le&6)===0&&(tr=Re()+500,Xt()))}break;case 13:_n(function(){var a=$t(e,1);if(a!==null){var i=Xe();St(a,e,1,i)}}),xi(e,1)}},Qs=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var n=Xe();St(t,e,134217728,n)}xi(e,134217728)}},Pl=function(e){if(e.tag===13){var t=an(e),n=$t(e,t);if(n!==null){var a=Xe();St(n,e,t,a)}xi(e,t)}},El=function(){return pe},Cl=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}},Us=function(e,t,n){switch(t){case"input":if(Rs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=$a(a);if(!i)throw Error(s(90));el(a),Rs(a,i)}}}break;case"textarea":sl(e,n);break;case"select":t=n.value,t!=null&&Rn(e,!!n.multiple,t,!1)}},pl=pi,ml=_n;var cp={usingClientEntryPoint:!1,Events:[Fr,qn,$a,hl,fl,pi]},ta={findFiberByHostInstance:mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dp={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bl(e),e===null?null:e.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||lp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ws.isDisabled&&ws.supportsFiber)try{ya=ws.inject(dp),Tt=ws}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp,at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_i(t))throw Error(s(200));return ip(e,t,null,n)},at.createRoot=function(e,t){if(!_i(e))throw Error(s(299));var n=!1,a="",i=Kc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=wi(e,1,!1,null,null,n,!1,a,i),e[Rt]=t.current,zr(e.nodeType===8?e.parentNode:e),new ki(t)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=bl(t),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return _n(e)},at.hydrate=function(e,t,n){if(!vs(t))throw Error(s(200));return bs(null,e,t,!0,n)},at.hydrateRoot=function(e,t,n){if(!_i(e))throw Error(s(405));var a=n!=null&&n.hydratedSources||null,i=!1,d="",p=Kc;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=Vc(t,null,e,1,n??null,i,!1,d,p),e[Rt]=t.current,zr(e),a)for(e=0;e<a.length;e++)n=a[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ys(t)},at.render=function(e,t,n){if(!vs(t))throw Error(s(200));return bs(null,e,t,!1,n)},at.unmountComponentAtNode=function(e){if(!vs(e))throw Error(s(40));return e._reactRootContainer?(_n(function(){bs(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1},at.unstable_batchedUpdates=pi,at.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!vs(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return bs(e,t,n,!1,a)},at.version="18.3.1-next-f1338f8080-20240426",at}var od;function xp(){if(od)return Si.exports;od=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),Si.exports=wp(),Si.exports}var id;function kp(){if(id)return xs;id=1;var u=xp();return xs.createRoot=u.createRoot,xs.hydrateRoot=u.hydrateRoot,xs}var _p=kp();const Sp=u=>u instanceof Error?u.message+`
`+u.stack:JSON.stringify(u,null,2);class jp extends yp.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?f.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[f.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),f.jsx("pre",{className:"mt-2 text-sm",children:Sp(this.state.error)})]}):this.props.children}}/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var Np={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Tp=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dt=(u,r)=>{const s=z.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:h,className:m="",children:g,...y},v)=>z.createElement("svg",{ref:v,...Np,width:l,height:l,stroke:o,strokeWidth:h?Number(c)*24/Number(l):c,className:["lucide",`lucide-${Tp(u)}`,m].join(" "),...y},[...r.map(([w,_])=>z.createElement(w,_)),...Array.isArray(g)?g:[g]]));return s.displayName=`${u}`,s};/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ld=dt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qd=dt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ud=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Vi=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Hi=dt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ki=dt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ts=dt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pp=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ep=dt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ri=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cd=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dd=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
* @license lucide-react v0.364.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const la=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ua=function(u,r,s){let o=Promise.resolve();function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return o.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return u().catch(l)})},Cp=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...s)=>ua(async()=>{const{default:o}=await Promise.resolve().then(()=>gr);return{default:o}}).then(({default:o})=>o(...s)):r=fetch,(...s)=>r(...s)};class Qi extends Error{constructor(r,s="FunctionsError",o){super(r),this.name=s,this.context=o}}class Op extends Qi{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class hd extends Qi{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class fd extends Qi{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Ai;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Ai||(Ai={}));var Rp=function(u,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(o.next(v))}catch(w){h(w)}}function g(v){try{y(o.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(m,g)}y((o=o.apply(u,[])).next())})};class Ap{constructor(r,{headers:s={},customFetch:o,region:l=Ai.Any}={}){this.url=r,this.headers=s,this.region=l,this.fetch=Cp(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,s={}){var o;return Rp(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:h}=s;let m={},{region:g}=s;g||(g=this.region);const y=new URL(`${this.url}/${r}`);g&&g!=="any"&&(m["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let v;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",v=h):typeof h=="string"?(m["Content-Type"]="text/plain",v=h):typeof FormData<"u"&&h instanceof FormData?v=h:(m["Content-Type"]="application/json",v=JSON.stringify(h)));const w=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:v}).catch(R=>{throw new Op(R)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new hd(w);if(!w.ok)throw new fd(w);let N=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),C;return N==="application/json"?C=yield w.json():N==="application/octet-stream"?C=yield w.blob():N==="text/event-stream"?C=w:N==="multipart/form-data"?C=yield w.formData():C=yield w.text(),{data:C,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof fd||l instanceof hd?l.context:void 0}}})}}var qe={},rr={},ar={},sr={},or={},ir={},Ip=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mr=Ip();const Lp=mr.fetch,Bd=mr.fetch.bind(mr),Wd=mr.Headers,$p=mr.Request,Dp=mr.Response,gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wd,Request:$p,Response:Dp,default:Bd,fetch:Lp},Symbol.toStringTag,{value:"Module"})),zp=fp(gr);var ks={},pd;function Vd(){if(pd)return ks;pd=1,Object.defineProperty(ks,"__esModule",{value:!0});class u extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ks.default=u,ks}var md;function Hd(){if(md)return ir;md=1;var u=ir&&ir.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ir,"__esModule",{value:!0});const r=u(zp),s=u(Vd());class o{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=Object.assign({},this.headers),this.headers[c]=h,this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,w,_;let N=null,C=null,R=null,E=y.status,O=y.statusText;if(y.ok){if(this.method!=="HEAD"){const F=await y.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=F:C=JSON.parse(F))}const A=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),M=(w=y.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");A&&M&&M.length>1&&(R=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(N={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,R=null,E=406,O="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const A=await y.text();try{N=JSON.parse(A),Array.isArray(N)&&y.status===404&&(C=[],N=null,E=200,O="OK")}catch{y.status===404&&A===""?(E=204,O="No Content"):N={message:A}}if(N&&this.isMaybeSingle&&!((_=N==null?void 0:N.details)===null||_===void 0)&&_.includes("0 rows")&&(N=null,E=200,O="OK"),N&&this.shouldThrowOnError)throw new s.default(N)}return{error:N,data:C,count:R,status:E,statusText:O}});return this.shouldThrowOnError||(g=g.catch(y=>{var v,w,_;return{error:{message:`${(v=y==null?void 0:y.name)!==null&&v!==void 0?v:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(w=y==null?void 0:y.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(_=y==null?void 0:y.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,h)}returns(){return this}overrideTypes(){return this}}return ir.default=o,ir}var gd;function Kd(){if(gd)return or;gd=1;var u=or&&or.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(or,"__esModule",{value:!0});const r=u(Hd());class s extends r.default{select(l){let c=!1;const h=(l??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:c=!0,nullsFirst:h,foreignTable:m,referencedTable:g=m}={}){const y=g?`${g}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${l}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${l}`),this}range(l,c,{foreignTable:h,referencedTable:m=h}={}){const g=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(y,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:c=!1,settings:h=!1,buffers:m=!1,wal:g=!1,format:y="text"}={}){var v;const w=[l?"analyze":null,c?"verbose":null,h?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${y}; for="${_}"; options=${w};`,y==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return or.default=s,or}var yd;function Gi(){if(yd)return sr;yd=1;var u=sr&&sr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sr,"__esModule",{value:!0});const r=u(Kd());class s extends r.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${g}fts${y}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}}return sr.default=s,sr}var vd;function Qd(){if(vd)return ar;vd=1;var u=ar&&ar.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ar,"__esModule",{value:!0});const r=u(Gi());class s{constructor(l,{headers:c={},schema:h,fetch:m}){this.url=l,this.headers=c,this.schema=h,this.fetch=m}select(l,{head:c=!1,count:h}={}){const m=c?"HEAD":"GET";let g=!1;const y=(l??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",y),h&&(this.headers.Prefer=`count=${h}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:c,defaultToNull:h=!0}={}){const m="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),c&&g.push(`count=${c}`),h||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(l)){const y=l.reduce((v,w)=>v.concat(Object.keys(w)),[]);if(y.length>0){const v=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:c,ignoreDuplicates:h=!1,count:m,defaultToNull:g=!0}={}){const y="POST",v=[`resolution=${h?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&v.push(this.headers.Prefer),m&&v.push(`count=${m}`),g||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const w=l.reduce((_,N)=>_.concat(Object.keys(N)),[]);if(w.length>0){const _=[...new Set(w)].map(N=>`"${N}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:c}={}){const h="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),this.headers.Prefer=m.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const c="DELETE",h=[];return l&&h.push(`count=${l}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new r.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ar.default=s,ar}var ra={},_s={},bd;function Mp(){return bd||(bd=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.version=void 0,_s.version="0.0.0-automated"),_s}var wd;function Up(){if(wd)return ra;wd=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.DEFAULT_HEADERS=void 0;const u=Mp();return ra.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u.version}`},ra}var xd;function Fp(){if(xd)return rr;xd=1;var u=rr&&rr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(rr,"__esModule",{value:!0});const r=u(Qd()),s=u(Gi()),o=Up();class l{constructor(h,{headers:m={},schema:g,fetch:y}={}){this.url=h,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),m),this.schemaName=g,this.fetch=y}from(h){const m=new URL(`${this.url}/${h}`);return new r.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new l(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,m={},{head:g=!1,get:y=!1,count:v}={}){let w;const _=new URL(`${this.url}/rpc/${h}`);let N;g||y?(w=g?"HEAD":"GET",Object.entries(m).filter(([R,E])=>E!==void 0).map(([R,E])=>[R,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([R,E])=>{_.searchParams.append(R,E)})):(w="POST",N=m);const C=Object.assign({},this.headers);return v&&(C.Prefer=`count=${v}`),new s.default({method:w,url:_,headers:C,schema:this.schemaName,body:N,fetch:this.fetch,allowEmpty:!1})}}return rr.default=l,rr}var kd;function qp(){if(kd)return qe;kd=1;var u=qe&&qe.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(qe,"__esModule",{value:!0}),qe.PostgrestError=qe.PostgrestBuilder=qe.PostgrestTransformBuilder=qe.PostgrestFilterBuilder=qe.PostgrestQueryBuilder=qe.PostgrestClient=void 0;const r=u(Fp());qe.PostgrestClient=r.default;const s=u(Qd());qe.PostgrestQueryBuilder=s.default;const o=u(Gi());qe.PostgrestFilterBuilder=o.default;const l=u(Kd());qe.PostgrestTransformBuilder=l.default;const c=u(Hd());qe.PostgrestBuilder=c.default;const h=u(Vd());return qe.PostgrestError=h.default,qe.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:h.default},qe}var Bp=qp();const Wp=Fd(Bp),{PostgrestClient:Vp,PostgrestQueryBuilder:Yg,PostgrestFilterBuilder:Xg,PostgrestTransformBuilder:Zg,PostgrestBuilder:ey,PostgrestError:ty}=Wp;function Hp(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Kp=Hp(),Qp="2.11.15",Gp=`realtime-js/${Qp}`,Jp="1.0.0",Gd=1e4,Yp=1e3;var sa;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(sa||(sa={}));var Je;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Je||(Je={}));var Nt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Nt||(Nt={}));var Ii;(function(u){u.websocket="websocket"})(Ii||(Ii={}));var Cn;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Cn||(Cn={}));class Xp{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),o=new TextDecoder;return this._decodeBroadcast(r,s,o)}_decodeBroadcast(r,s,o){const l=s.getUint8(1),c=s.getUint8(2);let h=this.HEADER_LENGTH+2;const m=o.decode(r.slice(h,h+l));h=h+l;const g=o.decode(r.slice(h,h+c));h=h+c;const y=JSON.parse(o.decode(r.slice(h,r.byteLength)));return{ref:null,topic:m,event:g,payload:y}}}class Jd{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(be||(be={}));const _d=(u,r,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(r).reduce((c,h)=>(c[h]=Zp(h,u,r,l),c),{})},Zp=(u,r,s,o)=>{const l=r.find(m=>m.name===u),c=l==null?void 0:l.type,h=s[u];return c&&!o.includes(c)?Yd(c,h):Li(h)},Yd=(u,r)=>{if(u.charAt(0)==="_"){const s=u.slice(1,u.length);return rm(r,s)}switch(u){case be.bool:return em(r);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return tm(r);case be.json:case be.jsonb:return nm(r);case be.timestamp:return am(r);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return Li(r);default:return Li(r)}},Li=u=>u,em=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},tm=u=>{if(typeof u=="string"){const r=parseFloat(u);if(!Number.isNaN(r))return r}return u},nm=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(r){return console.log(`JSON parse error: ${r}`),u}return u},rm=(u,r)=>{if(typeof u!="string")return u;const s=u.length-1,o=u[s];if(u[0]==="{"&&o==="}"){let l;const c=u.slice(1,s);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Yd(r,h))}return u},am=u=>typeof u=="string"?u.replace(" ","T"):u,Xd=u=>{let r=u;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")};class ji{constructor(r,s,o={},l=Gd){this.channel=r,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var o;return this._hasReceived(r)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Sd;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(Sd||(Sd={}));class oa{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oa.syncState(this.state,l,c,h),this.pendingDiffs.forEach(g=>{this.state=oa.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=oa.syncDiff(this.state,l,c,h),m())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,o,l){const c=this.cloneDeep(r),h=this.transformState(s),m={},g={};return this.map(c,(y,v)=>{h[y]||(g[y]=v)}),this.map(h,(y,v)=>{const w=c[y];if(w){const _=v.map(E=>E.presence_ref),N=w.map(E=>E.presence_ref),C=v.filter(E=>N.indexOf(E.presence_ref)<0),R=w.filter(E=>_.indexOf(E.presence_ref)<0);C.length>0&&(m[y]=C),R.length>0&&(g[y]=R)}else m[y]=v}),this.syncDiff(c,{joins:m,leaves:g},o,l)}static syncDiff(r,s,o,l){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(m,g)=>{var y;const v=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(g),v.length>0){const w=r[m].map(N=>N.presence_ref),_=v.filter(N=>w.indexOf(N.presence_ref)<0);r[m].unshift(..._)}o(m,v,g)}),this.map(h,(m,g)=>{let y=r[m];if(!y)return;const v=g.map(w=>w.presence_ref);y=y.filter(w=>v.indexOf(w.presence_ref)<0),r[m]=y,l(m,y,g),y.length===0&&delete r[m]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(o=>s(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,o)=>{const l=r[o];return"metas"in l?s[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=l,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jd;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(jd||(jd={}));var Nd;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Nd||(Nd={}));var Ft;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class Ji{constructor(r,s={config:{}},o){this.topic=r,this.params=s,this.socket=o,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ji(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new Jd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new oa(this),this.broadcastEndpointURL=Xd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(r,s=this.timeout){var o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:c,presence:h,private:m}}=this.params;this._onError(v=>r==null?void 0:r(Ft.CHANNEL_ERROR,v)),this._onClose(()=>r==null?void 0:r(Ft.CLOSED));const g={},y={broadcast:c,presence:h,postgres_changes:(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(v=>v.filter))!==null&&l!==void 0?l:[],private:m};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:y},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){r==null||r(Ft.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,N=(w=_==null?void 0:_.length)!==null&&w!==void 0?w:0,C=[];for(let R=0;R<N;R++){const E=_[R],{filter:{event:O,schema:A,table:M,filter:F}}=E,Z=v&&v[R];if(Z&&Z.event===O&&Z.schema===A&&Z.table===M&&Z.filter===F)C.push(Object.assign(Object.assign({},E),{id:Z.id}));else{this.unsubscribe(),this.state=Je.errored,r==null||r(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,r&&r(Ft.SUBSCRIBED);return}}).receive("error",v=>{this.state=Je.errored,r==null||r(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,o){return this._on(r,s,o)}async send(r,s={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){const{event:c,payload:h}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,g;const y=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new ji(this,Nt.leave,{},r),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(r,s,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),h}_push(r,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new ji(this,r,s,o);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(r,s,o){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,o){var l,c;const h=r.toLocaleLowerCase(),{close:m,error:g,leave:y,join:v}=Nt;if(o&&[m,g,y,v].indexOf(h)>=0&&o!==this._joinRef())return;let w=this._onMessage(h,s,o);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(_=>{var N,C,R;return((N=_.filter)===null||N===void 0?void 0:N.event)==="*"||((R=(C=_.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===h}).map(_=>_.callback(w,o)):(c=this.bindings[h])===null||c===void 0||c.filter(_=>{var N,C,R,E,O,A;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in _){const M=_.id,F=(N=_.filter)===null||N===void 0?void 0:N.event;return M&&((C=s.ids)===null||C===void 0?void 0:C.includes(M))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((R=s.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const M=(O=(E=_==null?void 0:_.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return M==="*"||M===((A=s==null?void 0:s.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===h}).map(_=>{if(typeof w=="object"&&"ids"in w){const N=w.data,{schema:C,table:R,commit_timestamp:E,type:O,errors:A}=N;w=Object.assign(Object.assign({},{schema:C,table:R,commit_timestamp:E,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(N))}_.callback(w,o)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,o){const l=r.toLocaleLowerCase(),c={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,s){const o=r.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&Ji.isEqual(l.filter,s))}),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const o in r)if(r[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Nt.close,{},r)}_onError(r){this._on(Nt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=_d(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=_d(r.columns,r.old_record)),s}}const Td=()=>{},sm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class om{constructor(r,s){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gd,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Td,this.ref=0,this.logger=Td,this.conn=null,this.sendBuffer=[],this.serializer=new Xp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let h;return c?h=c:typeof fetch>"u"?h=(...m)=>ua(async()=>{const{default:g}=await Promise.resolve().then(()=>gr);return{default:g}}).then(({default:g})=>g(...m)):h=fetch,(...m)=>h(...m)},this.endPoint=`${r}/${Ii.websocket}`,this.httpEndpoint=Xd(r),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const l=(o=s==null?void 0:s.params)===null||o===void 0?void 0:o.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,h)=>h(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jd(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Kp),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jp}))}disconnect(r,s){this.conn&&(this.conn.onclose=function(){},r?this.conn.close(r,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(o=>o.teardown()))}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,o){this.logger(r,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case sa.connecting:return Cn.Connecting;case sa.open:return Cn.Open;case sa.closing:return Cn.Closing;default:return Cn.Closed}}isConnected(){return this.connectionState()===Cn.Open}channel(r,s={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new Ji(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:o,payload:l,ref:c}=r,h=()=>{this.encode(r,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${o} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){let s=r||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const l={access_token:s,version:Gp};s&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Nt.access_token,{access_token:s})}))}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(r=this.conn)===null||r===void 0||r.close(Yp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_onConnMessage(r){this.decode(r.data,s=>{let{topic:o,event:l,payload:c,ref:h}=s;o==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${o} ${l} ${h&&"("+h+")"||""}`,c),Array.from(this.channels).filter(m=>m._isMember(o)).forEach(m=>m._trigger(l,c,h)),this.stateChangeCallbacks.message.forEach(m=>m(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(r=>r())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){this.log("transport","close",r),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(r))}_onConnError(r){this.log("transport",`${r}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(r))}_triggerChanError(){this.channels.forEach(r=>r._trigger(Nt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${r}${o}${l}`}_workerObjectUrl(r){let s;if(r)s=r;else{const o=new Blob([sm],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}}class Yi extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Be(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class im extends Yi{constructor(r,s,o){super(r),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $i extends Yi{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var lm=function(u,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(o.next(v))}catch(w){h(w)}}function g(v){try{y(o.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(m,g)}y((o=o.apply(u,[])).next())})};const Zd=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...s)=>ua(async()=>{const{default:o}=await Promise.resolve().then(()=>gr);return{default:o}}).then(({default:o})=>o(...s)):r=fetch,(...s)=>r(...s)},um=()=>lm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ua(()=>Promise.resolve().then(()=>gr))).Response:Response}),Di=u=>{if(Array.isArray(u))return u.map(s=>Di(s));if(typeof u=="function"||u!==Object(u))return u;const r={};return Object.entries(u).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=Di(o)}),r},cm=u=>{if(typeof u!="object"||u===null)return!1;const r=Object.getPrototypeOf(u);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var On=function(u,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(o.next(v))}catch(w){h(w)}}function g(v){try{y(o.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(m,g)}y((o=o.apply(u,[])).next())})};const Ni=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),dm=(u,r,s)=>On(void 0,void 0,void 0,function*(){const o=yield um();u instanceof o&&!(s!=null&&s.noResolveJson)?u.json().then(l=>{const c=u.status||500,h=(l==null?void 0:l.statusCode)||c+"";r(new im(Ni(l),c,h))}).catch(l=>{r(new $i(Ni(l),l))}):r(new $i(Ni(u),u))}),hm=(u,r,s,o)=>{const l={method:u,headers:(r==null?void 0:r.headers)||{}};return u==="GET"||!o?l:(cm(o)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,Object.assign(Object.assign({},l),s))};function ca(u,r,s,o,l,c){return On(this,void 0,void 0,function*(){return new Promise((h,m)=>{u(s,hm(r,o,l,c)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>dm(g,m,o))})})}function Ps(u,r,s,o){return On(this,void 0,void 0,function*(){return ca(u,"GET",r,s,o)})}function qt(u,r,s,o,l){return On(this,void 0,void 0,function*(){return ca(u,"POST",r,o,l,s)})}function zi(u,r,s,o,l){return On(this,void 0,void 0,function*(){return ca(u,"PUT",r,o,l,s)})}function fm(u,r,s,o){return On(this,void 0,void 0,function*(){return ca(u,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function eh(u,r,s,o,l){return On(this,void 0,void 0,function*(){return ca(u,"DELETE",r,o,l,s)})}var st=function(u,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(o.next(v))}catch(w){h(w)}}function g(v){try{y(o.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(m,g)}y((o=o.apply(u,[])).next())})};const pm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mm{constructor(r,s={},o,l){this.url=r,this.headers=s,this.bucketId=o,this.fetch=Zd(l)}uploadOrUpdate(r,s,o,l){return st(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Pd),l);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=o,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),l!=null&&l.headers&&(m=Object.assign(Object.assign({},m),l.headers));const y=this._removeEmptyFolders(s),v=this._getFinalPath(y),w=yield(r=="PUT"?zi:qt)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(Be(c))return{data:null,error:c};throw c}})}upload(r,s,o){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,o)})}uploadToSignedUrl(r,s,o,l){return st(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:Pd.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",y.cacheControl)):(g=o,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const w=yield zi(this.fetch,m.toString(),g,{headers:v});return{data:{path:c,fullPath:w.Key},error:null}}catch(g){if(Be(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,s){return st(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r);const l=Object.assign({},this.headers);s!=null&&s.upsert&&(l["x-upsert"]="true");const c=yield qt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(this.url+c.url),m=h.searchParams.get("token");if(!m)throw new Yi("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}update(r,s,o){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,o)})}move(r,s,o){return st(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}copy(r,s,o){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}createSignedUrl(r,s,o){return st(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),c=yield qt(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}createSignedUrls(r,s,o){return st(this,void 0,void 0,function*(){try{const l=yield qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}download(r,s){return st(this,void 0,void 0,function*(){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),c=l?`?${l}`:"";try{const h=this._getFinalPath(r);return{data:yield(yield Ps(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Be(h))return{data:null,error:h};throw h}})}info(r){return st(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const o=yield Ps(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Di(o),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}exists(r){return st(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield fm(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Be(o)&&o instanceof $i){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}})}getPublicUrl(r,s){const o=this._getFinalPath(r),l=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const h=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&l.push(m);let g=l.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${g}`)}}}remove(r){return st(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}list(r,s,o){return st(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},pm),s),{prefix:r||""});return{data:yield qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(Be(l))return{data:null,error:l};throw l}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const gm="2.10.4",ym={"X-Client-Info":`storage-js/${gm}`};var lr=function(u,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(o.next(v))}catch(w){h(w)}}function g(v){try{y(o.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(m,g)}y((o=o.apply(u,[])).next())})};class vm{constructor(r,s={},o,l){const c=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},ym),s),this.fetch=Zd(o)}listBuckets(){return lr(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}getBucket(r){return lr(this,void 0,void 0,function*(){try{return{data:yield Ps(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}createBucket(r,s={public:!1}){return lr(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}updateBucket(r,s){return lr(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}emptyBucket(r){return lr(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}deleteBucket(r){return lr(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}}class bm extends vm{constructor(r,s={},o,l){super(r,s,o,l)}from(r){return new mm(this.url,this.headers,r,this.fetch)}}const wm="2.53.0";let aa="";typeof Deno<"u"?aa="deno":typeof document<"u"?aa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?aa="react-native":aa="node";const xm={"X-Client-Info":`supabase-js-${aa}/${wm}`},km={headers:xm},_m={schema:"public"},Sm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jm={};var Nm=function(u,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(o.next(v))}catch(w){h(w)}}function g(v){try{y(o.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(m,g)}y((o=o.apply(u,[])).next())})};const Tm=u=>{let r;return u?r=u:typeof fetch>"u"?r=Bd:r=fetch,(...s)=>r(...s)},Pm=()=>typeof Headers>"u"?Wd:Headers,Em=(u,r,s)=>{const o=Tm(s),l=Pm();return(c,h)=>Nm(void 0,void 0,void 0,function*(){var m;const g=(m=yield r())!==null&&m!==void 0?m:u;let y=new l(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",u),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),o(c,Object.assign(Object.assign({},h),{headers:y}))})};var Cm=function(u,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(o.next(v))}catch(w){h(w)}}function g(v){try{y(o.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(m,g)}y((o=o.apply(u,[])).next())})};function Om(u){return u.endsWith("/")?u:u+"/"}function Rm(u,r){var s,o;const{db:l,auth:c,realtime:h,global:m}=u,{db:g,auth:y,realtime:v,global:w}=r,_={db:Object.assign(Object.assign({},g),l),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},v),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),m),{headers:Object.assign(Object.assign({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(o=m==null?void 0:m.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Cm(this,void 0,void 0,function*(){return""})};return u.accessToken?_.accessToken=u.accessToken:delete _.accessToken,_}const th="2.71.1",fr=30*1e3,Mi=3,Ti=Mi*fr,Am="http://localhost:9999",Im="supabase.auth.token",Lm={"X-Client-Info":`gotrue-js/${th}`},Ui="X-Supabase-Api-Version",nh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$m=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dm=10*60*1e3;class Xi extends Error{constructor(r,s,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function te(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class zm extends Xi{constructor(r,s,o){super(r,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Mm(u){return te(u)&&u.name==="AuthApiError"}class rh extends Xi{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class hn extends Xi{constructor(r,s,o,l){super(r,o,l),this.name=s,this.status=o}}class cn extends hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Um(u){return te(u)&&u.name==="AuthSessionMissingError"}class Ss extends hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class js extends hn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ns extends hn{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fm(u){return te(u)&&u.name==="AuthImplicitGrantRedirectError"}class Ed extends hn{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fi extends hn{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Pi(u){return te(u)&&u.name==="AuthRetryableFetchError"}class Cd extends hn{constructor(r,s,o){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class qi extends hn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Es="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Od=` 	
\r=`.split(""),qm=(()=>{const u=new Array(128);for(let r=0;r<u.length;r+=1)u[r]=-1;for(let r=0;r<Od.length;r+=1)u[Od[r].charCodeAt(0)]=-2;for(let r=0;r<Es.length;r+=1)u[Es[r].charCodeAt(0)]=r;return u})();function Rd(u,r,s){if(u!==null)for(r.queue=r.queue<<8|u,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(Es[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(Es[o]),r.queuedBits-=6}}function ah(u,r,s){const o=qm[u];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Ad(u){const r=[],s=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{Vm(h,o,s)};for(let h=0;h<u.length;h+=1)ah(u.charCodeAt(h),l,c);return r.join("")}function Bm(u,r){if(u<=127){r(u);return}else if(u<=2047){r(192|u>>6),r(128|u&63);return}else if(u<=65535){r(224|u>>12),r(128|u>>6&63),r(128|u&63);return}else if(u<=1114111){r(240|u>>18),r(128|u>>12&63),r(128|u>>6&63),r(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Wm(u,r){for(let s=0;s<u.length;s+=1){let o=u.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(u.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}Bm(o,r)}}function Vm(u,r,s){if(r.utf8seq===0){if(u<=127){s(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=u&31;else if(r.utf8seq===3)r.codepoint=u&15;else if(r.utf8seq===4)r.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|u&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Hm(u){const r=[],s={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<u.length;l+=1)ah(u.charCodeAt(l),s,o);return new Uint8Array(r)}function Km(u){const r=[];return Wm(u,s=>r.push(s)),new Uint8Array(r)}function Qm(u){const r=[],s={queue:0,queuedBits:0},o=l=>{r.push(l)};return u.forEach(l=>Rd(l,s,o)),Rd(null,s,o),r.join("")}function Gm(u){return Math.round(Date.now()/1e3)+u}function Jm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const r=Math.random()*16|0;return(u=="x"?r:r&3|8).toString(16)})}const jt=()=>typeof window<"u"&&typeof document<"u",Tn={tested:!1,writable:!1},sh=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tn.tested)return Tn.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Tn.tested=!0,Tn.writable=!0}catch{Tn.tested=!0,Tn.writable=!1}return Tn.writable};function Ym(u){const r={},s=new URL(u);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,l)=>{r[l]=o})}catch{}return s.searchParams.forEach((o,l)=>{r[l]=o}),r}const oh=u=>{let r;return u?r=u:typeof fetch>"u"?r=(...s)=>ua(async()=>{const{default:o}=await Promise.resolve().then(()=>gr);return{default:o}}).then(({default:o})=>o(...s)):r=fetch,(...s)=>r(...s)},Xm=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",pr=async(u,r,s)=>{await u.setItem(r,JSON.stringify(s))},Pn=async(u,r)=>{const s=await u.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},un=async(u,r)=>{await u.removeItem(r)};class Cs{constructor(){this.promise=new Cs.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Cs.promiseConstructor=Promise;function Ei(u){const r=u.split(".");if(r.length!==3)throw new qi("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!$m.test(r[s]))throw new qi("JWT not in base64url format");return{header:JSON.parse(Ad(r[0])),payload:JSON.parse(Ad(r[1])),signature:Hm(r[2]),raw:{header:r[0],payload:r[1]}}}async function Zm(u){return await new Promise(r=>{setTimeout(()=>r(null),u)})}function eg(u,r){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await u(l);if(!r(l,null,c)){s(c);return}}catch(c){if(!r(l,c)){o(c);return}}})()})}function tg(u){return("0"+u.toString(16)).substr(-2)}function ng(){const u=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let l=0;l<56;l++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(u),Array.from(u,tg).join("")}async function rg(u){const r=new TextEncoder().encode(u),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function ag(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const r=await rg(u);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ur(u,r,s=!1){const o=ng();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await pr(u,`${r}-code-verifier`,l);const c=await ag(o);return[c,o===c?"plain":"s256"]}const sg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function og(u){const r=u.headers.get(Ui);if(!r||!r.match(sg))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function ig(u){if(!u)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(u<=r)throw new Error("JWT has expired")}function lg(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ug=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cr(u){if(!ug.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ci(){const u={};return new Proxy(u,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Id(u){return JSON.parse(JSON.stringify(u))}var cg=function(u,r){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(u);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(u,o[l])&&(s[o[l]]=u[o[l]]);return s};const En=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),dg=[502,503,504];async function Ld(u){var r;if(!Xm(u))throw new Fi(En(u),0);if(dg.includes(u.status))throw new Fi(En(u),u.status);let s;try{s=await u.json()}catch(c){throw new rh(En(c),c)}let o;const l=og(u);if(l&&l.getTime()>=nh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Cd(En(s),u.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new cn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Cd(En(s),u.status,s.weak_password.reasons);throw new zm(En(s),u.status||500,o)}const hg=(u,r,s,o)=>{const l={method:u,headers:(r==null?void 0:r.headers)||{}};return u==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function oe(u,r,s,o){var l;const c=Object.assign({},o==null?void 0:o.headers);c[Ui]||(c[Ui]=nh["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await fg(u,r,s+m,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function fg(u,r,s,o,l,c){const h=hg(r,o,l,c);let m;try{m=await u(s,Object.assign({},h))}catch(g){throw console.error(g),new Fi(En(g),0)}if(m.ok||await Ld(m),o!=null&&o.noResolveJson)return m;try{return await m.json()}catch(g){await Ld(g)}}function Ut(u){var r;let s=null;yg(u)&&(s=Object.assign({},u),u.expires_at||(s.expires_at=Gm(u.expires_in)));const o=(r=u.user)!==null&&r!==void 0?r:u;return{data:{session:s,user:o},error:null}}function $d(u){const r=Ut(u);return!r.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(r.data.weak_password=u.weak_password),r}function dn(u){var r;return{data:{user:(r=u.user)!==null&&r!==void 0?r:u},error:null}}function pg(u){return{data:u,error:null}}function mg(u){const{action_link:r,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c}=u,h=cg(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function gg(u){return u}function yg(u){return u.access_token&&u.refresh_token&&u.expires_in}const Oi=["global","local","others"];var vg=function(u,r){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&r.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(u);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(u,o[l])&&(s[o[l]]=u[o[l]]);return s};class bg{constructor({url:r="",headers:s={},fetch:o}){this.url=r,this.headers=s,this.fetch=oh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,s=Oi[0]){if(Oi.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oi.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(te(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,s={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:dn})}catch(o){if(te(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:s}=r,o=vg(r,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:mg,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(te(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:dn})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,o,l,c,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},v=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:gg});if(v.error)throw v.error;const w=await v.json(),_=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(C.split(";")[1].split("=")[1]);y[`${E}Page`]=R}),y.total=parseInt(_)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(te(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){cr(r);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:dn})}catch(s){if(te(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){cr(r);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:dn})}catch(o){if(te(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,s=!1){cr(r);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:dn})}catch(o){if(te(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){cr(r.userId);try{const{data:s,error:o}=await oe(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(te(s))return{data:null,error:s};throw s}}async _deleteFactor(r){cr(r.userId),cr(r.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}}function Dd(u={}){return{getItem:r=>u[r]||null,setItem:(r,s)=>{u[r]=s},removeItem:r=>{delete u[r]}}}function wg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dr={debug:!!(globalThis&&sh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ih extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class xg extends ih{}async function kg(u,r,s){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,r);const o=new globalThis.AbortController;return r>0&&setTimeout(()=>{o.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,l.name);try{return await s()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,l.name)}}else{if(r===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new xg(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(dr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}wg();const _g={url:Am,storageKey:Im,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zd(u,r,s){return await s()}const hr={};class ia{constructor(r){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ia.nextInstanceID,ia.nextInstanceID+=1,this.instanceID>0&&jt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},_g),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new bg({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=oh(l.fetch),this.lock=l.lock||zd,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:jt()&&!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks?this.lock=kg:this.lock=zd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:sh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dd(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Dd(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var r,s;return(s=(r=hr[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=hr[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${th}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=Ym(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),jt()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Fm(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:m}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return te(s)?{error:s}:{error:new rh("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,o,l;try{const c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ut}),{data:h,error:m}=c;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(c){if(te(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(r){var s,o,l;try{let c;if("email"in r){const{email:v,password:w,options:_}=r;let N=null,C=null;this.flowType==="pkce"&&([N,C]=await ur(this.storage,this.storageKey)),c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:w,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:N,code_challenge_method:C},xform:Ut})}else if("phone"in r){const{phone:v,password:w,options:_}=r;c=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:w,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Ut})}else throw new js("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(c){if(te(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:m}=r;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:$d})}else if("phone"in r){const{phone:c,password:h,options:m}=r;s=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:$d})}else throw new js("You must provide either an email or phone number and a password");const{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ss}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,o,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;if(s==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(r){var s,o,l,c,h,m,g,y,v,w,_,N;let C,R;if("message"in r)C=r.message,R=r.signature;else{const{chain:E,wallet:O,statement:A,options:M}=r;let F;if(jt())if(typeof O=="object")F=O;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))F=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=O}const Z=new URL((s=M==null?void 0:M.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in F&&F.signIn){const K=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),A?{statement:A}:null));let re;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")re=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)re=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)C=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),R=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${Z.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(l=(o=M==null?void 0:M.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=M==null?void 0:M.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M==null?void 0:M.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((y=M==null?void 0:M.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((w=(v=M==null?void 0:M.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||w===void 0)&&w.length?["Resources",...M.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const K=await F.signMessage(new TextEncoder().encode(C),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=K}}try{const{data:E,error:O}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Qm(R)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(N=r.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Ut});if(O)throw O;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Ss}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:O})}catch(E){if(te(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(r){const s=await Pn(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{const{data:c,error:h}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Ut});if(await un(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Ss}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(te(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(r){try{const{options:s,provider:o,token:l,access_token:c,nonce:h}=r,m=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ut}),{data:g,error:y}=m;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Ss}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:y})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,o,l,c,h;try{if("email"in r){const{email:m,options:g}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await ur(this.storage,this.storageKey));const{error:w}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in r){const{phone:m,options:g}=r,{data:y,error:v}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:v}}throw new js("You must provide either an email or phone number.")}catch(m){if(te(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var s,o;try{let l,c;"options"in r&&(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:m}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Ut});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(l){if(te(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var s,o,l;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await ur(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:pg})}catch(c){if(te(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)throw o;if(!s)throw new cn;const{error:l}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(te(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:c}=r,{error:h}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:o,type:l,options:c}=r,{data:h,error:m}=await oe(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new js("You must provide either an email or phone number and a type")}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Pn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<Ti:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Pn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Ci()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(m,g,y)=>(!h&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,g,y))})}return{data:{session:r},error:null}}const{session:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:dn}):await this._useSession(async s=>{var o,l,c;const{data:h,error:m}=s;if(m)throw m;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:dn})})}catch(s){if(te(s))return Um(s)&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new cn;const h=l.session;let m=null,g=null;this.flowType==="pkce"&&r.email!=null&&([m,g]=await ur(this.storage,this.storageKey));const{data:y,error:v}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:dn});if(v)throw v;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(te(o))return{data:{user:null},error:o};throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new cn;const s=Date.now()/1e3;let o=s,l=!0,c=null;const{payload:h}=Ei(r.access_token);if(h.exp&&(o=h.exp,l=o<=s),l){const{session:m,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(te(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var o;if(!r){const{data:h,error:m}=s;if(m)throw m;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new cn;const{session:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!jt())throw new Ns("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ns(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ns("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ed("No code detected.");const{data:A,error:M}=await this._exchangeCodeForSession(r.code);if(M)throw M;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:m,expires_at:g,token_type:y}=r;if(!c||!m||!h||!y)throw new Ns("No session defined in URL");const v=Math.round(Date.now()/1e3),w=parseInt(m);let _=v+w;g&&(_=parseInt(g));const N=_-v;N*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${w}s`);const C=_-w;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,v);const{data:R,error:E}=await this._getUser(c);if(E)throw E;const O={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:w,expires_at:_,refresh_token:h,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:r.type},error:null}}catch(o){if(te(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Pn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return{error:c};const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(Mm(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=Jm(),o={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async s=>{var o,l;try{const{data:{session:c},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ur(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(te(c))return{data:null,error:c};throw c}}async getUserIdentities(){var r;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(te(s))return{data:null,error:s};throw s}}async linkIdentity(r){var s;try{const{data:o,error:l}=await this._useSession(async c=>{var h,m,g,y,v;const{data:w,error:_}=c;if(_)throw _;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",N,{headers:this.headers,jwt:(v=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return jt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:r.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(te(o))return{data:{provider:r.provider,url:null},error:o};throw o}}async unlinkIdentity(r){try{return await this._useSession(async s=>{var o,l;const{data:c,error:h}=s;if(h)throw h;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await eg(async l=>(l>0&&await Zm(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ut})),(l,c)=>{const h=200*Math.pow(2,l);return c&&Pi(c)&&Date.now()+h-o<fr})}catch(o){if(this._debug(s,"error",o),te(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",o),jt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Pn(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Pn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await pr(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Ci()}else if(l&&!l.user&&!l.user){const h=await Pn(this.storage,this.storageKey+"-user");h&&h!=null&&h.user?(l.user=h.user,await un(this.storage,this.storageKey+"-user"),await pr(this.storage,this.storageKey,l)):l.user=Ci()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ti;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Ti}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),Pi(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(l.access_token);!m&&h!=null&&h.user?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var s,o;if(!r)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Cs;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new cn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(l,"error",c),te(c)){const h={session:null,error:c};return Pi(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,s,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,s)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await pr(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=Id(l);await pr(this.storage,this.storageKey,c)}else{const l=Id(s);await pr(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await un(this.storage,this.storageKey),await un(this.storage,this.storageKey+"-code-verifier"),await un(this.storage,this.storageKey+"-user"),this.userStorage&&await un(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&jt()&&window!=null&&window.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${fr}ms, refresh threshold is ${Mi} ticks`),l<=Mi&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof ih)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await ur(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(m.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;return c?{data:null,error:c}:await oe(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var o,l;const{data:c,error:h}=s;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:g,error:y}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&!((l=g==null?void 0:g.totp)===null||l===void 0)&&l.qr_code&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(te(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return{data:null,error:c};const{data:h,error:m}=await oe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;return c?{data:null,error:c}:await oe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(te(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:o}=await this._challenge({factorId:r.factorId});return o?{data:null,error:o}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=(r==null?void 0:r.factors)||[],l=o.filter(h=>h.factor_type==="totp"&&h.status==="verified"),c=o.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:o,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,o;const{data:{session:l},error:c}=r;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Ei(l.access_token);let m=null;h.aal&&(m=h.aal);let g=m;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(v=>v.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=h.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,s={keys:[]}){let o=s.keys.find(m=>m.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(m=>m.kid===r),o&&this.jwks_cached_at+Dm>l)return o;const{data:c,error:h}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(m=>m.kid===r),!o)?null:o}async getClaims(r,s={}){try{let o=r;if(!o){const{data:_,error:N}=await this.getSession();if(N||!_.session)return{data:null,error:N};o=_.session.access_token}const{header:l,payload:c,signature:h,raw:{header:m,payload:g}}=Ei(o);s!=null&&s.allowExpired||ig(c.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!y){const{error:_}=await this.getUser(o);if(_)throw _;return{data:{claims:c,header:l,signature:h},error:null}}const v=lg(l.alg),w=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,w,h,Km(`${m}.${g}`)))throw new qi("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(o){if(te(o))return{data:null,error:o};throw o}}}ia.nextInstanceID=0;const Sg=ia;class jg extends Sg{constructor(r){super(r)}}var Ng=function(u,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(o.next(v))}catch(w){h(w)}}function g(v){try{y(o.throw(v))}catch(w){h(w)}}function y(v){v.done?c(v.value):l(v.value).then(m,g)}y((o=o.apply(u,[])).next())})};class Tg{constructor(r,s,o){var l,c,h;if(this.supabaseUrl=r,this.supabaseKey=s,!r)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const m=Om(r),g=new URL(m);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const y=`sb-${g.hostname.split(".")[0]}-auth-token`,v={db:_m,realtime:jm,auth:Object.assign(Object.assign({},Sm),{storageKey:y}),global:km},w=Rm(o??{},v);this.storageKey=(l=w.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=w.global.headers)!==null&&c!==void 0?c:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(_,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=w.auth)!==null&&h!==void 0?h:{},this.headers,w.global.fetch),this.fetch=Em(s,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new Vp(new URL("rest/v1",g).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new bm(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new Ap(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},o={}){return this.rest.rpc(r,s,o)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,s;return Ng(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:l,storageKey:c,flowType:h,lock:m,debug:g},y,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jg({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:c,autoRefreshToken:r,persistSession:s,detectSessionInUrl:o,storage:l,flowType:h,lock:m,debug:g,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new om(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(r,s,o){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pg=(u,r,s)=>new Tg(u,r,s);function Eg(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const u=process.version.match(/^v(\d+)\./);return u?parseInt(u[1],10)<=18:!1}Eg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cg="https://bjtjobxqqnngvponbuek.supabase.co",Og="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJqdGpvYnhxcW5uZ3Zwb25idWVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM1MTU3NzgsImV4cCI6MjA2OTA5MTc3OH0.YNv7FmzZ2S02_fy8t7VggUEz6vR7jcgpzSDb45i1Um4",Se=Pg(Cg,Og),lh=z.createContext(void 0);function Rg({children:u}){const[r,s]=z.useState(null),[o,l]=z.useState(!0);z.useEffect(()=>{async function g(){l(!0);try{const{data:{user:v}}=await Se.auth.getUser();s(v)}catch(v){console.error("Error loading user:",v)}finally{l(!1)}}g();const{data:{subscription:y}}=Se.auth.onAuthStateChange((v,w)=>{s((w==null?void 0:w.user)||null)});return()=>y.unsubscribe()},[]);const c=async(g,y)=>{const{error:v}=await Se.auth.signInWithPassword({email:g,password:y});return{error:v}},h=async(g,y,v)=>{const{data:w,error:_}=await Se.auth.signUp({email:g,password:y,options:{data:{full_name:v}}});if(w.user&&!_)try{const{data:N,error:C}=await Se.functions.invoke("create-user-profile",{body:{userId:w.user.id,fullName:v}});C?console.error("Error creating user profile via edge function:",C):console.log("User profile created successfully:",N)}catch(N){console.error("Error in profile creation process:",N)}return{error:_}},m=async()=>{await Se.auth.signOut()};return f.jsx(lh.Provider,{value:{user:r,loading:o,signIn:c,signUp:h,signOut:m},children:u})}function fn(){const u=z.useContext(lh);if(u===void 0)throw new Error("useAuth must be used within an AuthProvider");return u}function Zi({isOpen:u,onClose:r}){const[s,o]=z.useState("signin"),[l,c]=z.useState(""),[h,m]=z.useState(""),[g,y]=z.useState(""),[v,w]=z.useState(!1),[_,N]=z.useState(""),{signIn:C,signUp:R}=fn();if(!u)return null;const E=async O=>{O.preventDefault(),w(!0),N("");try{let A;if(s==="signin"){if(A=await C(l,h),A.error&&(A.error.message.includes("Invalid login credentials")||A.error.message.includes("User not found")||A.error.message.includes("invalid_credentials"))){N("No account found with this email. Would you like to sign up instead?"),w(!1);return}}else{if(!g.trim()){N("Name or alias is required"),w(!1);return}A=await R(l,h,g)}A.error?N(A.error.message):(r(),c(""),m(""),y(""),N(""),o("signin"))}catch{N("An unexpected error occurred")}finally{w(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(la,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[f.jsx("button",{type:"button",onClick:()=>{o("signin"),N("")},className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${s==="signin"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Sign In"}),f.jsx("button",{type:"button",onClick:()=>{o("signup"),N("")},className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${s==="signup"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Sign Up"})]}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s==="signin"?"Welcome Back":"Join 30Voice"}),f.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s==="signup"&&f.jsxs("div",{children:[f.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name or Alias"}),f.jsx("input",{type:"text",id:"displayName",value:g,onChange:O=>y(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your name or preferred alias",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsx("input",{type:"email",id:"email",value:l,onChange:O=>c(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),f.jsx("input",{type:"password",id:"password",value:h,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your password",required:!0,minLength:6})]}),_&&f.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:_}),f.jsx("button",{type:"submit",disabled:v,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:v?"Please wait...":s==="signin"?"Sign In":"Create Account"})]}),f.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:s==="signin"?f.jsxs("p",{children:["Don't have an account? ",f.jsx("button",{onClick:()=>o("signup"),className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign up here"})]}):f.jsxs("p",{children:["Already have an account? ",f.jsx("button",{onClick:()=>o("signin"),className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign in here"})]})})]})})}function Bi({isOpen:u,onClose:r,title:s,children:o}){return z.useEffect(()=>{const l=c=>{c.key==="Escape"&&r()};return u&&(document.addEventListener("keydown",l),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.body.style.overflow="unset"}},[u,r]),u?f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl",onClick:l=>l.stopPropagation(),children:[f.jsxs("div",{className:"bg-purple-600 text-white px-6 py-4 rounded-t-lg flex items-center justify-between",children:[f.jsx("h2",{id:"modal-title",className:"text-xl font-bold",children:s}),f.jsx("button",{onClick:r,className:"text-white hover:text-purple-200 transition-colors p-1","aria-label":"Close dialog",children:f.jsx(la,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"px-6 py-6",children:o})]})}):null}function Ag({isOpen:u,onClose:r}){return f.jsx(Bi,{isOpen:u,onClose:r,title:"30Voice - Quality Voice Insights",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Our Mission"}),f.jsx("blockquote",{className:"text-lg text-purple-600 font-medium italic mb-4 border-l-4 border-purple-600 pl-4",children:'"Forget attention, focus on value"'}),f.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We believe in authentic human thoughts shared in 30 seconds. No bots, no ads, no BS."}),f.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"Your voice matters. No perfection, no polish required. Just authentic insights that create real value for our community."})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Features"}),f.jsxs("ul",{className:"space-y-2 text-gray-700",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),"Share authentic voice insights in 30 seconds"]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),"Discover valuable perspectives from real people"]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),"React and engage with meaningful content"]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-purple-600 mr-2",children:"•"}),"Build a community focused on substance over attention"]})]})]}),f.jsx("div",{className:"pt-4 border-t border-gray-200",children:f.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Join our community of authentic voices sharing real insights."})})]})})}function Ig({isOpen:u,onClose:r}){const[s,o]=z.useState({name:"",email:"",feedbackType:"general",message:""}),[l,c]=z.useState(!1),[h,m]=z.useState(!1),[g,y]=z.useState(""),v=_=>{const{name:N,value:C}=_.target;o(R=>({...R,[N]:C}))},w=async _=>{_.preventDefault(),c(!0),y("");try{const{data:N,error:C}=await Se.functions.invoke("submit-feedback",{body:{name:s.name,email:s.email,feedbackType:s.feedbackType,message:s.message}});if(console.log("Edge function response:",{data:N,error:C}),C)throw console.error("Edge function returned error:",C),new Error(C.message||"Failed to submit feedback");if(N&&N.error)throw console.error("Backend returned error:",N.error),new Error(N.error.message||"Failed to submit feedback");if(!N||!N.success)throw console.error("Unexpected response format:",N),new Error("Unexpected response from server");console.log("Feedback submitted successfully:",N),m(!0),setTimeout(()=>{m(!1),o({name:"",email:"",feedbackType:"general",message:""}),r()},3e3)}catch(N){console.error("Feedback submission error:",N),y(N.message||"Failed to submit feedback. Please try again.")}finally{c(!1)}};return h?f.jsx(Bi,{isOpen:u,onClose:r,title:"Thank You!",children:f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-white text-lg",children:"✓"})})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Feedback Submitted Successfully!"}),f.jsx("p",{className:"text-gray-600",children:"We appreciate your input and will review it shortly."})]})}):f.jsx(Bi,{isOpen:u,onClose:r,title:"We'd Love Your Feedback",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("p",{className:"text-gray-700",children:"Your thoughts help us improve 30Voice for everyone."}),f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),f.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Your name"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:v,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"your.email@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"feedbackType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback Type"}),f.jsxs("select",{id:"feedbackType",name:"feedbackType",value:s.feedbackType,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",children:[f.jsx("option",{value:"general",children:"General Feedback"}),f.jsx("option",{value:"bug",children:"Bug Report"}),f.jsx("option",{value:"feature",children:"Feature Request"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),f.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:v,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Tell us what's on your mind..."})]}),g&&f.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:g}),f.jsx("button",{type:"submit",disabled:l,className:"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors font-medium",children:l?"Submitting...":"Submit Feedback"})]}),f.jsx("div",{className:"pt-4 border-t border-gray-200",children:f.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Or reach us directly at: ",f.jsx("a",{href:"mailto:feedback@30voice.com",className:"text-purple-600 hover:text-purple-700",children:"feedback@30voice.com"})]})})]})})}function Lg({}){var u,r,s,o;const{user:l,signOut:c}=fn(),[h,m]=z.useState(!1),[g,y]=z.useState(!1),[v,w]=z.useState(!1),[_,N]=z.useState(!1),[C,R]=z.useState(!1),E=()=>{m(!0)};z.useEffect(()=>{const A=M=>{g&&(M.target.closest(".mobile-menu-container")||y(!1))};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[g]);const O=A=>A?A.split(" ").map(M=>M.charAt(0)).join("").toUpperCase().slice(0,2):"U";return f.jsxs(f.Fragment,{children:[f.jsx("header",{className:"bg-purple-600 text-white py-4 px-6 mobile-menu-container",children:f.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center",children:f.jsx("h1",{className:"text-xl font-semibold",children:"30Voice"})}),f.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[f.jsx("button",{onClick:()=>N(!0),className:"text-white hover:text-purple-200 transition-colors",children:"About"}),f.jsx("button",{onClick:()=>R(!0),className:"text-white hover:text-purple-200 transition-colors",children:"Feedback"}),l?f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>w(!v),className:"flex items-center gap-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-3 py-2 rounded-lg transition-colors",children:[f.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-sm font-semibold",children:O((u=l.user_metadata)==null?void 0:u.full_name)}),f.jsx(qd,{className:"w-4 h-4"})]}),v&&f.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10",children:[f.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[f.jsx("p",{className:"font-medium text-gray-900",children:((r=l.user_metadata)==null?void 0:r.full_name)||"User"}),f.jsx("p",{className:"text-sm text-gray-500",children:l.email})]}),f.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[f.jsx(dd,{className:"w-4 h-4"}),"My Profile"]}),f.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[f.jsx(ld,{className:"w-4 h-4"}),"Saved Notes"]}),f.jsx("hr",{className:"my-2"}),f.jsxs("button",{onClick:()=>{c(),w(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[f.jsx(ud,{className:"w-4 h-4"}),"Sign Out"]})]})]}):f.jsx("button",{onClick:E,className:"bg-white text-purple-600 px-4 py-2 rounded-md font-medium hover:bg-purple-50 transition-colors",children:"Sign In"})]}),f.jsx("button",{className:"md:hidden text-white relative",onClick:()=>y(!g),children:f.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),g&&f.jsx("div",{className:"md:hidden bg-purple-700 border-t border-purple-500 mobile-menu-container",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 space-y-3",children:[f.jsx("button",{onClick:()=>{N(!0),y(!1)},className:"block w-full text-left text-white hover:text-purple-200 transition-colors py-2",children:"About"}),f.jsx("button",{onClick:()=>{R(!0),y(!1)},className:"block w-full text-left text-white hover:text-purple-200 transition-colors py-2",children:"Feedback"}),l?f.jsxs("div",{className:"border-t border-purple-500 pt-3 mt-3",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-sm font-semibold",children:O((s=l.user_metadata)==null?void 0:s.full_name)}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:((o=l.user_metadata)==null?void 0:o.full_name)||"User"}),f.jsx("p",{className:"text-sm text-purple-200",children:l.email})]})]}),f.jsxs("button",{className:"block w-full text-left text-white hover:text-purple-200 py-2 flex items-center gap-2",children:[f.jsx(dd,{className:"w-4 h-4"}),"My Profile"]}),f.jsxs("button",{className:"block w-full text-left text-white hover:text-purple-200 py-2 flex items-center gap-2",children:[f.jsx(ld,{className:"w-4 h-4"}),"Saved Notes"]}),f.jsxs("button",{onClick:()=>{c(),y(!1)},className:"block w-full text-left text-white hover:text-purple-200 py-2 flex items-center gap-2",children:[f.jsx(ud,{className:"w-4 h-4"}),"Sign Out"]})]}):f.jsx("button",{onClick:()=>{E(),y(!1)},className:"block w-full text-left bg-white text-purple-600 px-4 py-2 rounded-md font-medium hover:bg-purple-50 transition-colors mt-2",children:"Sign In"})]})}),f.jsx(Zi,{isOpen:h,onClose:()=>m(!1)}),f.jsx(Ag,{isOpen:_,onClose:()=>N(!1)}),f.jsx(Ig,{isOpen:C,onClose:()=>R(!1)})]})}const $g=({onComplete:u})=>{const[r,s]=z.useState(30),[o]=z.useState(Date.now());z.useEffect(()=>{if(r===0){u();return}const h=setInterval(()=>{const m=Math.floor((Date.now()-o)/1e3),g=Math.max(0,30-m);s(g),g===0&&u()},100);return()=>clearInterval(h)},[o,u]),z.useEffect(()=>{const h=document.querySelector(".countdown-progress");if(h){const m=2*Math.PI*45,g=(30-r)/30,y=m*g;h.style.strokeDashoffset=y.toString()}},[r]);const l=r<=5?"text-red-500 font-bold animate-pulse":"text-white",c=r<=5?"bg-red-500":"bg-gray-900";return f.jsx("div",{role:"timer","aria-live":"polite",className:`text-lg font-bold ${l} ${c} rounded-full w-12 h-12 flex items-center justify-center border-2 border-white shadow-lg`,children:r})};function uh({onRecordingComplete:u,className:r=""}){const[s,o]=z.useState(!1),[l,c]=z.useState(null),[h,m]=z.useState(!1),[g,y]=z.useState(""),v=z.useRef(null),w=z.useRef(null),_=z.useRef(null),N=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,C=()=>N()?MediaRecorder.isTypeSupported("audio/mp4")?"audio/mp4":MediaRecorder.isTypeSupported("audio/mp3")?"audio/mp3":"audio/wav":MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",R=async()=>{try{y(""),N()&&!_.current&&(_.current=new(window.AudioContext||window.webkitAudioContext));const F=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:N()?44100:void 0,channelCount:1}}),Z=C();console.log("Using audio format:",Z,"for iOS:",N());const K=new MediaRecorder(F,{mimeType:Z});v.current=K;const re=[];K.ondataavailable=me=>{me.data.size>0&&re.push(me.data)},K.onstop=()=>{const me=new Blob(re,{type:Z});console.log("Created audio blob:",me.type,"size:",me.size),c(me),u(me),F.getTracks().forEach(he=>he.stop())},K.start(),o(!0)}catch(F){y("Could not access microphone. Please check permissions."),console.error("Recording error:",F)}},E=()=>{v.current&&s&&(v.current.stop(),o(!1))},O=()=>{E()},A=async()=>{if(l&&!h)try{N()&&_.current&&_.current.state==="suspended"&&await _.current.resume();const F=URL.createObjectURL(l);w.current=new Audio(F),N()&&(w.current.preload="auto",w.current.controls=!1,w.current.load()),w.current.onended=()=>{m(!1),URL.revokeObjectURL(F)},w.current.onerror=K=>{console.error("Audio playback error:",K),y("Could not play recording. Please try again."),m(!1),URL.revokeObjectURL(F)},w.current.oncanplaythrough=()=>{console.log("Audio can play through")};const Z=w.current.play();Z!==void 0?Z.then(()=>{console.log("Audio playback started successfully"),m(!0)}).catch(K=>{console.error("Audio play failed:",K),y("Could not play recording. Please try again."),m(!1),URL.revokeObjectURL(F)}):m(!0)}catch(F){console.error("Audio setup error:",F),y("Could not setup audio playback. Please try again.")}else w.current&&h&&(w.current.pause(),m(!1))},M=()=>{c(null),m(!1),y(""),w.current&&(w.current.pause(),w.current=null)};return g?f.jsxs("div",{className:`text-center ${r}`,children:[f.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:g}),f.jsx("button",{onClick:()=>y(""),className:"text-purple-600 hover:text-purple-700 text-sm",children:"Try Again"})]}):f.jsx("div",{className:`text-center space-y-4 ${r}`,children:l?f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[f.jsx("button",{onClick:A,className:"w-12 h-12 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center transition-colors",children:h?f.jsx(Ki,{className:"w-5 h-5 text-white"}):f.jsx(Ts,{className:"w-5 h-5 text-white ml-0.5"})}),f.jsx("button",{onClick:M,className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Record Again"})]}),f.jsx("p",{className:"text-sm text-gray-600",children:"Recording complete. Ready to submit."})]}):f.jsx("div",{children:s?f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"relative mb-4",children:[f.jsxs("div",{className:"w-24 h-24 mx-auto",children:[f.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[f.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#e5e7eb",strokeWidth:"6",fill:"none"}),f.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#e91e63",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:"283",strokeDashoffset:"0",className:"countdown-progress"})]}),f.jsx("button",{onClick:E,className:"absolute inset-0 w-16 h-16 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center transition-colors mx-auto my-auto",children:f.jsx(Ep,{className:"w-6 h-6 text-white"})})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:f.jsx($g,{onComplete:O})})]}),f.jsx("p",{className:"text-sm text-gray-600 mt-2 font-medium",children:"🔴 Recording... Click stop or wait for timer"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-saves at 30 seconds"})]}):f.jsxs("div",{className:"text-center",children:[f.jsx("button",{onClick:R,className:"w-16 h-16 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center transition-colors mx-auto mb-3 shadow-lg hover:shadow-xl",children:f.jsx(Hi,{className:"w-6 h-6 text-white"})}),f.jsx("p",{className:"text-sm text-gray-600",children:"Click to start recording"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum 30 seconds"})]})})})}function Dg({isOpen:u,onClose:r,onSuccess:s}){const[o,l]=z.useState("choose"),[c,h]=z.useState(null),[m,g]=z.useState(null),[y,v]=z.useState(""),[w,_]=z.useState(""),[N,C]=z.useState(""),[R,E]=z.useState(!1),[O,A]=z.useState(""),M=z.useRef(null);if(!u)return null;const F=he=>{h(he),A("")},Z=he=>{var ge;const ie=(ge=he.target.files)==null?void 0:ge[0];ie&&(["audio/mp3","audio/wav","audio/webm","audio/m4a","audio/mpeg"].includes(ie.type)||ie.name.toLowerCase().match(/\.(mp3|wav|webm|m4a)$/)?(g(ie),A("")):A("Please upload a valid audio file (MP3, WAV, WebM, or M4A)"))},K=async()=>{if(!y.trim()||!w.trim()){A("Title and description are required");return}const he=c||m;if(!he){A("Please record or upload an audio file");return}E(!0),A("");try{const ge=new FileReader;ge.readAsDataURL(he),ge.onload=async()=>{const ie=ge.result,Pe=(m==null?void 0:m.name)||`recording-${Date.now()}.webm`,Ie=N.split(",").map(we=>we.trim()).filter(we=>we.length>0),{data:je,error:$e}=await Se.functions.invoke("upload-voice-note",{body:{audioData:ie,fileName:Pe,title:y,description:w,tags:Ie}});if($e)throw $e;s(),r(),l("choose"),h(null),g(null),v(""),_(""),C("")},ge.onerror=()=>{A("Failed to read audio file"),E(!1)}}catch(ge){A(ge.message||"Failed to upload voice note"),E(!1)}},re=()=>{l("choose"),h(null),g(null),v(""),_(""),C(""),A(""),E(!1)},me=()=>{re(),r()};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[f.jsx("button",{onClick:me,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(la,{className:"w-5 h-5"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Share Your Voice"}),o==="choose"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-gray-600 mb-6",children:"Share your authentic insights in 30 seconds or less."}),f.jsxs("button",{onClick:()=>l("record"),className:"w-full flex items-center justify-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[f.jsx(Hi,{className:"w-6 h-6 text-purple-600"}),f.jsx("span",{className:"font-medium text-gray-700",children:"Record Audio"})]}),f.jsxs("button",{onClick:()=>l("upload"),className:"w-full flex items-center justify-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[f.jsx(cd,{className:"w-6 h-6 text-purple-600"}),f.jsx("span",{className:"font-medium text-gray-700",children:"Upload Audio File"})]})]}),o==="record"&&f.jsx("div",{className:"space-y-4",children:f.jsx(uh,{onRecordingComplete:F,className:"py-4"})}),o==="upload"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{ref:M,type:"file",accept:"audio/*",onChange:Z,className:"hidden"}),m?f.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[f.jsx("p",{className:"font-medium text-gray-700",children:m.name}),f.jsxs("p",{className:"text-sm text-gray-500",children:[(m.size/1024/1024).toFixed(2)," MB"]}),f.jsx("button",{onClick:()=>g(null),className:"text-purple-600 hover:text-purple-700 text-sm mt-2 transition-colors",children:"Choose different file"})]}):f.jsxs("button",{onClick:()=>{var he;return(he=M.current)==null?void 0:he.click()},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[f.jsx(cd,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),f.jsx("p",{className:"text-gray-600",children:"Click to select audio file"}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"MP3, WAV, WebM, or M4A"})]})]}),(c||m)&&f.jsxs("div",{className:"space-y-4 mt-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title / Main Point"}),f.jsx("input",{type:"text",id:"title",value:y,onChange:he=>v(he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"What's the main insight?"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),f.jsx("textarea",{id:"description",value:w,onChange:he=>_(he.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Provide more context about your voice note..."})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (optional)"}),f.jsx("input",{type:"text",id:"tags",value:N,onChange:he=>C(he.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"technology, business, life (separated by commas)"})]}),O&&f.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:O}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>l("choose"),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Back"}),f.jsx("button",{onClick:K,disabled:R,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:R?"Uploading...":"Share Voice Note"})]})]})]})})}function zg({totalCount:u,onVoiceNoteAdded:r}){const{user:s}=fn(),[o,l]=z.useState(!1),[c,h]=z.useState(!1),m=()=>{if(!s){l(!0);return}h(!0)};return f.jsxs("section",{className:"bg-gray-50 py-12 px-6",children:[f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Forget attention, focus on value"}),f.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Real human thoughts in 30 seconds. No bots, no ads, no BS."}),f.jsx("div",{className:"flex justify-center items-center mb-8",children:f.jsxs("button",{onClick:m,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center gap-3",children:[f.jsx("span",{children:"Share Your Voice"}),f.jsx("div",{className:"bg-white text-green-500 font-bold px-3 py-1 rounded-full text-lg",children:u})]})}),f.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[f.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Your Voice Matters"}),f.jsx("p",{className:"text-gray-600",children:"No perfection, no polish required. Just authentic insights"})]})]}),f.jsx(Zi,{isOpen:o,onClose:()=>l(!1)}),f.jsx(Dg,{isOpen:c,onClose:()=>h(!1),onSuccess:()=>{r==null||r()}})]})}function Mg({totalCount:u}){return f.jsx("section",{className:"py-8 px-6 bg-white",children:f.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Community Voices"}),f.jsxs("p",{className:"text-xl text-gray-600",children:[f.jsx("span",{className:"font-semibold text-purple-600",children:u})," authentic stories shared"]})]})})}function Ug(u,r){const[s,o]=z.useState(u);return z.useEffect(()=>{const l=setTimeout(()=>{o(u)},r);return()=>{clearTimeout(l)}},[u,r]),s}function Fg({onSearch:u,placeholder:r="Search conversations...",className:s=""}){const[o,l]=z.useState(""),c=z.useRef(null),h=Ug(o,300);z.useEffect(()=>{u(h)},[h,u]);const m=z.useCallback(w=>{const _=w.target.value;l(_)},[]),g=z.useCallback(()=>{l(""),c.current&&c.current.focus()},[]),y=z.useCallback(w=>{w.preventDefault(),u(o)},[o,u]),v=z.useCallback(w=>{w.key==="Escape"&&g()},[g]);return f.jsxs("div",{className:`relative ${s}`,children:[f.jsxs("form",{onSubmit:y,className:"relative",children:[f.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:f.jsx(Pp,{className:"w-5 h-5 text-gray-400"})}),f.jsx("input",{ref:c,type:"text",value:o,onChange:m,onKeyDown:v,placeholder:r,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent text-base transition-all duration-200 ease-in-out",autoComplete:"off",spellCheck:"false",autoCorrect:"off",autoCapitalize:"off","data-testid":"search-input"}),o&&f.jsx("button",{type:"button",onClick:g,className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 hover:text-gray-600 transition-colors flex items-center justify-center","aria-label":"Clear search",tabIndex:0,children:f.jsx(la,{className:"w-4 h-4"})})]}),h&&h!==o&&f.jsx("div",{className:"absolute right-12 top-1/2 transform -translate-y-1/2",children:f.jsx("div",{className:"w-3 h-3 border border-purple-400 border-t-transparent rounded-full animate-spin"})})]})}const Md=[{id:"all",label:"All Vibes"},{id:"funny-light",label:"Funny & Light"},{id:"deep-insights",label:"Deep Insights"},{id:"game-changer",label:"Game Changer"},{id:"creative-spark",label:"Creative Spark"},{id:"aha-moments",label:"Aha Moments"},{id:"food-for-thought",label:"Food for Thought"},{id:"needs-context",label:"Needs Context"},{id:"explore-more",label:"Explore More"}];function qg({activeFilter:u,onFilterChange:r,searchQuery:s,onSearchChange:o}){var l;const[c,h]=z.useState(!1);return f.jsx("section",{className:"py-8 px-6 bg-white border-b",children:f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Discover Voice Stories"}),f.jsx("div",{className:"mb-6",children:f.jsx(Fg,{onSearch:o,placeholder:"Search voice notes, insights, stories...",className:"max-w-2xl"})}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[f.jsx("p",{className:"text-sm text-gray-600",children:"Filter by Vibe:"}),f.jsxs("button",{onClick:()=>h(!c),className:"md:hidden flex items-center gap-1 text-purple-600 hover:text-purple-700 transition-colors",children:[f.jsx("span",{className:"text-sm",children:"Show Filters"}),f.jsx(qd,{className:`w-4 h-4 transform transition-transform ${c?"rotate-180":""}`})]})]}),f.jsx("div",{className:`flex flex-wrap gap-2 ${c?"block":"hidden md:flex"}`,children:Md.map(m=>f.jsx("button",{onClick:()=>r(m.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u===m.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:m.label},m.id))})]}),(u!=="all"||s)&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx("span",{children:"Showing:"}),s&&f.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:['"',s,'"']}),u!=="all"&&f.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:(l=Md.find(m=>m.id===u))==null?void 0:l.label}),f.jsx("button",{onClick:()=>{r("all"),o("")},className:"text-purple-600 hover:text-purple-700 ml-2",children:"Clear all"})]})]})})}const ch=z.createContext(void 0);function Bg({children:u}){const[r,s]=z.useState({currentTrackId:null,isPlaying:!1,currentTime:0,duration:0,isLoading:!1,error:null}),o=z.useRef(null),l=z.useRef({}),c=()=>{if(o.current){o.current.pause();const w=o.current,_=l.current;_.loadedmetadata&&w.removeEventListener("loadedmetadata",_.loadedmetadata),_.timeupdate&&w.removeEventListener("timeupdate",_.timeupdate),_.play&&w.removeEventListener("play",_.play),_.ended&&w.removeEventListener("ended",_.ended),_.error&&w.removeEventListener("error",_.error),o.current=null,l.current={}}},h=async w=>{try{return(await fetch(w,{method:"HEAD",mode:"cors",cache:"no-cache"})).ok}catch(_){return console.warn("Audio URL validation failed:",w,_),!1}},m=async(w,_,N,C)=>{try{if(r.currentTrackId===w&&o.current){r.isPlaying?(o.current.pause(),s(ie=>({...ie,isPlaying:!1}))):(await o.current.play(),s(ie=>({...ie,isPlaying:!0})));return}c(),s(ie=>({...ie,currentTrackId:w,isLoading:!0,error:null,isPlaying:!1}));const R=await h(_),E=N?await h(N):!1;if(!R&&!E){s(ie=>({...ie,error:"Audio file is not accessible. Server may be down or URL is invalid.",isLoading:!1,isPlaying:!1}));return}const O=new Audio;O.autoplay=!1,O.controls=!1,o.current=O;let A=!1;const M=()=>{s(ie=>({...ie,duration:O.duration,isLoading:!1}))},F=()=>{s(ie=>({...ie,currentTime:O.currentTime}))},Z=()=>{!A&&C&&(A=!0,C())},K=()=>{s(ie=>({...ie,isPlaying:!1,currentTime:0}))},re=ie=>{if(console.error("Audio playback error:",ie,"Audio src:",O.src),N&&O.src!==N){console.log("Falling back to MP3 URL:",N),O.src=N,O.load();return}let Pe="Audio playback failed.";if(O.error)switch(O.error.code){case MediaError.MEDIA_ERR_NETWORK:Pe="Network error: Could not load audio file. Please check your connection.";break;case MediaError.MEDIA_ERR_DECODE:Pe="Audio format error: File is corrupted or unsupported.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:Pe="Audio format not supported by this browser.";break;case MediaError.MEDIA_ERR_ABORTED:Pe="Audio loading was aborted.";break;default:O.src.includes("http://")&&window.location.protocol==="https:"?Pe="Security error: Cannot load HTTP audio from HTTPS site.":O.src.includes(".webm")?Pe="WebM format not supported. Try a different browser.":Pe="Audio file unavailable or server error."}s(Ie=>({...Ie,error:Pe,isLoading:!1,isPlaying:!1}))};l.current={loadedmetadata:M,timeupdate:F,ended:K,error:re,play:Z},O.addEventListener("loadedmetadata",M),O.addEventListener("timeupdate",F),O.addEventListener("play",Z),O.addEventListener("ended",K),O.addEventListener("error",re);const me=_.includes(".webm"),he=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let ge=_;N&&E&&(he||me||!R)?(console.log("Using MP3 fallback for better compatibility or failed primary URL"),ge=N):R?ge=_:ge=N||_,O.src=ge,console.log("Selected audio URL:",ge),O.preload="metadata",O.load(),await O.play(),s(ie=>({...ie,isPlaying:!0,isLoading:!1}))}catch(R){console.error("Failed to play audio:",R),s(E=>({...E,error:"Playback failed. Please try again.",isLoading:!1,isPlaying:!1}))}},g=()=>{o.current&&(o.current.pause(),s(w=>({...w,isPlaying:!1})))},y=w=>{o.current&&(o.current.currentTime=w,s(_=>({..._,currentTime:w})))},v=()=>{s(w=>({...w,error:null}))};return f.jsx(ch.Provider,{value:{audioState:r,playTrack:m,pauseTrack:g,seekTo:y,clearError:v},children:u})}function dh(){const u=z.useContext(ch);if(u===void 0)throw new Error("useAudio must be used within an AudioProvider");return u}function Wg({voiceNoteId:u,audioUrl:r,mp3Url:s,duration:o,listenCount:l,onListenCountUpdate:c}){const{audioState:h,playTrack:m,pauseTrack:g,clearError:y}=dh(),v=h.currentTrackId===u,w=v&&h.isPlaying,_=v&&h.isLoading,N=v&&h.error,C=E=>{const O=Math.floor(E/60),A=Math.floor(E%60);return`${O}:${A.toString().padStart(2,"0")}`},R=async()=>{N&&y(),w?g():await m(u,r,s,async()=>{try{c&&c(l+1);const{data:E,error:O}=await Se.functions.invoke("increment-listen-count",{body:{voice_note_id:u}});O?(console.error("Listen count increment error:",O),c&&c(l)):console.log("✅ Listen count incremented successfully:",E)}catch(E){console.error("Failed to increment listen count:",E),c&&c(l)}})};return N?f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[f.jsx("button",{onClick:R,className:"w-10 h-10 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Retry audio",children:f.jsx(Ts,{className:"w-4 h-4 ml-0.5"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-red-600 text-sm font-medium",children:"Audio error"}),f.jsx("p",{className:"text-red-500 text-xs",children:h.error||"Tap to retry"})]})]}):f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[f.jsx("button",{onClick:R,disabled:_,className:"w-10 h-10 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 rounded-full flex items-center justify-center text-white transition-colors shadow-sm","aria-label":w?"Pause audio":"Play audio",children:_?f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):w?f.jsx(Ki,{className:"w-4 h-4"}):f.jsx(Ts,{className:"w-4 h-4 ml-0.5"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-gray-600 font-medium",children:C(o)}),f.jsxs("span",{className:"text-gray-500",children:[l," listens"]})]}),v&&h.duration>0&&f.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1",children:f.jsx("div",{className:"bg-purple-600 h-1 rounded-full transition-all duration-150",style:{width:`${h.currentTime/h.duration*100}%`}})})]})]})}function Vg({transcript:u,isVisible:r}){return!r||!u?null:f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 animate-in slide-in-from-top-2 duration-300","aria-live":"polite",children:f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[f.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Transcript"}),f.jsx("div",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap",children:u})]})})}function hh({voiceNoteId:u,parentId:r,onReplySubmitted:s,onCancel:o}){const{user:l}=fn(),[c,h]=z.useState("text"),[m,g]=z.useState(""),[y,v]=z.useState(null),[w,_]=z.useState(!1),[N,C]=z.useState(""),R=async()=>{if(!m.trim()){C("Please enter a reply message");return}if(!l){C("You must be logged in to reply");return}_(!0),C("");try{const{error:A}=await Se.from("voice_note_replies").insert({voice_note_id:u,parent_id:r||null,user_id:l.id,content_type:"text",text_content:m.trim()});if(A)throw A;s(),g("")}catch(A){C(A.message||"Failed to submit reply")}finally{_(!1)}},E=async()=>{if(!y){C("Please record a voice message");return}if(!l){C("You must be logged in to reply");return}_(!0),C("");try{const A=new FileReader;A.readAsDataURL(y),A.onload=async()=>{const M=A.result,F=`reply-${u}-${Date.now()}.webm`,{data:Z,error:K}=await Se.functions.invoke("upload-voice-reply",{body:{voiceNoteId:u,parentId:r||null,audioData:M,fileName:F}});if(K)throw console.error("Voice reply upload error:",K),new Error(K.message||"Failed to upload voice reply");console.log("Voice reply uploaded successfully:",Z),s(),v(null),_(!1)},A.onerror=()=>{C("Failed to process voice recording"),_(!1)}}catch(A){C(A.message||"Failed to submit voice reply"),_(!1)}},O=async()=>{c==="text"?await R():await E()};return f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 mt-4",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add a Reply"}),f.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden mb-4",children:[f.jsxs("button",{onClick:()=>h("text"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${c==="text"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[f.jsx(Vi,{className:"w-4 h-4"}),"Write Reply"]}),f.jsxs("button",{onClick:()=>h("voice"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${c==="voice"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[f.jsx(Hi,{className:"w-4 h-4"}),"Voice Reply"]})]})]}),c==="text"?f.jsx("div",{className:"mb-4",children:f.jsx("textarea",{value:m,onChange:A=>g(A.target.value),placeholder:"Share your thoughts...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"})}):f.jsx("div",{className:"mb-4",children:f.jsx(uh,{onRecordingComplete:v,className:"py-4"})}),N&&f.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:N}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:O,disabled:w||c==="text"&&!m.trim()||c==="voice"&&!y,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:w?"Submitting...":"Submit Reply"})]})]})}function Hg({isOpen:u,onClose:r,onConfirm:s,isLoading:o=!1,title:l,message:c}){const h=()=>{o||s()},m=()=>{o||r()},g=y=>{y.key==="Escape"&&!o?r():y.key==="Enter"&&h()};return!u||(z.useEffect(()=>(u&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="unset"}),[u]),!u)?null:f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:m,role:"dialog","aria-modal":"true",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 relative",role:"alertdialog","aria-labelledby":"delete-modal-title","aria-describedby":"delete-modal-description",onKeyDown:g,onClick:y=>y.stopPropagation(),tabIndex:-1,children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:f.jsx(Ri,{className:"w-5 h-5 text-red-600"})}),f.jsx("h3",{id:"delete-modal-title",className:"text-lg font-semibold text-gray-900",children:l})]}),!o&&f.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:f.jsx(la,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"p-6",children:f.jsx("p",{id:"delete-modal-description",className:"text-gray-600 leading-relaxed",children:c})}),f.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[f.jsx("button",{onClick:m,disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),f.jsx("button",{onClick:h,disabled:o,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:bg-red-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:o?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Deleting..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Ri,{className:"w-4 h-4"}),"Delete"]})})]})]})})}function fh({type:u,itemId:r,onDelete:s,className:o=""}){const{user:l}=fn(),[c,h]=z.useState(!1),[m,g]=z.useState(!1),[y,v]=z.useState(""),w=async()=>{if(!l){v("You must be logged in to delete items");return}g(!0),v("");try{const R=u==="voice-note"?"delete-voice-note":"delete-voice-reply",E=u==="voice-note"?"voiceNoteId":"replyId",{data:O,error:A}=await Se.functions.invoke(R,{body:{[E]:r}});if(A)throw console.error("Delete error:",A),new Error(A.message||"Failed to delete item");console.log("Delete successful:",O),h(!1),s()}catch(R){console.error("Delete operation failed:",R),v(R.message||"Failed to delete item. Please try again.")}finally{g(!1)}},_=()=>{const R=u==="voice-note";return{title:R?"Delete Voice Note?":"Delete Reply?",message:R?"Are you sure you want to permanently delete this voice note? This action cannot be undone and will also delete all replies to this message.":"Are you sure you want to permanently delete this reply? This action cannot be undone and will also delete any nested replies."}},{title:N,message:C}=_();return f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>h(!0),className:`p-2 text-gray-400 hover:text-red-600 transition-colors rounded-lg hover:bg-red-50 ${o}`,"aria-label":`Delete ${u==="voice-note"?"voice note":"reply"}`,title:`Delete ${u==="voice-note"?"voice note":"reply"}`,children:f.jsx(Ri,{className:"w-4 h-4"})}),f.jsx(Hg,{isOpen:c,onClose:()=>{m||(h(!1),v(""))},onConfirm:w,isLoading:m,title:N,message:C}),y&&f.jsx("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:y})]})}function ph({reply:u,voiceNoteId:r,level:s=0,onReplyAdded:o}){var l,c,h,m,g;const{user:y}=fn(),{audioState:v,playTrack:w,pauseTrack:_}=dh(),[N,C]=z.useState(!1),[R,E]=z.useState([]),[O,A]=z.useState(!1),[M,F]=z.useState(!1),Z=3,K=Math.min(s,Z),re=K*40,me=async()=>{A(!0);try{const{data:je,error:$e}=await Se.from("voice_note_replies").select("*").eq("parent_id",u.id).eq("is_deleted",!1).order("created_at",{ascending:!0});if($e)throw $e;if(je&&je.length>0){const we=[...new Set(je.map(J=>J.user_id))],{data:xe}=await Se.from("user_profiles").select("id, full_name, role, company, verified").in("id",we),q=je.map(J=>({...J,user_profile:(xe==null?void 0:xe.find(W=>W.id===J.user_id))||{full_name:null,role:null,company:null,verified:!1}}));E(q)}}catch(je){console.error("Error loading child replies:",je)}finally{A(!1)}};z.useEffect(()=>{me()},[u.id]);const he=()=>{C(!1),me(),o()},ge=()=>{u.audio_url&&(v.currentTrackId===u.id&&v.isPlaying?_():w(u.id,u.audio_url))},ie=je=>{const $e=new Date(je),we=Math.floor((new Date().getTime()-$e.getTime())/(1e3*60*60));return we<1?"Just now":we<24?`${we}h ago`:we<48?"Yesterday":$e.toLocaleDateString()},Pe=M?R:R.slice(0,2),Ie=R.length>2;return f.jsxs("div",{className:"relative",children:[s>0&&f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gray-300",style:{left:`${K*40-20}px`}}),f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-3 shadow-sm group",style:{marginLeft:`${re}px`},children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-sm font-medium text-purple-600",children:((c=(l=u.user_profile)==null?void 0:l.full_name)==null?void 0:c[0])||"U"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium text-gray-900",children:((h=u.user_profile)==null?void 0:h.full_name)||"Anonymous User"}),((m=u.user_profile)==null?void 0:m.verified)&&f.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:"Verified"})]}),((g=u.user_profile)==null?void 0:g.role)&&f.jsxs("p",{className:"text-sm text-gray-600",children:[u.user_profile.role,u.user_profile.company&&` at ${u.user_profile.company}`]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-gray-500",children:ie(u.created_at||"")}),y&&y.id===u.user_id&&f.jsx(fh,{type:"reply",itemId:u.id,onDelete:()=>o(),className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),u.content_type==="voice"&&u.audio_url?f.jsx("div",{className:"mb-3",children:f.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 rounded-lg p-3",children:[f.jsx("button",{onClick:ge,className:"w-10 h-10 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center transition-colors",children:v.currentTrackId===u.id&&v.isPlaying?f.jsx(Ki,{className:"w-5 h-5 text-white"}):f.jsx(Ts,{className:"w-5 h-5 text-white ml-0.5"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Voice Reply"}),f.jsx("p",{className:"text-xs text-gray-500",children:u.duration?`${u.duration}s`:"Duration unknown"})]})]})}):u.text_content?f.jsx("div",{className:"mb-3",children:f.jsx("p",{className:"text-gray-800 leading-relaxed",children:u.text_content})}):f.jsx("div",{className:"mb-3",children:f.jsx("p",{className:"text-gray-500 italic",children:"No content available"})}),f.jsxs("div",{className:"flex items-center gap-4",children:[y&&s<Z&&f.jsxs("button",{onClick:()=>C(!N),className:"text-sm text-purple-600 hover:text-purple-700 font-medium flex items-center gap-1",children:[f.jsx(Vi,{className:"w-4 h-4"}),"Reply"]}),R.length>0&&f.jsxs("span",{className:"text-sm text-gray-500",children:[R.length," ",R.length===1?"reply":"replies"]})]}),N&&f.jsx(hh,{voiceNoteId:r,parentId:u.id,onReplySubmitted:he,onCancel:()=>C(!1)})]}),R.length>0&&f.jsxs("div",{className:"space-y-2",children:[Pe.map(je=>f.jsx(ph,{reply:je,voiceNoteId:r,level:s+1,onReplyAdded:o},je.id)),Ie&&!M&&f.jsx("div",{style:{marginLeft:`${(s+1)*40}px`},children:f.jsxs("button",{onClick:()=>F(!0),className:"text-sm text-purple-600 hover:text-purple-700 font-medium",children:["Show ",R.length-2," more replies"]})}),Ie&&M&&f.jsx("div",{style:{marginLeft:`${(s+1)*40}px`},children:f.jsx("button",{onClick:()=>F(!1),className:"text-sm text-gray-600 hover:text-gray-700",children:"Show fewer replies"})})]}),O&&f.jsx("div",{className:"text-center py-2",style:{marginLeft:`${(s+1)*40}px`},children:f.jsx("div",{className:"text-sm text-gray-500",children:"Loading replies..."})})]})}function Kg({voiceNoteId:u}){const{user:r}=fn(),[s,o]=z.useState([]),[l,c]=z.useState(!1),[h,m]=z.useState(!1),[g,y]=z.useState(!0),[v,w]=z.useState("");z.useEffect(()=>{_()},[u]);const _=async()=>{try{y(!0),w("");const{data:E,error:O}=await Se.from("voice_note_replies").select("*").eq("voice_note_id",u).eq("is_deleted",!1).is("parent_id",null).order("created_at",{ascending:!0});if(O)throw O;if(!E||E.length===0){o([]);return}const A=[...new Set(E.map(Z=>Z.user_id))],{data:M}=await Se.from("user_profiles").select("id, full_name, role, company, verified").in("id",A),F=E.map(Z=>({...Z,user_profile:(M==null?void 0:M.find(K=>K.id===Z.user_id))||{full_name:null,role:null,company:null,verified:!1}}));o(F)}catch(E){console.error("Error loading replies:",E),w("Failed to load replies")}finally{y(!1)}},N=()=>{if(!r){m(!0);return}c(!0)},C=()=>{c(!1),_()},R=()=>{c(!1)};return g?f.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:f.jsxs("div",{className:"text-center py-4",children:[f.jsx("div",{className:"w-6 h-6 border-2 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto"}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading replies..."})]})}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h4",{className:"text-sm font-medium text-gray-700",children:s.length===0?"No replies yet":`${s.length} ${s.length===1?"Reply":"Replies"}`}),!l&&f.jsx("button",{onClick:N,className:"text-purple-600 hover:text-purple-700 font-medium text-sm transition-colors",children:"Reply"})]}),v&&f.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:v}),l&&f.jsx(hh,{voiceNoteId:u,onReplySubmitted:C,onCancel:R}),s.length>0&&f.jsx("div",{className:"space-y-4 mt-4",children:s.map(E=>f.jsx(ph,{reply:E,voiceNoteId:u,level:0,onReplyAdded:_},E.id))})]}),f.jsx(Zi,{isOpen:h,onClose:()=>m(!1)})]})}const Ud=[{type:"humourous",emoji:"😄",label:"funny"},{type:"informative",emoji:"💡",label:"insightful"},{type:"game_changer",emoji:"🚀",label:"game changer"},{type:"useful",emoji:"🎨",label:"creative"},{type:"thought_provoking",emoji:"🤔",label:"Aha!"},{type:"debatable",emoji:"❓",label:"debatable"}];function Qg({voiceNote:u,onReaction:r,onDelete:s}){var o,l,c,h;const{user:m}=fn(),[g,y]=z.useState(!1),[v,w]=z.useState(u.listen_count||150),_=E=>E?E.split(" ").map(O=>O.charAt(0)).join("").toUpperCase().slice(0,2):"U",N=E=>E?new Date(E).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"}):"Unknown",C=()=>{const E=Ud.reduce((O,A)=>{const M=u[`${A.type}_count`]||0;return O+M},0);return Math.min(10,Math.max(1,Math.floor(E/2)+5))},R=E=>{const O=E.toLowerCase(),A=[];return(O.includes("tech")||O.includes("technology"))&&A.push("#Technology"),(O.includes("business")||O.includes("entrepreneur"))&&A.push("#Entrepreneurship"),(O.includes("politics")||O.includes("political"))&&A.push("#Politics"),(O.includes("cricket")||O.includes("sport"))&&A.push("#cricket"),(O.includes("food")||O.includes("restaurant"))&&A.push("#Food"),(O.includes("health")||O.includes("fitness"))&&A.push("#Health"),A.length===0&&A.push("#Insights"),A};return f.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow group",children:[f.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[f.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm flex-shrink-0",children:_((o=u.user_profile)==null?void 0:o.full_name)}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("h3",{className:"font-semibold text-gray-900",children:((l=u.user_profile)==null?void 0:l.full_name)||"Anonymous User"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm text-gray-500",children:N(u.created_at)}),m&&m.id===u.user_id&&f.jsx(fh,{type:"voice-note",itemId:u.id,onDelete:()=>s==null?void 0:s(),className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),f.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[((c=u.user_profile)==null?void 0:c.role)||"Community Member",((h=u.user_profile)==null?void 0:h.company)&&` at ${u.user_profile.company}`]}),f.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:R(u.action_text).map((E,O)=>f.jsx("span",{className:"text-xs text-gray-500 hover:text-purple-600 cursor-pointer",children:E},O))})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-gray-800 leading-relaxed mb-3",children:u.action_text}),f.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-600 p-3 rounded-r-lg",children:f.jsxs("p",{className:"text-sm text-purple-800 font-medium",children:["💡 ",u.tldr_text]})})]}),f.jsx(Wg,{voiceNoteId:u.id,audioUrl:u.audio_url,duration:u.duration,listenCount:v,onListenCountUpdate:w}),u.transcript&&f.jsx("div",{className:"mt-3",children:f.jsxs("button",{onClick:()=>y(!g),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-700 font-medium transition-colors",children:[f.jsx(Vi,{className:"w-4 h-4"}),g?"Hide transcript":"View transcript"]})}),f.jsx(Vg,{transcript:u.transcript||"",isVisible:g}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[f.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:Ud.map(E=>{const O=u[`${E.type}_count`]||0;return f.jsxs("button",{onClick:()=>r==null?void 0:r(E.type),className:"flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors text-xs",children:[f.jsx("span",{children:E.emoji}),f.jsx("span",{className:"text-gray-600",children:E.label}),O>0&&f.jsx("span",{className:"font-medium text-gray-700",children:O})]},E.type)})}),f.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:f.jsxs("span",{className:"flex items-center gap-1",children:["Community Score:",f.jsxs("span",{className:"font-semibold text-purple-600",children:[C(),"/10"]}),f.jsx("span",{className:"text-gray-400 hover:text-gray-600 cursor-help",title:"Community Score is calculated based on engagement: (Total Reactions / 2) + 5, representing how the community values this content out of 10",children:"(?)"})]})})]}),f.jsx(Kg,{voiceNoteId:u.id})]})}function mh(u="all",r=""){const[s,o]=z.useState([]),[l,c]=z.useState(!0),[h,m]=z.useState(null),[g,y]=z.useState(0),v=async()=>{try{c(!0),m(null);const{count:N}=await Se.from("voice_notes").select("*",{count:"exact",head:!0}).eq("is_deleted",!1);y(N||0);let C=Se.from("voice_notes").select("*").eq("is_deleted",!1).order("created_at",{ascending:!1}).limit(20);r.trim()&&(C=C.or(`action_text.ilike.%${r}%,tldr_text.ilike.%${r}%`)),u==="funny-light"?C=C.gt("humourous_count",0):u==="deep-insights"?C=C.gt("thought_provoking_count",0):u==="game-changer"?C=C.gt("game_changer_count",0):u==="creative-spark"?C=C.gt("useful_count",0):u==="aha-moments"&&(C=C.gt("informative_count",0));const{data:R,error:E}=await C;if(E)throw E;if(!R||R.length===0){o([]);return}const O=[...new Set(R.map(F=>F.user_id))],{data:A}=await Se.from("user_profiles").select("id, full_name, role, company, verified").in("id",O),M=R.map((F,Z)=>({...F,user_profile:(A==null?void 0:A.find(K=>K.id===F.user_id))||{full_name:null,role:null,company:null,verified:!1},listen_count:[149,175,199,163,128,156,142,187,134,158,171,145,192,167,139][Z%15]||150}));o(M)}catch(N){console.error("Error loading voice notes:",N),m(N instanceof Error?N.message:"Failed to load voice notes")}finally{c(!1)}},w=async(N,C)=>{try{const{data:{user:R}}=await Se.auth.getUser();if(!R){console.log("User not logged in - reaction would require login");return}o(A=>A.map(M=>{if(M.id===N){const F=`${C}_count`,Z=M[F]||0;return{...M,[F]:Z+1}}return M}));const{data:E,error:O}=await Se.functions.invoke("handle-vote",{body:{voice_note_id:N,vote_type:C}});if(O)throw console.error("Vote submission error:",O),o(A=>A.map(M=>{if(M.id===N){const F=`${C}_count`,Z=M[F]||0;return{...M,[F]:Math.max(0,Z-1)}}return M})),O;console.log("✅ Vote submitted successfully:",E)}catch(R){console.error("Error adding reaction:",R)}},_=async N=>{try{const{data:{user:C}}=await Se.auth.getUser();if(!C){console.log("User not logged in - save would require login");return}const{data:R}=await Se.from("voice_note_saves").select("*").eq("user_id",C.id).eq("voice_note_id",N).maybeSingle();R?await Se.from("voice_note_saves").delete().eq("id",R.id):await Se.from("voice_note_saves").insert({user_id:C.id,voice_note_id:N}),o(E=>E.map(O=>O.id===N?{...O,is_saved:!O.is_saved}:O))}catch(C){console.error("Error toggling save:",C)}};return z.useEffect(()=>{v()},[u,r]),{voiceNotes:s,loading:l,error:h,totalCount:g,addReaction:w,toggleSave:_,refresh:v}}function Gg(){const[u,r]=z.useState("all"),[s,o]=z.useState(""),{voiceNotes:l,loading:c,error:h,addReaction:m,refresh:g}=mh(u,s);return c&&l.length===0?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),f.jsx("p",{className:"text-gray-600",children:"Loading authentic stories..."})]})}):h?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load stories"}),f.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Try Again"})]})}):f.jsxs(f.Fragment,{children:[f.jsx(qg,{activeFilter:u,onFilterChange:r,searchQuery:s,onSearchChange:o}),f.jsx("section",{className:"py-8 px-6 bg-gray-50 min-h-screen",children:f.jsx("div",{className:"max-w-6xl mx-auto",children:l.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No stories found"}),f.jsx("p",{className:"text-gray-500",children:"Try adjusting your filter or check back later"})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(y=>f.jsx(Qg,{voiceNote:y,onReaction:v=>m(y.id,v),onDelete:()=>g()},y.id))})})})]})}function Jg(){const{totalCount:u,refresh:r}=mh();return f.jsx(Rg,{children:f.jsx(Bg,{children:f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(Lg,{}),f.jsx(zg,{totalCount:u,onVoiceNoteAdded:r}),f.jsx(Mg,{totalCount:u}),f.jsx(Gg,{}),f.jsx("footer",{className:"bg-gray-800 text-white py-8 px-6",children:f.jsx("div",{className:"max-w-6xl mx-auto text-center",children:f.jsx("p",{className:"text-gray-300",children:"© 2025 30Voice - Quality Voice Insights"})})})]})})})}_p.createRoot(document.getElementById("root")).render(f.jsx(z.StrictMode,{children:f.jsx(jp,{children:f.jsx(Jg,{})})}));

(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();function Ud(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function lp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var n=u.default;if(typeof n=="function"){var s=function o(){return this instanceof o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),s}var Cl={exports:{}},rs={},Pl={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc;function ap(){if(Xc)return ce;Xc=1;var u=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=_&&S[_]||S["@@iterator"],typeof S=="function"?S:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function T(S,A,oe){this.props=S,this.context=A,this.refs=O,this.updater=oe||j}T.prototype.isReactComponent={},T.prototype.setState=function(S,A){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,A,"setState")},T.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function M(){}M.prototype=T.prototype;function G(S,A,oe){this.props=S,this.context=A,this.refs=O,this.updater=oe||j}var D=G.prototype=new M;D.constructor=G,C(D,T.prototype),D.isPureReactComponent=!0;var F=Array.isArray,Q=Object.prototype.hasOwnProperty,H={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function X(S,A,oe){var ae,he={},pe=null,_e=null;if(A!=null)for(ae in A.ref!==void 0&&(_e=A.ref),A.key!==void 0&&(pe=""+A.key),A)Q.call(A,ae)&&!Z.hasOwnProperty(ae)&&(he[ae]=A[ae]);var ge=arguments.length-2;if(ge===1)he.children=oe;else if(1<ge){for(var Ee=Array(ge),ot=0;ot<ge;ot++)Ee[ot]=arguments[ot+2];he.children=Ee}if(S&&S.defaultProps)for(ae in ge=S.defaultProps,ge)he[ae]===void 0&&(he[ae]=ge[ae]);return{$$typeof:u,type:S,key:pe,ref:_e,props:he,_owner:H.current}}function ee(S,A){return{$$typeof:u,type:S.type,key:A,ref:S.ref,props:S.props,_owner:S._owner}}function se(S){return typeof S=="object"&&S!==null&&S.$$typeof===u}function ue(S){var A={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(oe){return A[oe]})}var we=/\/+/g;function Pe(S,A){return typeof S=="object"&&S!==null&&S.key!=null?ue(""+S.key):A.toString(36)}function Se(S,A,oe,ae,he){var pe=typeof S;(pe==="undefined"||pe==="boolean")&&(S=null);var _e=!1;if(S===null)_e=!0;else switch(pe){case"string":case"number":_e=!0;break;case"object":switch(S.$$typeof){case u:case n:_e=!0}}if(_e)return _e=S,he=he(_e),S=ae===""?"."+Pe(_e,0):ae,F(he)?(oe="",S!=null&&(oe=S.replace(we,"$&/")+"/"),Se(he,A,oe,"",function(ot){return ot})):he!=null&&(se(he)&&(he=ee(he,oe+(!he.key||_e&&_e.key===he.key?"":(""+he.key).replace(we,"$&/")+"/")+S)),A.push(he)),1;if(_e=0,ae=ae===""?".":ae+":",F(S))for(var ge=0;ge<S.length;ge++){pe=S[ge];var Ee=ae+Pe(pe,ge);_e+=Se(pe,A,oe,Ee,he)}else if(Ee=E(S),typeof Ee=="function")for(S=Ee.call(S),ge=0;!(pe=S.next()).done;)pe=pe.value,Ee=ae+Pe(pe,ge++),_e+=Se(pe,A,oe,Ee,he);else if(pe==="object")throw A=String(S),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return _e}function Ie(S,A,oe){if(S==null)return S;var ae=[],he=0;return Se(S,ae,"","",function(pe){return A.call(oe,pe,he++)}),ae}function qe(S){if(S._status===-1){var A=S._result;A=A(),A.then(function(oe){(S._status===0||S._status===-1)&&(S._status=1,S._result=oe)},function(oe){(S._status===0||S._status===-1)&&(S._status=2,S._result=oe)}),S._status===-1&&(S._status=0,S._result=A)}if(S._status===1)return S._result.default;throw S._result}var ie={current:null},$={transition:null},Y={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:$,ReactCurrentOwner:H};function B(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:Ie,forEach:function(S,A,oe){Ie(S,function(){A.apply(this,arguments)},oe)},count:function(S){var A=0;return Ie(S,function(){A++}),A},toArray:function(S){return Ie(S,function(A){return A})||[]},only:function(S){if(!se(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ce.Component=T,ce.Fragment=s,ce.Profiler=a,ce.PureComponent=G,ce.StrictMode=o,ce.Suspense=g,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ce.act=B,ce.cloneElement=function(S,A,oe){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ae=C({},S.props),he=S.key,pe=S.ref,_e=S._owner;if(A!=null){if(A.ref!==void 0&&(pe=A.ref,_e=H.current),A.key!==void 0&&(he=""+A.key),S.type&&S.type.defaultProps)var ge=S.type.defaultProps;for(Ee in A)Q.call(A,Ee)&&!Z.hasOwnProperty(Ee)&&(ae[Ee]=A[Ee]===void 0&&ge!==void 0?ge[Ee]:A[Ee])}var Ee=arguments.length-2;if(Ee===1)ae.children=oe;else if(1<Ee){ge=Array(Ee);for(var ot=0;ot<Ee;ot++)ge[ot]=arguments[ot+2];ae.children=ge}return{$$typeof:u,type:S.type,key:he,ref:pe,props:ae,_owner:_e}},ce.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:c,_context:S},S.Consumer=S},ce.createElement=X,ce.createFactory=function(S){var A=X.bind(null,S);return A.type=S,A},ce.createRef=function(){return{current:null}},ce.forwardRef=function(S){return{$$typeof:p,render:S}},ce.isValidElement=se,ce.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:qe}},ce.memo=function(S,A){return{$$typeof:v,type:S,compare:A===void 0?null:A}},ce.startTransition=function(S){var A=$.transition;$.transition={};try{S()}finally{$.transition=A}},ce.unstable_act=B,ce.useCallback=function(S,A){return ie.current.useCallback(S,A)},ce.useContext=function(S){return ie.current.useContext(S)},ce.useDebugValue=function(){},ce.useDeferredValue=function(S){return ie.current.useDeferredValue(S)},ce.useEffect=function(S,A){return ie.current.useEffect(S,A)},ce.useId=function(){return ie.current.useId()},ce.useImperativeHandle=function(S,A,oe){return ie.current.useImperativeHandle(S,A,oe)},ce.useInsertionEffect=function(S,A){return ie.current.useInsertionEffect(S,A)},ce.useLayoutEffect=function(S,A){return ie.current.useLayoutEffect(S,A)},ce.useMemo=function(S,A){return ie.current.useMemo(S,A)},ce.useReducer=function(S,A,oe){return ie.current.useReducer(S,A,oe)},ce.useRef=function(S){return ie.current.useRef(S)},ce.useState=function(S){return ie.current.useState(S)},ce.useSyncExternalStore=function(S,A,oe){return ie.current.useSyncExternalStore(S,A,oe)},ce.useTransition=function(){return ie.current.useTransition()},ce.version="18.3.1",ce}var Zc;function Yl(){return Zc||(Zc=1,Pl.exports=ap()),Pl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function up(){if(ed)return rs;ed=1;var u=Yl(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,v){var y,_={},E=null,j=null;v!==void 0&&(E=""+v),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(j=g.ref);for(y in g)o.call(g,y)&&!c.hasOwnProperty(y)&&(_[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)_[y]===void 0&&(_[y]=g[y]);return{$$typeof:n,type:p,key:E,ref:j,props:_,_owner:a.current}}return rs.Fragment=s,rs.jsx=f,rs.jsxs=f,rs}var td;function cp(){return td||(td=1,Cl.exports=up()),Cl.exports}var m=cp(),z=Yl();const dp=Ud(z);var ki={},Nl={exports:{}},st={},Tl={exports:{}},Rl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function fp(){return rd||(rd=1,function(u){function n($,Y){var B=$.length;$.push(Y);e:for(;0<B;){var S=B-1>>>1,A=$[S];if(0<a(A,Y))$[S]=Y,$[B]=A,B=S;else break e}}function s($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var Y=$[0],B=$.pop();if(B!==Y){$[0]=B;e:for(var S=0,A=$.length,oe=A>>>1;S<oe;){var ae=2*(S+1)-1,he=$[ae],pe=ae+1,_e=$[pe];if(0>a(he,B))pe<A&&0>a(_e,he)?($[S]=_e,$[pe]=B,S=pe):($[S]=he,$[ae]=B,S=ae);else if(pe<A&&0>a(_e,B))$[S]=_e,$[pe]=B,S=pe;else break e}}return Y}function a($,Y){var B=$.sortIndex-Y.sortIndex;return B!==0?B:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;u.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],v=[],y=1,_=null,E=3,j=!1,C=!1,O=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D($){for(var Y=s(v);Y!==null;){if(Y.callback===null)o(v);else if(Y.startTime<=$)o(v),Y.sortIndex=Y.expirationTime,n(g,Y);else break;Y=s(v)}}function F($){if(O=!1,D($),!C)if(s(g)!==null)C=!0,qe(Q);else{var Y=s(v);Y!==null&&ie(F,Y.startTime-$)}}function Q($,Y){C=!1,O&&(O=!1,M(X),X=-1),j=!0;var B=E;try{for(D(Y),_=s(g);_!==null&&(!(_.expirationTime>Y)||$&&!ue());){var S=_.callback;if(typeof S=="function"){_.callback=null,E=_.priorityLevel;var A=S(_.expirationTime<=Y);Y=u.unstable_now(),typeof A=="function"?_.callback=A:_===s(g)&&o(g),D(Y)}else o(g);_=s(g)}if(_!==null)var oe=!0;else{var ae=s(v);ae!==null&&ie(F,ae.startTime-Y),oe=!1}return oe}finally{_=null,E=B,j=!1}}var H=!1,Z=null,X=-1,ee=5,se=-1;function ue(){return!(u.unstable_now()-se<ee)}function we(){if(Z!==null){var $=u.unstable_now();se=$;var Y=!0;try{Y=Z(!0,$)}finally{Y?Pe():(H=!1,Z=null)}}else H=!1}var Pe;if(typeof G=="function")Pe=function(){G(we)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ie=Se.port2;Se.port1.onmessage=we,Pe=function(){Ie.postMessage(null)}}else Pe=function(){T(we,0)};function qe($){Z=$,H||(H=!0,Pe())}function ie($,Y){X=T(function(){$(u.unstable_now())},Y)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function($){$.callback=null},u.unstable_continueExecution=function(){C||j||(C=!0,qe(Q))},u.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<$?Math.floor(1e3/$):5},u.unstable_getCurrentPriorityLevel=function(){return E},u.unstable_getFirstCallbackNode=function(){return s(g)},u.unstable_next=function($){switch(E){case 1:case 2:case 3:var Y=3;break;default:Y=E}var B=E;E=Y;try{return $()}finally{E=B}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var B=E;E=$;try{return Y()}finally{E=B}},u.unstable_scheduleCallback=function($,Y,B){var S=u.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?S+B:S):B=S,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=B+A,$={id:y++,callback:Y,priorityLevel:$,startTime:B,expirationTime:A,sortIndex:-1},B>S?($.sortIndex=B,n(v,$),s(g)===null&&$===s(v)&&(O?(M(X),X=-1):O=!0,ie(F,B-S))):($.sortIndex=A,n(g,$),C||j||(C=!0,qe(Q))),$},u.unstable_shouldYield=ue,u.unstable_wrapCallback=function($){var Y=E;return function(){var B=E;E=Y;try{return $.apply(this,arguments)}finally{E=B}}}}(Rl)),Rl}var nd;function hp(){return nd||(nd=1,Tl.exports=fp()),Tl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function pp(){if(sd)return st;sd=1;var u=Yl(),n=hp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function E(e){return g.call(_,e)?!0:g.call(y,e)?!1:v.test(e)?_[e]=!0:(y[e]=!0,!1)}function j(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,r,i){if(t===null||typeof t>"u"||j(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,r,i,l,d,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=h}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,G);T[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,G);T[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,G);T[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,r,i){var l=T.hasOwnProperty(t)?T[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,r,l,i)&&(r=null),i||l===null?E(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var F=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),ue=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),$=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,S;function A(e){if(S===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var oe=!1;function ae(e,t){if(!e||oe)return"";oe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var i=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){i=N}e.call(t.prototype)}else{try{throw Error()}catch(N){i=N}e()}}catch(N){if(N&&i&&typeof N.stack=="string"){for(var l=N.stack.split(`
`),d=i.stack.split(`
`),h=l.length-1,w=d.length-1;1<=h&&0<=w&&l[h]!==d[w];)w--;for(;1<=h&&0<=w;h--,w--)if(l[h]!==d[w]){if(h!==1||w!==1)do if(h--,w--,0>w||l[h]!==d[w]){var x=`
`+l[h].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=h&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?A(e):""}function he(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=ae(e.type,!1),e;case 11:return e=ae(e.type.render,!1),e;case 1:return e=ae(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case H:return"Portal";case ee:return"Profiler";case X:return"StrictMode";case Pe:return"Suspense";case Se:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ue:return(e.displayName||"Context")+".Consumer";case se:return(e._context.displayName||"Context")+".Provider";case we:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ie:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case qe:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ot(e){var t=Ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){i=""+h,d.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=ot(e))}function sa(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Ee(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ai(e,t){var r=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ia(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=ge(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oa(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function Li(e,t){oa(e,t);var r=ge(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ii(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ii(e,t.type,ge(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function la(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ii(e,t,r){(t!=="number"||hs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vn=Array.isArray;function Tr(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+ge(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function $i(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function aa(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(vn(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ge(r)}}function ua(e,t){var r=ge(t.value),i=ge(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function ca(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function da(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ui(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?da(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,fa=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},df=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){df.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wn[t]=wn[e]})});function ha(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wn.hasOwnProperty(e)&&wn[e]?(""+t).trim():t+"px"}function pa(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=ha(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var ff=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Di(e,t){if(t){if(ff[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Mi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zi=null;function Fi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bi=null,Rr=null,Or=null;function ma(e){if(e=Fn(e)){if(typeof Bi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Us(t),Bi(e.stateNode,e.type,t))}}function ga(e){Rr?Or?Or.push(e):Or=[e]:Rr=e}function va(){if(Rr){var e=Rr,t=Or;if(Or=Rr=null,ma(e),t)for(e=0;e<t.length;e++)ma(t[e])}}function ya(e,t){return e(t)}function wa(){}var Vi=!1;function _a(e,t,r){if(Vi)return e(t,r);Vi=!0;try{return ya(e,t,r)}finally{Vi=!1,(Rr!==null||Or!==null)&&(wa(),va())}}function _n(e,t){var r=e.stateNode;if(r===null)return null;var i=Us(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Wi=!1;if(p)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{Wi=!1}function hf(e,t,r,i,l,d,h,w,x){var N=Array.prototype.slice.call(arguments,3);try{t.apply(r,N)}catch(L){this.onError(L)}}var kn=!1,ms=null,gs=!1,qi=null,pf={onError:function(e){kn=!0,ms=e}};function mf(e,t,r,i,l,d,h,w,x){kn=!1,ms=null,hf.apply(pf,arguments)}function gf(e,t,r,i,l,d,h,w,x){if(mf.apply(this,arguments),kn){if(kn){var N=ms;kn=!1,ms=null}else throw Error(s(198));gs||(gs=!0,qi=N)}}function fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xa(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ka(e){if(fr(e)!==e)throw Error(s(188))}function vf(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return ka(l),e;if(d===i)return ka(l),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=l,i=d;else{for(var h=!1,w=l.child;w;){if(w===r){h=!0,r=l,i=d;break}if(w===i){h=!0,i=l,r=d;break}w=w.sibling}if(!h){for(w=d.child;w;){if(w===r){h=!0,r=d,i=l;break}if(w===i){h=!0,i=d,r=l;break}w=w.sibling}if(!h)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function Sa(e){return e=vf(e),e!==null?ja(e):null}function ja(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ja(e);if(t!==null)return t;e=e.sibling}return null}var ba=n.unstable_scheduleCallback,Ea=n.unstable_cancelCallback,yf=n.unstable_shouldYield,wf=n.unstable_requestPaint,Oe=n.unstable_now,_f=n.unstable_getCurrentPriorityLevel,Hi=n.unstable_ImmediatePriority,Ca=n.unstable_UserBlockingPriority,vs=n.unstable_NormalPriority,xf=n.unstable_LowPriority,Pa=n.unstable_IdlePriority,ys=null,Ct=null;function kf(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ys,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:bf,Sf=Math.log,jf=Math.LN2;function bf(e){return e>>>=0,e===0?32:31-(Sf(e)/jf|0)|0}var ws=64,_s=4194304;function Sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xs(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,d=e.pingedLanes,h=r&268435455;if(h!==0){var w=h&~l;w!==0?i=Sn(w):(d&=h,d!==0&&(i=Sn(d)))}else h=r&~l,h!==0?i=Sn(h):d!==0&&(i=Sn(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&l)===0&&(l=i&-i,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-yt(t),l=1<<r,i|=e[r],t&=~l;return i}function Ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cf(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-yt(d),w=1<<h,x=l[h];x===-1?((w&r)===0||(w&i)!==0)&&(l[h]=Ef(w,t)):x<=t&&(e.expiredLanes|=w),d&=~w}}function Ki(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Na(){var e=ws;return ws<<=1,(ws&4194240)===0&&(ws=64),e}function Gi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=r}function Pf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-yt(r),d=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~d}}function Qi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-yt(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var ve=0;function Ta(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ra,Ji,Oa,Aa,La,Yi=!1,ks=[],Vt=null,Wt=null,qt=null,bn=new Map,En=new Map,Ht=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ia(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(t.pointerId)}}function Cn(e,t,r,i,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[l]},t!==null&&(t=Fn(t),t!==null&&Ji(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Tf(e,t,r,i,l){switch(t){case"focusin":return Vt=Cn(Vt,e,t,r,i,l),!0;case"dragenter":return Wt=Cn(Wt,e,t,r,i,l),!0;case"mouseover":return qt=Cn(qt,e,t,r,i,l),!0;case"pointerover":var d=l.pointerId;return bn.set(d,Cn(bn.get(d)||null,e,t,r,i,l)),!0;case"gotpointercapture":return d=l.pointerId,En.set(d,Cn(En.get(d)||null,e,t,r,i,l)),!0}return!1}function $a(e){var t=hr(e.target);if(t!==null){var r=fr(t);if(r!==null){if(t=r.tag,t===13){if(t=xa(r),t!==null){e.blockedOn=t,La(e.priority,function(){Oa(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ss(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);zi=i,r.target.dispatchEvent(i),zi=null}else return t=Fn(r),t!==null&&Ji(t),e.blockedOn=r,!1;t.shift()}return!0}function Ua(e,t,r){Ss(e)&&r.delete(t)}function Rf(){Yi=!1,Vt!==null&&Ss(Vt)&&(Vt=null),Wt!==null&&Ss(Wt)&&(Wt=null),qt!==null&&Ss(qt)&&(qt=null),bn.forEach(Ua),En.forEach(Ua)}function Pn(e,t){e.blockedOn===t&&(e.blockedOn=null,Yi||(Yi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Rf)))}function Nn(e){function t(l){return Pn(l,e)}if(0<ks.length){Pn(ks[0],e);for(var r=1;r<ks.length;r++){var i=ks[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Vt!==null&&Pn(Vt,e),Wt!==null&&Pn(Wt,e),qt!==null&&Pn(qt,e),bn.forEach(t),En.forEach(t),r=0;r<Ht.length;r++)i=Ht[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)$a(r),r.blockedOn===null&&Ht.shift()}var Ar=F.ReactCurrentBatchConfig,js=!0;function Of(e,t,r,i){var l=ve,d=Ar.transition;Ar.transition=null;try{ve=1,Xi(e,t,r,i)}finally{ve=l,Ar.transition=d}}function Af(e,t,r,i){var l=ve,d=Ar.transition;Ar.transition=null;try{ve=4,Xi(e,t,r,i)}finally{ve=l,Ar.transition=d}}function Xi(e,t,r,i){if(js){var l=Zi(e,t,r,i);if(l===null)vo(e,t,i,bs,r),Ia(e,i);else if(Tf(l,e,t,r,i))i.stopPropagation();else if(Ia(e,i),t&4&&-1<Nf.indexOf(e)){for(;l!==null;){var d=Fn(l);if(d!==null&&Ra(d),d=Zi(e,t,r,i),d===null&&vo(e,t,i,bs,r),d===l)break;l=d}l!==null&&i.stopPropagation()}else vo(e,t,i,null,r)}}var bs=null;function Zi(e,t,r,i){if(bs=null,e=Fi(i),e=hr(e),e!==null)if(t=fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xa(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bs=e,null}function Da(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_f()){case Hi:return 1;case Ca:return 4;case vs:case xf:return 16;case Pa:return 536870912;default:return 16}default:return 16}}var Kt=null,eo=null,Es=null;function Ma(){if(Es)return Es;var e,t=eo,r=t.length,i,l="value"in Kt?Kt.value:Kt.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var h=r-e;for(i=1;i<=h&&t[r-i]===l[d-i];i++);return Es=l.slice(e,1<i?1-i:void 0)}function Cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function za(){return!1}function lt(e){function t(r,i,l,d,h){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ps:za,this.isPropagationStopped=za,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=lt(Lr),Tn=B({},Lr,{view:0,detail:0}),Lf=lt(Tn),ro,no,Rn,Ns=B({},Tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(ro=e.screenX-Rn.screenX,no=e.screenY-Rn.screenY):no=ro=0,Rn=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:no}}),Fa=lt(Ns),If=B({},Ns,{dataTransfer:0}),$f=lt(If),Uf=B({},Tn,{relatedTarget:0}),so=lt(Uf),Df=B({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mf=lt(Df),zf=B({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ff=lt(zf),Bf=B({},Lr,{data:0}),Ba=lt(Bf),Vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qf[e])?!!t[e]:!1}function io(){return Hf}var Kf=B({},Tn,{key:function(e){if(e.key){var t=Vf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?Cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gf=lt(Kf),Qf=B({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=lt(Qf),Jf=B({},Tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Yf=lt(Jf),Xf=B({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zf=lt(Xf),eh=B({},Ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),th=lt(eh),rh=[9,13,27,32],oo=p&&"CompositionEvent"in window,On=null;p&&"documentMode"in document&&(On=document.documentMode);var nh=p&&"TextEvent"in window&&!On,Wa=p&&(!oo||On&&8<On&&11>=On),qa=" ",Ha=!1;function Ka(e,t){switch(e){case"keyup":return rh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function sh(e,t){switch(e){case"compositionend":return Ga(t);case"keypress":return t.which!==32?null:(Ha=!0,qa);case"textInput":return e=t.data,e===qa&&Ha?null:e;default:return null}}function ih(e,t){if(Ir)return e==="compositionend"||!oo&&Ka(e,t)?(e=Ma(),Es=eo=Kt=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wa&&t.locale!=="ko"?null:t.data;default:return null}}var oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oh[e.type]:t==="textarea"}function Ja(e,t,r,i){ga(i),t=Ls(t,"onChange"),0<t.length&&(r=new to("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var An=null,Ln=null;function lh(e){pu(e,0)}function Ts(e){var t=zr(e);if(sa(t))return e}function ah(e,t){if(e==="change")return t}var Ya=!1;if(p){var lo;if(p){var ao="oninput"in document;if(!ao){var Xa=document.createElement("div");Xa.setAttribute("oninput","return;"),ao=typeof Xa.oninput=="function"}lo=ao}else lo=!1;Ya=lo&&(!document.documentMode||9<document.documentMode)}function Za(){An&&(An.detachEvent("onpropertychange",eu),Ln=An=null)}function eu(e){if(e.propertyName==="value"&&Ts(Ln)){var t=[];Ja(t,Ln,e,Fi(e)),_a(lh,t)}}function uh(e,t,r){e==="focusin"?(Za(),An=t,Ln=r,An.attachEvent("onpropertychange",eu)):e==="focusout"&&Za()}function ch(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ts(Ln)}function dh(e,t){if(e==="click")return Ts(t)}function fh(e,t){if(e==="input"||e==="change")return Ts(t)}function hh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:hh;function In(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!g.call(t,l)||!wt(e[l],t[l]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var r=tu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tu(r)}}function nu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function su(){for(var e=window,t=hs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hs(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ph(e){var t=su(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&nu(r.ownerDocument.documentElement,r)){if(i!==null&&uo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,d=Math.min(i.start,l);i=i.end===void 0?d:Math.min(i.end,l),!e.extend&&d>i&&(l=i,i=d,d=l),l=ru(r,d);var h=ru(r,i);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mh=p&&"documentMode"in document&&11>=document.documentMode,$r=null,co=null,$n=null,fo=!1;function iu(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fo||$r==null||$r!==hs(i)||(i=$r,"selectionStart"in i&&uo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$n&&In($n,i)||($n=i,i=Ls(co,"onSelect"),0<i.length&&(t=new to("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=$r)))}function Rs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ur={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},ho={},ou={};p&&(ou=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Os(e){if(ho[e])return ho[e];if(!Ur[e])return e;var t=Ur[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ou)return ho[e]=t[r];return e}var lu=Os("animationend"),au=Os("animationiteration"),uu=Os("animationstart"),cu=Os("transitionend"),du=new Map,fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,t){du.set(e,t),c(t,[e])}for(var po=0;po<fu.length;po++){var mo=fu[po],gh=mo.toLowerCase(),vh=mo[0].toUpperCase()+mo.slice(1);Gt(gh,"on"+vh)}Gt(lu,"onAnimationEnd"),Gt(au,"onAnimationIteration"),Gt(uu,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(cu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Un));function hu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,gf(i,t,void 0,e),e.currentTarget=null}function pu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var h=i.length-1;0<=h;h--){var w=i[h],x=w.instance,N=w.currentTarget;if(w=w.listener,x!==d&&l.isPropagationStopped())break e;hu(l,w,N),d=x}else for(h=0;h<i.length;h++){if(w=i[h],x=w.instance,N=w.currentTarget,w=w.listener,x!==d&&l.isPropagationStopped())break e;hu(l,w,N),d=x}}}if(gs)throw e=qi,gs=!1,qi=null,e}function je(e,t){var r=t[So];r===void 0&&(r=t[So]=new Set);var i=e+"__bubble";r.has(i)||(mu(t,e,2,!1),r.add(i))}function go(e,t,r){var i=0;t&&(i|=4),mu(r,e,i,t)}var As="_reactListening"+Math.random().toString(36).slice(2);function Dn(e){if(!e[As]){e[As]=!0,o.forEach(function(r){r!=="selectionchange"&&(yh.has(r)||go(r,!1,e),go(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[As]||(t[As]=!0,go("selectionchange",!1,t))}}function mu(e,t,r,i){switch(Da(t)){case 1:var l=Of;break;case 4:l=Af;break;default:l=Xi}r=l.bind(null,t,r,e),l=void 0,!Wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function vo(e,t,r,i,l){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var w=i.stateNode.containerInfo;if(w===l||w.nodeType===8&&w.parentNode===l)break;if(h===4)for(h=i.return;h!==null;){var x=h.tag;if((x===3||x===4)&&(x=h.stateNode.containerInfo,x===l||x.nodeType===8&&x.parentNode===l))return;h=h.return}for(;w!==null;){if(h=hr(w),h===null)return;if(x=h.tag,x===5||x===6){i=d=h;continue e}w=w.parentNode}}i=i.return}_a(function(){var N=d,L=Fi(r),I=[];e:{var R=du.get(e);if(R!==void 0){var V=to,q=e;switch(e){case"keypress":if(Cs(r)===0)break e;case"keydown":case"keyup":V=Gf;break;case"focusin":q="focus",V=so;break;case"focusout":q="blur",V=so;break;case"beforeblur":case"afterblur":V=so;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Yf;break;case lu:case au:case uu:V=Mf;break;case cu:V=Zf;break;case"scroll":V=Lf;break;case"wheel":V=th;break;case"copy":case"cut":case"paste":V=Ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Va}var K=(t&4)!==0,Ae=!K&&e==="scroll",b=K?R!==null?R+"Capture":null:R;K=[];for(var k=N,P;k!==null;){P=k;var U=P.stateNode;if(P.tag===5&&U!==null&&(P=U,b!==null&&(U=_n(k,b),U!=null&&K.push(Mn(k,U,P)))),Ae)break;k=k.return}0<K.length&&(R=new V(R,q,null,r,L),I.push({event:R,listeners:K}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",R&&r!==zi&&(q=r.relatedTarget||r.fromElement)&&(hr(q)||q[Ot]))break e;if((V||R)&&(R=L.window===L?L:(R=L.ownerDocument)?R.defaultView||R.parentWindow:window,V?(q=r.relatedTarget||r.toElement,V=N,q=q?hr(q):null,q!==null&&(Ae=fr(q),q!==Ae||q.tag!==5&&q.tag!==6)&&(q=null)):(V=null,q=N),V!==q)){if(K=Fa,U="onMouseLeave",b="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(K=Va,U="onPointerLeave",b="onPointerEnter",k="pointer"),Ae=V==null?R:zr(V),P=q==null?R:zr(q),R=new K(U,k+"leave",V,r,L),R.target=Ae,R.relatedTarget=P,U=null,hr(L)===N&&(K=new K(b,k+"enter",q,r,L),K.target=P,K.relatedTarget=Ae,U=K),Ae=U,V&&q)t:{for(K=V,b=q,k=0,P=K;P;P=Dr(P))k++;for(P=0,U=b;U;U=Dr(U))P++;for(;0<k-P;)K=Dr(K),k--;for(;0<P-k;)b=Dr(b),P--;for(;k--;){if(K===b||b!==null&&K===b.alternate)break t;K=Dr(K),b=Dr(b)}K=null}else K=null;V!==null&&gu(I,R,V,K,!1),q!==null&&Ae!==null&&gu(I,Ae,q,K,!0)}}e:{if(R=N?zr(N):window,V=R.nodeName&&R.nodeName.toLowerCase(),V==="select"||V==="input"&&R.type==="file")var J=ah;else if(Qa(R))if(Ya)J=fh;else{J=ch;var te=uh}else(V=R.nodeName)&&V.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(J=dh);if(J&&(J=J(e,N))){Ja(I,J,r,L);break e}te&&te(e,R,N),e==="focusout"&&(te=R._wrapperState)&&te.controlled&&R.type==="number"&&Ii(R,"number",R.value)}switch(te=N?zr(N):window,e){case"focusin":(Qa(te)||te.contentEditable==="true")&&($r=te,co=N,$n=null);break;case"focusout":$n=co=$r=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,iu(I,r,L);break;case"selectionchange":if(mh)break;case"keydown":case"keyup":iu(I,r,L)}var re;if(oo)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Ir?Ka(e,r)&&(ne="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ne="onCompositionStart");ne&&(Wa&&r.locale!=="ko"&&(Ir||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Ir&&(re=Ma()):(Kt=L,eo="value"in Kt?Kt.value:Kt.textContent,Ir=!0)),te=Ls(N,ne),0<te.length&&(ne=new Ba(ne,e,null,r,L),I.push({event:ne,listeners:te}),re?ne.data=re:(re=Ga(r),re!==null&&(ne.data=re)))),(re=nh?sh(e,r):ih(e,r))&&(N=Ls(N,"onBeforeInput"),0<N.length&&(L=new Ba("onBeforeInput","beforeinput",null,r,L),I.push({event:L,listeners:N}),L.data=re))}pu(I,t)})}function Mn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ls(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=_n(e,r),d!=null&&i.unshift(Mn(e,d,l)),d=_n(e,t),d!=null&&i.push(Mn(e,d,l))),e=e.return}return i}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gu(e,t,r,i,l){for(var d=t._reactName,h=[];r!==null&&r!==i;){var w=r,x=w.alternate,N=w.stateNode;if(x!==null&&x===i)break;w.tag===5&&N!==null&&(w=N,l?(x=_n(r,d),x!=null&&h.unshift(Mn(r,x,w))):l||(x=_n(r,d),x!=null&&h.push(Mn(r,x,w)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var wh=/\r\n?/g,_h=/\u0000|\uFFFD/g;function vu(e){return(typeof e=="string"?e:""+e).replace(wh,`
`).replace(_h,"")}function Is(e,t,r){if(t=vu(t),vu(e)!==t&&r)throw Error(s(425))}function $s(){}var yo=null,wo=null;function _o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xo=typeof setTimeout=="function"?setTimeout:void 0,xh=typeof clearTimeout=="function"?clearTimeout:void 0,yu=typeof Promise=="function"?Promise:void 0,kh=typeof queueMicrotask=="function"?queueMicrotask:typeof yu<"u"?function(e){return yu.resolve(null).then(e).catch(Sh)}:xo;function Sh(e){setTimeout(function(){throw e})}function ko(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),Nn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);Nn(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Mr,zn="__reactProps$"+Mr,Ot="__reactContainer$"+Mr,So="__reactEvents$"+Mr,jh="__reactListeners$"+Mr,bh="__reactHandles$"+Mr;function hr(e){var t=e[Pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ot]||r[Pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wu(e);e!==null;){if(r=e[Pt])return r;e=wu(e)}return t}e=r,r=e.parentNode}return null}function Fn(e){return e=e[Pt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Us(e){return e[zn]||null}var jo=[],Fr=-1;function Jt(e){return{current:e}}function be(e){0>Fr||(e.current=jo[Fr],jo[Fr]=null,Fr--)}function xe(e,t){Fr++,jo[Fr]=e.current,e.current=t}var Yt={},He=Jt(Yt),Ze=Jt(!1),pr=Yt;function Br(e,t){var r=e.type.contextTypes;if(!r)return Yt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in r)l[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function et(e){return e=e.childContextTypes,e!=null}function Ds(){be(Ze),be(He)}function _u(e,t,r){if(He.current!==Yt)throw Error(s(168));xe(He,t),xe(Ze,r)}function xu(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(s(108,_e(e)||"Unknown",l));return B({},r,i)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,pr=He.current,xe(He,e),xe(Ze,Ze.current),!0}function ku(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=xu(e,t,pr),i.__reactInternalMemoizedMergedChildContext=e,be(Ze),be(He),xe(He,e)):be(Ze),xe(Ze,r)}var At=null,zs=!1,bo=!1;function Su(e){At===null?At=[e]:At.push(e)}function Eh(e){zs=!0,Su(e)}function Xt(){if(!bo&&At!==null){bo=!0;var e=0,t=ve;try{var r=At;for(ve=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}At=null,zs=!1}catch(l){throw At!==null&&(At=At.slice(e+1)),ba(Hi,Xt),l}finally{ve=t,bo=!1}}return null}var Vr=[],Wr=0,Fs=null,Bs=0,dt=[],ft=0,mr=null,Lt=1,It="";function gr(e,t){Vr[Wr++]=Bs,Vr[Wr++]=Fs,Fs=e,Bs=t}function ju(e,t,r){dt[ft++]=Lt,dt[ft++]=It,dt[ft++]=mr,mr=e;var i=Lt;e=It;var l=32-yt(i)-1;i&=~(1<<l),r+=1;var d=32-yt(t)+l;if(30<d){var h=l-l%5;d=(i&(1<<h)-1).toString(32),i>>=h,l-=h,Lt=1<<32-yt(t)+l|r<<l|i,It=d+e}else Lt=1<<d|r<<l|i,It=e}function Eo(e){e.return!==null&&(gr(e,1),ju(e,1,0))}function Co(e){for(;e===Fs;)Fs=Vr[--Wr],Vr[Wr]=null,Bs=Vr[--Wr],Vr[Wr]=null;for(;e===mr;)mr=dt[--ft],dt[ft]=null,It=dt[--ft],dt[ft]=null,Lt=dt[--ft],dt[ft]=null}var at=null,ut=null,Ce=!1,_t=null;function bu(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Eu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ut=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mr!==null?{id:Lt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,at=e,ut=null,!0):!1;default:return!1}}function Po(e){return(e.mode&1)!==0&&(e.flags&128)===0}function No(e){if(Ce){var t=ut;if(t){var r=t;if(!Eu(e,t)){if(Po(e))throw Error(s(418));t=Qt(r.nextSibling);var i=at;t&&Eu(e,t)?bu(i,r):(e.flags=e.flags&-4097|2,Ce=!1,at=e)}}else{if(Po(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ce=!1,at=e}}}function Cu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Vs(e){if(e!==at)return!1;if(!Ce)return Cu(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_o(e.type,e.memoizedProps)),t&&(t=ut)){if(Po(e))throw Pu(),Error(s(418));for(;t;)bu(e,t),t=Qt(t.nextSibling)}if(Cu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ut=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=at?Qt(e.stateNode.nextSibling):null;return!0}function Pu(){for(var e=ut;e;)e=Qt(e.nextSibling)}function qr(){ut=at=null,Ce=!1}function To(e){_t===null?_t=[e]:_t.push(e)}var Ch=F.ReactCurrentBatchConfig;function Bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var l=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(h){var w=l.refs;h===null?delete w[d]:w[d]=h},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nu(e){var t=e._init;return t(e._payload)}function Tu(e){function t(b,k){if(e){var P=b.deletions;P===null?(b.deletions=[k],b.flags|=16):P.push(k)}}function r(b,k){if(!e)return null;for(;k!==null;)t(b,k),k=k.sibling;return null}function i(b,k){for(b=new Map;k!==null;)k.key!==null?b.set(k.key,k):b.set(k.index,k),k=k.sibling;return b}function l(b,k){return b=or(b,k),b.index=0,b.sibling=null,b}function d(b,k,P){return b.index=P,e?(P=b.alternate,P!==null?(P=P.index,P<k?(b.flags|=2,k):P):(b.flags|=2,k)):(b.flags|=1048576,k)}function h(b){return e&&b.alternate===null&&(b.flags|=2),b}function w(b,k,P,U){return k===null||k.tag!==6?(k=xl(P,b.mode,U),k.return=b,k):(k=l(k,P),k.return=b,k)}function x(b,k,P,U){var J=P.type;return J===Z?L(b,k,P.props.children,U,P.key):k!==null&&(k.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===qe&&Nu(J)===k.type)?(U=l(k,P.props),U.ref=Bn(b,k,P),U.return=b,U):(U=pi(P.type,P.key,P.props,null,b.mode,U),U.ref=Bn(b,k,P),U.return=b,U)}function N(b,k,P,U){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=kl(P,b.mode,U),k.return=b,k):(k=l(k,P.children||[]),k.return=b,k)}function L(b,k,P,U,J){return k===null||k.tag!==7?(k=jr(P,b.mode,U,J),k.return=b,k):(k=l(k,P),k.return=b,k)}function I(b,k,P){if(typeof k=="string"&&k!==""||typeof k=="number")return k=xl(""+k,b.mode,P),k.return=b,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Q:return P=pi(k.type,k.key,k.props,null,b.mode,P),P.ref=Bn(b,null,k),P.return=b,P;case H:return k=kl(k,b.mode,P),k.return=b,k;case qe:var U=k._init;return I(b,U(k._payload),P)}if(vn(k)||Y(k))return k=jr(k,b.mode,P,null),k.return=b,k;Ws(b,k)}return null}function R(b,k,P,U){var J=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return J!==null?null:w(b,k,""+P,U);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===J?x(b,k,P,U):null;case H:return P.key===J?N(b,k,P,U):null;case qe:return J=P._init,R(b,k,J(P._payload),U)}if(vn(P)||Y(P))return J!==null?null:L(b,k,P,U,null);Ws(b,P)}return null}function V(b,k,P,U,J){if(typeof U=="string"&&U!==""||typeof U=="number")return b=b.get(P)||null,w(k,b,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return b=b.get(U.key===null?P:U.key)||null,x(k,b,U,J);case H:return b=b.get(U.key===null?P:U.key)||null,N(k,b,U,J);case qe:var te=U._init;return V(b,k,P,te(U._payload),J)}if(vn(U)||Y(U))return b=b.get(P)||null,L(k,b,U,J,null);Ws(k,U)}return null}function q(b,k,P,U){for(var J=null,te=null,re=k,ne=k=0,ze=null;re!==null&&ne<P.length;ne++){re.index>ne?(ze=re,re=null):ze=re.sibling;var me=R(b,re,P[ne],U);if(me===null){re===null&&(re=ze);break}e&&re&&me.alternate===null&&t(b,re),k=d(me,k,ne),te===null?J=me:te.sibling=me,te=me,re=ze}if(ne===P.length)return r(b,re),Ce&&gr(b,ne),J;if(re===null){for(;ne<P.length;ne++)re=I(b,P[ne],U),re!==null&&(k=d(re,k,ne),te===null?J=re:te.sibling=re,te=re);return Ce&&gr(b,ne),J}for(re=i(b,re);ne<P.length;ne++)ze=V(re,b,ne,P[ne],U),ze!==null&&(e&&ze.alternate!==null&&re.delete(ze.key===null?ne:ze.key),k=d(ze,k,ne),te===null?J=ze:te.sibling=ze,te=ze);return e&&re.forEach(function(lr){return t(b,lr)}),Ce&&gr(b,ne),J}function K(b,k,P,U){var J=Y(P);if(typeof J!="function")throw Error(s(150));if(P=J.call(P),P==null)throw Error(s(151));for(var te=J=null,re=k,ne=k=0,ze=null,me=P.next();re!==null&&!me.done;ne++,me=P.next()){re.index>ne?(ze=re,re=null):ze=re.sibling;var lr=R(b,re,me.value,U);if(lr===null){re===null&&(re=ze);break}e&&re&&lr.alternate===null&&t(b,re),k=d(lr,k,ne),te===null?J=lr:te.sibling=lr,te=lr,re=ze}if(me.done)return r(b,re),Ce&&gr(b,ne),J;if(re===null){for(;!me.done;ne++,me=P.next())me=I(b,me.value,U),me!==null&&(k=d(me,k,ne),te===null?J=me:te.sibling=me,te=me);return Ce&&gr(b,ne),J}for(re=i(b,re);!me.done;ne++,me=P.next())me=V(re,b,ne,me.value,U),me!==null&&(e&&me.alternate!==null&&re.delete(me.key===null?ne:me.key),k=d(me,k,ne),te===null?J=me:te.sibling=me,te=me);return e&&re.forEach(function(op){return t(b,op)}),Ce&&gr(b,ne),J}function Ae(b,k,P,U){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:e:{for(var J=P.key,te=k;te!==null;){if(te.key===J){if(J=P.type,J===Z){if(te.tag===7){r(b,te.sibling),k=l(te,P.props.children),k.return=b,b=k;break e}}else if(te.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===qe&&Nu(J)===te.type){r(b,te.sibling),k=l(te,P.props),k.ref=Bn(b,te,P),k.return=b,b=k;break e}r(b,te);break}else t(b,te);te=te.sibling}P.type===Z?(k=jr(P.props.children,b.mode,U,P.key),k.return=b,b=k):(U=pi(P.type,P.key,P.props,null,b.mode,U),U.ref=Bn(b,k,P),U.return=b,b=U)}return h(b);case H:e:{for(te=P.key;k!==null;){if(k.key===te)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){r(b,k.sibling),k=l(k,P.children||[]),k.return=b,b=k;break e}else{r(b,k);break}else t(b,k);k=k.sibling}k=kl(P,b.mode,U),k.return=b,b=k}return h(b);case qe:return te=P._init,Ae(b,k,te(P._payload),U)}if(vn(P))return q(b,k,P,U);if(Y(P))return K(b,k,P,U);Ws(b,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,k!==null&&k.tag===6?(r(b,k.sibling),k=l(k,P),k.return=b,b=k):(r(b,k),k=xl(P,b.mode,U),k.return=b,b=k),h(b)):r(b,k)}return Ae}var Hr=Tu(!0),Ru=Tu(!1),qs=Jt(null),Hs=null,Kr=null,Ro=null;function Oo(){Ro=Kr=Hs=null}function Ao(e){var t=qs.current;be(qs),e._currentValue=t}function Lo(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){Hs=e,Ro=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(tt=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Ro!==e)if(e={context:e,memoizedValue:t,next:null},Kr===null){if(Hs===null)throw Error(s(308));Kr=e,Hs.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return t}var vr=null;function Io(e){vr===null?vr=[e]:vr.push(e)}function Ou(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,Io(t)):(r.next=l.next,l.next=r),t.interleaved=r,$t(e,i)}function $t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zt=!1;function $o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(fe&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,$t(e,r)}return l=i.interleaved,l===null?(t.next=t,Io(i)):(t.next=l.next,l.next=t),i.interleaved=t,$t(e,r)}function Ks(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Qi(e,r)}}function Lu(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?l=d=h:d=d.next=h,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gs(e,t,r,i){var l=e.updateQueue;Zt=!1;var d=l.firstBaseUpdate,h=l.lastBaseUpdate,w=l.shared.pending;if(w!==null){l.shared.pending=null;var x=w,N=x.next;x.next=null,h===null?d=N:h.next=N,h=x;var L=e.alternate;L!==null&&(L=L.updateQueue,w=L.lastBaseUpdate,w!==h&&(w===null?L.firstBaseUpdate=N:w.next=N,L.lastBaseUpdate=x))}if(d!==null){var I=l.baseState;h=0,L=N=x=null,w=d;do{var R=w.lane,V=w.eventTime;if((i&R)===R){L!==null&&(L=L.next={eventTime:V,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var q=e,K=w;switch(R=t,V=r,K.tag){case 1:if(q=K.payload,typeof q=="function"){I=q.call(V,I,R);break e}I=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=K.payload,R=typeof q=="function"?q.call(V,I,R):q,R==null)break e;I=B({},I,R);break e;case 2:Zt=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,R=l.effects,R===null?l.effects=[w]:R.push(w))}else V={eventTime:V,lane:R,tag:w.tag,payload:w.payload,callback:w.callback,next:null},L===null?(N=L=V,x=I):L=L.next=V,h|=R;if(w=w.next,w===null){if(w=l.shared.pending,w===null)break;R=w,w=R.next,R.next=null,l.lastBaseUpdate=R,l.shared.pending=null}}while(!0);if(L===null&&(x=I),l.baseState=x,l.firstBaseUpdate=N,l.lastBaseUpdate=L,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);_r|=h,e.lanes=h,e.memoizedState=I}}function Iu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(s(191,l));l.call(i)}}}var Vn={},Nt=Jt(Vn),Wn=Jt(Vn),qn=Jt(Vn);function yr(e){if(e===Vn)throw Error(s(174));return e}function Uo(e,t){switch(xe(qn,t),xe(Wn,e),xe(Nt,Vn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ui(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ui(t,e)}be(Nt),xe(Nt,t)}function Qr(){be(Nt),be(Wn),be(qn)}function $u(e){yr(qn.current);var t=yr(Nt.current),r=Ui(t,e.type);t!==r&&(xe(Wn,e),xe(Nt,r))}function Do(e){Wn.current===e&&(be(Nt),be(Wn))}var Ne=Jt(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=[];function zo(){for(var e=0;e<Mo.length;e++)Mo[e]._workInProgressVersionPrimary=null;Mo.length=0}var Js=F.ReactCurrentDispatcher,Fo=F.ReactCurrentBatchConfig,wr=0,Te=null,$e=null,De=null,Ys=!1,Hn=!1,Kn=0,Ph=0;function Ke(){throw Error(s(321))}function Bo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!wt(e[r],t[r]))return!1;return!0}function Vo(e,t,r,i,l,d){if(wr=d,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Js.current=e===null||e.memoizedState===null?Oh:Ah,e=r(i,l),Hn){d=0;do{if(Hn=!1,Kn=0,25<=d)throw Error(s(301));d+=1,De=$e=null,t.updateQueue=null,Js.current=Lh,e=r(i,l)}while(Hn)}if(Js.current=ei,t=$e!==null&&$e.next!==null,wr=0,De=$e=Te=null,Ys=!1,t)throw Error(s(300));return e}function Wo(){var e=Kn!==0;return Kn=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Te.memoizedState=De=e:De=De.next=e,De}function pt(){if($e===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=De===null?Te.memoizedState:De.next;if(t!==null)De=t,$e=e;else{if(e===null)throw Error(s(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},De===null?Te.memoizedState=De=e:De=De.next=e}return De}function Gn(e,t){return typeof t=="function"?t(e):t}function qo(e){var t=pt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=$e,l=i.baseQueue,d=r.pending;if(d!==null){if(l!==null){var h=l.next;l.next=d.next,d.next=h}i.baseQueue=l=d,r.pending=null}if(l!==null){d=l.next,i=i.baseState;var w=h=null,x=null,N=d;do{var L=N.lane;if((wr&L)===L)x!==null&&(x=x.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),i=N.hasEagerState?N.eagerState:e(i,N.action);else{var I={lane:L,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};x===null?(w=x=I,h=i):x=x.next=I,Te.lanes|=L,_r|=L}N=N.next}while(N!==null&&N!==d);x===null?h=i:x.next=w,wt(i,t.memoizedState)||(tt=!0),t.memoizedState=i,t.baseState=h,t.baseQueue=x,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do d=l.lane,Te.lanes|=d,_r|=d,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ho(e){var t=pt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var h=l=l.next;do d=e(d,h.action),h=h.next;while(h!==l);wt(d,t.memoizedState)||(tt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function Uu(){}function Du(e,t){var r=Te,i=pt(),l=t(),d=!wt(i.memoizedState,l);if(d&&(i.memoizedState=l,tt=!0),i=i.queue,Ko(Fu.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||De!==null&&De.memoizedState.tag&1){if(r.flags|=2048,Qn(9,zu.bind(null,r,i,l,t),void 0,null),Me===null)throw Error(s(349));(wr&30)!==0||Mu(r,t,l)}return l}function Mu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zu(e,t,r,i){t.value=r,t.getSnapshot=i,Bu(t)&&Vu(e)}function Fu(e,t,r){return r(function(){Bu(t)&&Vu(e)})}function Bu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wt(e,r)}catch{return!0}}function Vu(e){var t=$t(e,1);t!==null&&jt(t,e,1,-1)}function Wu(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t.queue=e,e=e.dispatch=Rh.bind(null,Te,e),[t.memoizedState,e]}function Qn(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function qu(){return pt().memoizedState}function Xs(e,t,r,i){var l=Tt();Te.flags|=e,l.memoizedState=Qn(1|t,r,void 0,i===void 0?null:i)}function Zs(e,t,r,i){var l=pt();i=i===void 0?null:i;var d=void 0;if($e!==null){var h=$e.memoizedState;if(d=h.destroy,i!==null&&Bo(i,h.deps)){l.memoizedState=Qn(t,r,d,i);return}}Te.flags|=e,l.memoizedState=Qn(1|t,r,d,i)}function Hu(e,t){return Xs(8390656,8,e,t)}function Ko(e,t){return Zs(2048,8,e,t)}function Ku(e,t){return Zs(4,2,e,t)}function Gu(e,t){return Zs(4,4,e,t)}function Qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ju(e,t,r){return r=r!=null?r.concat([e]):null,Zs(4,4,Qu.bind(null,t,e),r)}function Go(){}function Yu(e,t){var r=pt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Bo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Xu(e,t){var r=pt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Bo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Zu(e,t,r){return(wr&21)===0?(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=r):(wt(r,t)||(r=Na(),Te.lanes|=r,_r|=r,e.baseState=!0),t)}function Nh(e,t){var r=ve;ve=r!==0&&4>r?r:4,e(!0);var i=Fo.transition;Fo.transition={};try{e(!1),t()}finally{ve=r,Fo.transition=i}}function ec(){return pt().memoizedState}function Th(e,t,r){var i=sr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},tc(e))rc(t,r);else if(r=Ou(e,t,r,i),r!==null){var l=Xe();jt(r,e,i,l),nc(r,t,i)}}function Rh(e,t,r){var i=sr(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(e))rc(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var h=t.lastRenderedState,w=d(h,r);if(l.hasEagerState=!0,l.eagerState=w,wt(w,h)){var x=t.interleaved;x===null?(l.next=l,Io(t)):(l.next=x.next,x.next=l),t.interleaved=l;return}}catch{}finally{}r=Ou(e,t,l,i),r!==null&&(l=Xe(),jt(r,e,i,l),nc(r,t,i))}}function tc(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function rc(e,t){Hn=Ys=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Qi(e,r)}}var ei={readContext:ht,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Oh={readContext:ht,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Hu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xs(4194308,4,Qu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xs(4,2,e,t)},useMemo:function(e,t){var r=Tt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Tt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Th.bind(null,Te,e),[i.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:Wu,useDebugValue:Go,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=Wu(!1),t=e[0];return e=Nh.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Te,l=Tt();if(Ce){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Me===null)throw Error(s(349));(wr&30)!==0||Mu(i,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,Hu(Fu.bind(null,i,d,e),[e]),i.flags|=2048,Qn(9,zu.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Tt(),t=Me.identifierPrefix;if(Ce){var r=It,i=Lt;r=(i&~(1<<32-yt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ph++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ah={readContext:ht,useCallback:Yu,useContext:ht,useEffect:Ko,useImperativeHandle:Ju,useInsertionEffect:Ku,useLayoutEffect:Gu,useMemo:Xu,useReducer:qo,useRef:qu,useState:function(){return qo(Gn)},useDebugValue:Go,useDeferredValue:function(e){var t=pt();return Zu(t,$e.memoizedState,e)},useTransition:function(){var e=qo(Gn)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:Du,useId:ec,unstable_isNewReconciler:!1},Lh={readContext:ht,useCallback:Yu,useContext:ht,useEffect:Ko,useImperativeHandle:Ju,useInsertionEffect:Ku,useLayoutEffect:Gu,useMemo:Xu,useReducer:Ho,useRef:qu,useState:function(){return Ho(Gn)},useDebugValue:Go,useDeferredValue:function(e){var t=pt();return $e===null?t.memoizedState=e:Zu(t,$e.memoizedState,e)},useTransition:function(){var e=Ho(Gn)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:Du,useId:ec,unstable_isNewReconciler:!1};function xt(e,t){if(e&&e.defaultProps){t=B({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qo(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:B({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ti={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Xe(),l=sr(e),d=Ut(i,l);d.payload=t,r!=null&&(d.callback=r),t=er(e,d,l),t!==null&&(jt(t,e,l,i),Ks(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Xe(),l=sr(e),d=Ut(i,l);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=er(e,d,l),t!==null&&(jt(t,e,l,i),Ks(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),i=sr(e),l=Ut(r,i);l.tag=2,t!=null&&(l.callback=t),t=er(e,l,i),t!==null&&(jt(t,e,i,r),Ks(t,e,i))}};function sc(e,t,r,i,l,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,h):t.prototype&&t.prototype.isPureReactComponent?!In(r,i)||!In(l,d):!0}function ic(e,t,r){var i=!1,l=Yt,d=t.contextType;return typeof d=="object"&&d!==null?d=ht(d):(l=et(t)?pr:He.current,i=t.contextTypes,d=(i=i!=null)?Br(e,l):Yt),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ti,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function oc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ti.enqueueReplaceState(t,t.state,null)}function Jo(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},$o(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=ht(d):(d=et(t)?pr:He.current,l.context=Br(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Qo(e,t,d,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ti.enqueueReplaceState(l,l.state,null),Gs(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var r="",i=t;do r+=he(i),i=i.return;while(i);var l=r}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function Yo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Xo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ih=typeof WeakMap=="function"?WeakMap:Map;function lc(e,t,r){r=Ut(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ai||(ai=!0,hl=i),Xo(e,t)},r}function ac(e,t,r){r=Ut(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){Xo(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){Xo(e,t),typeof i!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function uc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Ih;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=Qh.bind(null,e,t,r),t.then(e,e))}function cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,r,i,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ut(-1,1),t.tag=2,er(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var $h=F.ReactCurrentOwner,tt=!1;function Ye(e,t,r,i){t.child=e===null?Ru(t,null,r,i):Hr(t,e.child,r,i)}function fc(e,t,r,i,l){r=r.render;var d=t.ref;return Gr(t,l),i=Vo(e,t,r,i,d,l),r=Wo(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(Ce&&r&&Eo(t),t.flags|=1,Ye(e,t,i,l),t.child)}function hc(e,t,r,i,l){if(e===null){var d=r.type;return typeof d=="function"&&!_l(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,pc(e,t,d,i,l)):(e=pi(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var h=d.memoizedProps;if(r=r.compare,r=r!==null?r:In,r(h,i)&&e.ref===t.ref)return Dt(e,t,l)}return t.flags|=1,e=or(d,i),e.ref=t.ref,e.return=t,t.child=e}function pc(e,t,r,i,l){if(e!==null){var d=e.memoizedProps;if(In(d,i)&&e.ref===t.ref)if(tt=!1,t.pendingProps=i=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Dt(e,t,l)}return Zo(e,t,r,i,l)}function mc(e,t,r){var i=t.pendingProps,l=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Xr,ct),ct|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Xr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,xe(Xr,ct),ct|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,xe(Xr,ct),ct|=i;return Ye(e,t,l,r),t.child}function gc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Zo(e,t,r,i,l){var d=et(r)?pr:He.current;return d=Br(t,d),Gr(t,l),r=Vo(e,t,r,i,d,l),i=Wo(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(Ce&&i&&Eo(t),t.flags|=1,Ye(e,t,r,l),t.child)}function vc(e,t,r,i,l){if(et(r)){var d=!0;Ms(t)}else d=!1;if(Gr(t,l),t.stateNode===null)ni(e,t),ic(t,r,i),Jo(t,r,i,l),i=!0;else if(e===null){var h=t.stateNode,w=t.memoizedProps;h.props=w;var x=h.context,N=r.contextType;typeof N=="object"&&N!==null?N=ht(N):(N=et(r)?pr:He.current,N=Br(t,N));var L=r.getDerivedStateFromProps,I=typeof L=="function"||typeof h.getSnapshotBeforeUpdate=="function";I||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==i||x!==N)&&oc(t,h,i,N),Zt=!1;var R=t.memoizedState;h.state=R,Gs(t,i,h,l),x=t.memoizedState,w!==i||R!==x||Ze.current||Zt?(typeof L=="function"&&(Qo(t,r,L,i),x=t.memoizedState),(w=Zt||sc(t,r,w,i,R,x,N))?(I||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),h.props=i,h.state=x,h.context=N,i=w):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,Au(e,t),w=t.memoizedProps,N=t.type===t.elementType?w:xt(t.type,w),h.props=N,I=t.pendingProps,R=h.context,x=r.contextType,typeof x=="object"&&x!==null?x=ht(x):(x=et(r)?pr:He.current,x=Br(t,x));var V=r.getDerivedStateFromProps;(L=typeof V=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==I||R!==x)&&oc(t,h,i,x),Zt=!1,R=t.memoizedState,h.state=R,Gs(t,i,h,l);var q=t.memoizedState;w!==I||R!==q||Ze.current||Zt?(typeof V=="function"&&(Qo(t,r,V,i),q=t.memoizedState),(N=Zt||sc(t,r,N,i,R,q,x)||!1)?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,q,x),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,q,x)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=q),h.props=i,h.state=q,h.context=x,i=N):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),i=!1)}return el(e,t,r,i,d,l)}function el(e,t,r,i,l,d){gc(e,t);var h=(t.flags&128)!==0;if(!i&&!h)return l&&ku(t,r,!1),Dt(e,t,d);i=t.stateNode,$h.current=t;var w=h&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&h?(t.child=Hr(t,e.child,null,d),t.child=Hr(t,null,w,d)):Ye(e,t,w,d),t.memoizedState=i.state,l&&ku(t,r,!0),t.child}function yc(e){var t=e.stateNode;t.pendingContext?_u(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_u(e,t.context,!1),Uo(e,t.containerInfo)}function wc(e,t,r,i,l){return qr(),To(l),t.flags|=256,Ye(e,t,r,i),t.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function _c(e,t,r){var i=t.pendingProps,l=Ne.current,d=!1,h=(t.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(l&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),xe(Ne,l&1),e===null)return No(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=i.children,e=i.fallback,d?(i=t.mode,d=t.child,h={mode:"hidden",children:h},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=mi(h,i,0,null),e=jr(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=rl(r),t.memoizedState=tl,e):nl(t,h));if(l=e.memoizedState,l!==null&&(w=l.dehydrated,w!==null))return Uh(e,t,h,i,w,l,r);if(d){d=i.fallback,h=t.mode,l=e.child,w=l.sibling;var x={mode:"hidden",children:i.children};return(h&1)===0&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=x,t.deletions=null):(i=or(l,x),i.subtreeFlags=l.subtreeFlags&14680064),w!==null?d=or(w,d):(d=jr(d,h,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,h=e.child.memoizedState,h=h===null?rl(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~r,t.memoizedState=tl,i}return d=e.child,e=d.sibling,i=or(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function nl(e,t){return t=mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ri(e,t,r,i){return i!==null&&To(i),Hr(t,e.child,null,r),e=nl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uh(e,t,r,i,l,d,h){if(r)return t.flags&256?(t.flags&=-257,i=Yo(Error(s(422))),ri(e,t,h,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,l=t.mode,i=mi({mode:"visible",children:i.children},l,0,null),d=jr(d,l,h,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&Hr(t,e.child,null,h),t.child.memoizedState=rl(h),t.memoizedState=tl,d);if((t.mode&1)===0)return ri(e,t,h,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var w=i.dgst;return i=w,d=Error(s(419)),i=Yo(d,i,void 0),ri(e,t,h,i)}if(w=(h&e.childLanes)!==0,tt||w){if(i=Me,i!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(i.suspendedLanes|h))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,$t(e,l),jt(i,e,l,-1))}return wl(),i=Yo(Error(s(421))),ri(e,t,h,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Jh.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,ut=Qt(l.nextSibling),at=t,Ce=!0,_t=null,e!==null&&(dt[ft++]=Lt,dt[ft++]=It,dt[ft++]=mr,Lt=e.id,It=e.overflow,mr=t),t=nl(t,i.children),t.flags|=4096,t)}function xc(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Lo(e.return,t,r)}function sl(e,t,r,i,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=l)}function kc(e,t,r){var i=t.pendingProps,l=i.revealOrder,d=i.tail;if(Ye(e,t,i.children,r),i=Ne.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xc(e,r,t);else if(e.tag===19)xc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(xe(Ne,i),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Qs(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),sl(t,!1,l,r,d);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Qs(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}sl(t,!0,r,null,d);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ni(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Dh(e,t,r){switch(t.tag){case 3:yc(t),qr();break;case 5:$u(t);break;case 1:et(t.type)&&Ms(t);break;case 4:Uo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;xe(qs,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(xe(Ne,Ne.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?_c(e,t,r):(xe(Ne,Ne.current&1),e=Dt(e,t,r),e!==null?e.sibling:null);xe(Ne,Ne.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return kc(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),xe(Ne,Ne.current),i)break;return null;case 22:case 23:return t.lanes=0,mc(e,t,r)}return Dt(e,t,r)}var Sc,il,jc,bc;Sc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},il=function(){},jc=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,yr(Nt.current);var d=null;switch(r){case"input":l=Ai(e,l),i=Ai(e,i),d=[];break;case"select":l=B({},l,{value:void 0}),i=B({},i,{value:void 0}),d=[];break;case"textarea":l=$i(e,l),i=$i(e,i),d=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=$s)}Di(r,i);var h;r=null;for(N in l)if(!i.hasOwnProperty(N)&&l.hasOwnProperty(N)&&l[N]!=null)if(N==="style"){var w=l[N];for(h in w)w.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in i){var x=i[N];if(w=l!=null?l[N]:void 0,i.hasOwnProperty(N)&&x!==w&&(x!=null||w!=null))if(N==="style")if(w){for(h in w)!w.hasOwnProperty(h)||x&&x.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in x)x.hasOwnProperty(h)&&w[h]!==x[h]&&(r||(r={}),r[h]=x[h])}else r||(d||(d=[]),d.push(N,r)),r=x;else N==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,w=w?w.__html:void 0,x!=null&&w!==x&&(d=d||[]).push(N,x)):N==="children"?typeof x!="string"&&typeof x!="number"||(d=d||[]).push(N,""+x):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(a.hasOwnProperty(N)?(x!=null&&N==="onScroll"&&je("scroll",e),d||w===x||(d=[])):(d=d||[]).push(N,x))}r&&(d=d||[]).push("style",r);var N=d;(t.updateQueue=N)&&(t.flags|=4)}},bc=function(e,t,r,i){r!==i&&(t.flags|=4)};function Jn(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Mh(e,t,r){var i=t.pendingProps;switch(Co(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return et(t.type)&&Ds(),Ge(t),null;case 3:return i=t.stateNode,Qr(),be(Ze),be(He),zo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_t!==null&&(gl(_t),_t=null))),il(e,t),Ge(t),null;case 5:Do(t);var l=yr(qn.current);if(r=t.type,e!==null&&t.stateNode!=null)jc(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Ge(t),null}if(e=yr(Nt.current),Vs(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[Pt]=t,i[zn]=d,e=(t.mode&1)!==0,r){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(l=0;l<Un.length;l++)je(Un[l],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":ia(i,d),je("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},je("invalid",i);break;case"textarea":aa(i,d),je("invalid",i)}Di(r,d),l=null;for(var h in d)if(d.hasOwnProperty(h)){var w=d[h];h==="children"?typeof w=="string"?i.textContent!==w&&(d.suppressHydrationWarning!==!0&&Is(i.textContent,w,e),l=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Is(i.textContent,w,e),l=["children",""+w]):a.hasOwnProperty(h)&&w!=null&&h==="onScroll"&&je("scroll",i)}switch(r){case"input":fs(i),la(i,d,!0);break;case"textarea":fs(i),ca(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=$s)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=da(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=h.createElement(r,{is:i.is}):(e=h.createElement(r),r==="select"&&(h=e,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):e=h.createElementNS(e,r),e[Pt]=t,e[zn]=i,Sc(e,t,!1,!1),t.stateNode=e;e:{switch(h=Mi(r,i),r){case"dialog":je("cancel",e),je("close",e),l=i;break;case"iframe":case"object":case"embed":je("load",e),l=i;break;case"video":case"audio":for(l=0;l<Un.length;l++)je(Un[l],e);l=i;break;case"source":je("error",e),l=i;break;case"img":case"image":case"link":je("error",e),je("load",e),l=i;break;case"details":je("toggle",e),l=i;break;case"input":ia(e,i),l=Ai(e,i),je("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=B({},i,{value:void 0}),je("invalid",e);break;case"textarea":aa(e,i),l=$i(e,i),je("invalid",e);break;default:l=i}Di(r,l),w=l;for(d in w)if(w.hasOwnProperty(d)){var x=w[d];d==="style"?pa(e,x):d==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&fa(e,x)):d==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&yn(e,x):typeof x=="number"&&yn(e,""+x):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?x!=null&&d==="onScroll"&&je("scroll",e):x!=null&&D(e,d,x,h))}switch(r){case"input":fs(e),la(e,i,!1);break;case"textarea":fs(e),ca(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ge(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Tr(e,!!i.multiple,d,!1):i.defaultValue!=null&&Tr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=$s)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)bc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=yr(qn.current),yr(Nt.current),Vs(t)){if(i=t.stateNode,r=t.memoizedProps,i[Pt]=t,(d=i.nodeValue!==r)&&(e=at,e!==null))switch(e.tag){case 3:Is(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Pt]=t,t.stateNode=i}return Ge(t),null;case 13:if(be(Ne),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Pu(),qr(),t.flags|=98560,d=!1;else if(d=Vs(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),d=!1}else _t!==null&&(gl(_t),_t=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ne.current&1)!==0?Ue===0&&(Ue=3):wl())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return Qr(),il(e,t),e===null&&Dn(t.stateNode.containerInfo),Ge(t),null;case 10:return Ao(t.type._context),Ge(t),null;case 17:return et(t.type)&&Ds(),Ge(t),null;case 19:if(be(Ne),d=t.memoizedState,d===null)return Ge(t),null;if(i=(t.flags&128)!==0,h=d.rendering,h===null)if(i)Jn(d,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Qs(e),h!==null){for(t.flags|=128,Jn(d,!1),i=h.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return xe(Ne,Ne.current&1|2),t.child}e=e.sibling}d.tail!==null&&Oe()>Zr&&(t.flags|=128,i=!0,Jn(d,!1),t.lanes=4194304)}else{if(!i)if(e=Qs(h),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Jn(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ce)return Ge(t),null}else 2*Oe()-d.renderingStartTime>Zr&&r!==1073741824&&(t.flags|=128,i=!0,Jn(d,!1),t.lanes=4194304);d.isBackwards?(h.sibling=t.child,t.child=h):(r=d.last,r!==null?r.sibling=h:t.child=h,d.last=h)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Oe(),t.sibling=null,r=Ne.current,xe(Ne,i?r&1|2:r&1),t):(Ge(t),null);case 22:case 23:return yl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(ct&1073741824)!==0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function zh(e,t){switch(Co(t),t.tag){case 1:return et(t.type)&&Ds(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),be(Ze),be(He),zo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Do(t),null;case 13:if(be(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Ne),null;case 4:return Qr(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return yl(),null;case 24:return null;default:return null}}var si=!1,Qe=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,W=null;function Yr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Re(e,t,i)}else r.current=null}function ol(e,t,r){try{r()}catch(i){Re(e,t,i)}}var Ec=!1;function Bh(e,t){if(yo=js,e=su(),uo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var h=0,w=-1,x=-1,N=0,L=0,I=e,R=null;t:for(;;){for(var V;I!==r||l!==0&&I.nodeType!==3||(w=h+l),I!==d||i!==0&&I.nodeType!==3||(x=h+i),I.nodeType===3&&(h+=I.nodeValue.length),(V=I.firstChild)!==null;)R=I,I=V;for(;;){if(I===e)break t;if(R===r&&++N===l&&(w=h),R===d&&++L===i&&(x=h),(V=I.nextSibling)!==null)break;I=R,R=I.parentNode}I=V}r=w===-1||x===-1?null:{start:w,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(wo={focusedElem:e,selectionRange:r},js=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var q=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var K=q.memoizedProps,Ae=q.memoizedState,b=t.stateNode,k=b.getSnapshotBeforeUpdate(t.elementType===t.type?K:xt(t.type,K),Ae);b.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(U){Re(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return q=Ec,Ec=!1,q}function Yn(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&ol(t,r,d)}l=l.next}while(l!==i)}}function ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function ll(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cc(e){var t=e.alternate;t!==null&&(e.alternate=null,Cc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[zn],delete t[So],delete t[jh],delete t[bh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pc(e){return e.tag===5||e.tag===3||e.tag===4}function Nc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function al(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$s));else if(i!==4&&(e=e.child,e!==null))for(al(e,t,r),e=e.sibling;e!==null;)al(e,t,r),e=e.sibling}function ul(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ul(e,t,r),e=e.sibling;e!==null;)ul(e,t,r),e=e.sibling}var Ve=null,kt=!1;function tr(e,t,r){for(r=r.child;r!==null;)Tc(e,t,r),r=r.sibling}function Tc(e,t,r){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ys,r)}catch{}switch(r.tag){case 5:Qe||Yr(r,t);case 6:var i=Ve,l=kt;Ve=null,tr(e,t,r),Ve=i,kt=l,Ve!==null&&(kt?(e=Ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ve.removeChild(r.stateNode));break;case 18:Ve!==null&&(kt?(e=Ve,r=r.stateNode,e.nodeType===8?ko(e.parentNode,r):e.nodeType===1&&ko(e,r),Nn(e)):ko(Ve,r.stateNode));break;case 4:i=Ve,l=kt,Ve=r.stateNode.containerInfo,kt=!0,tr(e,t,r),Ve=i,kt=l;break;case 0:case 11:case 14:case 15:if(!Qe&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var d=l,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&ol(r,t,h),l=l.next}while(l!==i)}tr(e,t,r);break;case 1:if(!Qe&&(Yr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(w){Re(r,t,w)}tr(e,t,r);break;case 21:tr(e,t,r);break;case 22:r.mode&1?(Qe=(i=Qe)||r.memoizedState!==null,tr(e,t,r),Qe=i):tr(e,t,r);break;default:tr(e,t,r)}}function Rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fh),t.forEach(function(i){var l=Yh.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var d=e,h=t,w=h;e:for(;w!==null;){switch(w.tag){case 5:Ve=w.stateNode,kt=!1;break e;case 3:Ve=w.stateNode.containerInfo,kt=!0;break e;case 4:Ve=w.stateNode.containerInfo,kt=!0;break e}w=w.return}if(Ve===null)throw Error(s(160));Tc(d,h,l),Ve=null,kt=!1;var x=l.alternate;x!==null&&(x.return=null),l.return=null}catch(N){Re(l,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oc(t,e),t=t.sibling}function Oc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),Rt(e),i&4){try{Yn(3,e,e.return),ii(3,e)}catch(K){Re(e,e.return,K)}try{Yn(5,e,e.return)}catch(K){Re(e,e.return,K)}}break;case 1:St(t,e),Rt(e),i&512&&r!==null&&Yr(r,r.return);break;case 5:if(St(t,e),Rt(e),i&512&&r!==null&&Yr(r,r.return),e.flags&32){var l=e.stateNode;try{yn(l,"")}catch(K){Re(e,e.return,K)}}if(i&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,h=r!==null?r.memoizedProps:d,w=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&oa(l,d),Mi(w,h);var N=Mi(w,d);for(h=0;h<x.length;h+=2){var L=x[h],I=x[h+1];L==="style"?pa(l,I):L==="dangerouslySetInnerHTML"?fa(l,I):L==="children"?yn(l,I):D(l,L,I,N)}switch(w){case"input":Li(l,d);break;case"textarea":ua(l,d);break;case"select":var R=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var V=d.value;V!=null?Tr(l,!!d.multiple,V,!1):R!==!!d.multiple&&(d.defaultValue!=null?Tr(l,!!d.multiple,d.defaultValue,!0):Tr(l,!!d.multiple,d.multiple?[]:"",!1))}l[zn]=d}catch(K){Re(e,e.return,K)}}break;case 6:if(St(t,e),Rt(e),i&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(K){Re(e,e.return,K)}}break;case 3:if(St(t,e),Rt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Nn(t.containerInfo)}catch(K){Re(e,e.return,K)}break;case 4:St(t,e),Rt(e);break;case 13:St(t,e),Rt(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(fl=Oe())),i&4&&Rc(e);break;case 22:if(L=r!==null&&r.memoizedState!==null,e.mode&1?(Qe=(N=Qe)||L,St(t,e),Qe=N):St(t,e),Rt(e),i&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!L&&(e.mode&1)!==0)for(W=e,L=e.child;L!==null;){for(I=W=L;W!==null;){switch(R=W,V=R.child,R.tag){case 0:case 11:case 14:case 15:Yn(4,R,R.return);break;case 1:Yr(R,R.return);var q=R.stateNode;if(typeof q.componentWillUnmount=="function"){i=R,r=R.return;try{t=i,q.props=t.memoizedProps,q.state=t.memoizedState,q.componentWillUnmount()}catch(K){Re(i,r,K)}}break;case 5:Yr(R,R.return);break;case 22:if(R.memoizedState!==null){Ic(I);continue}}V!==null?(V.return=R,W=V):Ic(I)}L=L.sibling}e:for(L=null,I=e;;){if(I.tag===5){if(L===null){L=I;try{l=I.stateNode,N?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=I.stateNode,x=I.memoizedProps.style,h=x!=null&&x.hasOwnProperty("display")?x.display:null,w.style.display=ha("display",h))}catch(K){Re(e,e.return,K)}}}else if(I.tag===6){if(L===null)try{I.stateNode.nodeValue=N?"":I.memoizedProps}catch(K){Re(e,e.return,K)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===e)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===e)break e;for(;I.sibling===null;){if(I.return===null||I.return===e)break e;L===I&&(L=null),I=I.return}L===I&&(L=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:St(t,e),Rt(e),i&4&&Rc(e);break;case 21:break;default:St(t,e),Rt(e)}}function Rt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Pc(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(yn(l,""),i.flags&=-33);var d=Nc(e);ul(e,d,l);break;case 3:case 4:var h=i.stateNode.containerInfo,w=Nc(e);al(e,w,h);break;default:throw Error(s(161))}}catch(x){Re(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vh(e,t,r){W=e,Ac(e)}function Ac(e,t,r){for(var i=(e.mode&1)!==0;W!==null;){var l=W,d=l.child;if(l.tag===22&&i){var h=l.memoizedState!==null||si;if(!h){var w=l.alternate,x=w!==null&&w.memoizedState!==null||Qe;w=si;var N=Qe;if(si=h,(Qe=x)&&!N)for(W=l;W!==null;)h=W,x=h.child,h.tag===22&&h.memoizedState!==null?$c(l):x!==null?(x.return=h,W=x):$c(l);for(;d!==null;)W=d,Ac(d),d=d.sibling;W=l,si=w,Qe=N}Lc(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,W=d):Lc(e)}}function Lc(e){for(;W!==null;){var t=W;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||ii(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Qe)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:xt(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Iu(t,d,i);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Iu(t,h,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var L=N.memoizedState;if(L!==null){var I=L.dehydrated;I!==null&&Nn(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Qe||t.flags&512&&ll(t)}catch(R){Re(t,t.return,R)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Ic(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function $c(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ii(4,t)}catch(x){Re(t,r,x)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(x){Re(t,l,x)}}var d=t.return;try{ll(t)}catch(x){Re(t,d,x)}break;case 5:var h=t.return;try{ll(t)}catch(x){Re(t,h,x)}}}catch(x){Re(t,t.return,x)}if(t===e){W=null;break}var w=t.sibling;if(w!==null){w.return=t.return,W=w;break}W=t.return}}var Wh=Math.ceil,oi=F.ReactCurrentDispatcher,cl=F.ReactCurrentOwner,mt=F.ReactCurrentBatchConfig,fe=0,Me=null,Le=null,We=0,ct=0,Xr=Jt(0),Ue=0,Xn=null,_r=0,li=0,dl=0,Zn=null,rt=null,fl=0,Zr=1/0,Mt=null,ai=!1,hl=null,rr=null,ui=!1,nr=null,ci=0,es=0,pl=null,di=-1,fi=0;function Xe(){return(fe&6)!==0?Oe():di!==-1?di:di=Oe()}function sr(e){return(e.mode&1)===0?1:(fe&2)!==0&&We!==0?We&-We:Ch.transition!==null?(fi===0&&(fi=Na()),fi):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Da(e.type)),e)}function jt(e,t,r,i){if(50<es)throw es=0,pl=null,Error(s(185));jn(e,r,i),((fe&2)===0||e!==Me)&&(e===Me&&((fe&2)===0&&(li|=r),Ue===4&&ir(e,We)),nt(e,i),r===1&&fe===0&&(t.mode&1)===0&&(Zr=Oe()+500,zs&&Xt()))}function nt(e,t){var r=e.callbackNode;Cf(e,t);var i=xs(e,e===Me?We:0);if(i===0)r!==null&&Ea(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Ea(r),t===1)e.tag===0?Eh(Dc.bind(null,e)):Su(Dc.bind(null,e)),kh(function(){(fe&6)===0&&Xt()}),r=null;else{switch(Ta(i)){case 1:r=Hi;break;case 4:r=Ca;break;case 16:r=vs;break;case 536870912:r=Pa;break;default:r=vs}r=Hc(r,Uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uc(e,t){if(di=-1,fi=0,(fe&6)!==0)throw Error(s(327));var r=e.callbackNode;if(en()&&e.callbackNode!==r)return null;var i=xs(e,e===Me?We:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=hi(e,i);else{t=i;var l=fe;fe|=2;var d=zc();(Me!==e||We!==t)&&(Mt=null,Zr=Oe()+500,kr(e,t));do try{Kh();break}catch(w){Mc(e,w)}while(!0);Oo(),oi.current=d,fe=l,Le!==null?t=0:(Me=null,We=0,t=Ue)}if(t!==0){if(t===2&&(l=Ki(e),l!==0&&(i=l,t=ml(e,l))),t===1)throw r=Xn,kr(e,0),ir(e,i),nt(e,Oe()),r;if(t===6)ir(e,i);else{if(l=e.current.alternate,(i&30)===0&&!qh(l)&&(t=hi(e,i),t===2&&(d=Ki(e),d!==0&&(i=d,t=ml(e,d))),t===1))throw r=Xn,kr(e,0),ir(e,i),nt(e,Oe()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:Sr(e,rt,Mt);break;case 3:if(ir(e,i),(i&130023424)===i&&(t=fl+500-Oe(),10<t)){if(xs(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Xe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=xo(Sr.bind(null,e,rt,Mt),t);break}Sr(e,rt,Mt);break;case 4:if(ir(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var h=31-yt(i);d=1<<h,h=t[h],h>l&&(l=h),i&=~d}if(i=l,i=Oe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Wh(i/1960))-i,10<i){e.timeoutHandle=xo(Sr.bind(null,e,rt,Mt),i);break}Sr(e,rt,Mt);break;case 5:Sr(e,rt,Mt);break;default:throw Error(s(329))}}}return nt(e,Oe()),e.callbackNode===r?Uc.bind(null,e):null}function ml(e,t){var r=Zn;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=hi(e,t),e!==2&&(t=rt,rt=r,t!==null&&gl(t)),e}function gl(e){rt===null?rt=e:rt.push.apply(rt,e)}function qh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],d=l.getSnapshot;l=l.value;try{if(!wt(d(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ir(e,t){for(t&=~dl,t&=~li,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-yt(t),i=1<<r;e[r]=-1,t&=~i}}function Dc(e){if((fe&6)!==0)throw Error(s(327));en();var t=xs(e,0);if((t&1)===0)return nt(e,Oe()),null;var r=hi(e,t);if(e.tag!==0&&r===2){var i=Ki(e);i!==0&&(t=i,r=ml(e,i))}if(r===1)throw r=Xn,kr(e,0),ir(e,t),nt(e,Oe()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,rt,Mt),nt(e,Oe()),null}function vl(e,t){var r=fe;fe|=1;try{return e(t)}finally{fe=r,fe===0&&(Zr=Oe()+500,zs&&Xt())}}function xr(e){nr!==null&&nr.tag===0&&(fe&6)===0&&en();var t=fe;fe|=1;var r=mt.transition,i=ve;try{if(mt.transition=null,ve=1,e)return e()}finally{ve=i,mt.transition=r,fe=t,(fe&6)===0&&Xt()}}function yl(){ct=Xr.current,be(Xr)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xh(r)),Le!==null)for(r=Le.return;r!==null;){var i=r;switch(Co(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ds();break;case 3:Qr(),be(Ze),be(He),zo();break;case 5:Do(i);break;case 4:Qr();break;case 13:be(Ne);break;case 19:be(Ne);break;case 10:Ao(i.type._context);break;case 22:case 23:yl()}r=r.return}if(Me=e,Le=e=or(e.current,null),We=ct=t,Ue=0,Xn=null,dl=li=_r=0,rt=Zn=null,vr!==null){for(t=0;t<vr.length;t++)if(r=vr[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,d=r.pending;if(d!==null){var h=d.next;d.next=l,i.next=h}r.pending=i}vr=null}return e}function Mc(e,t){do{var r=Le;try{if(Oo(),Js.current=ei,Ys){for(var i=Te.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ys=!1}if(wr=0,De=$e=Te=null,Hn=!1,Kn=0,cl.current=null,r===null||r.return===null){Ue=1,Xn=t,Le=null;break}e:{var d=e,h=r.return,w=r,x=t;if(t=We,w.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var N=x,L=w,I=L.tag;if((L.mode&1)===0&&(I===0||I===11||I===15)){var R=L.alternate;R?(L.updateQueue=R.updateQueue,L.memoizedState=R.memoizedState,L.lanes=R.lanes):(L.updateQueue=null,L.memoizedState=null)}var V=cc(h);if(V!==null){V.flags&=-257,dc(V,h,w,d,t),V.mode&1&&uc(d,N,t),t=V,x=N;var q=t.updateQueue;if(q===null){var K=new Set;K.add(x),t.updateQueue=K}else q.add(x);break e}else{if((t&1)===0){uc(d,N,t),wl();break e}x=Error(s(426))}}else if(Ce&&w.mode&1){var Ae=cc(h);if(Ae!==null){(Ae.flags&65536)===0&&(Ae.flags|=256),dc(Ae,h,w,d,t),To(Jr(x,w));break e}}d=x=Jr(x,w),Ue!==4&&(Ue=2),Zn===null?Zn=[d]:Zn.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var b=lc(d,x,t);Lu(d,b);break e;case 1:w=x;var k=d.type,P=d.stateNode;if((d.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(rr===null||!rr.has(P)))){d.flags|=65536,t&=-t,d.lanes|=t;var U=ac(d,w,t);Lu(d,U);break e}}d=d.return}while(d!==null)}Bc(r)}catch(J){t=J,Le===r&&r!==null&&(Le=r=r.return);continue}break}while(!0)}function zc(){var e=oi.current;return oi.current=ei,e===null?ei:e}function wl(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Me===null||(_r&268435455)===0&&(li&268435455)===0||ir(Me,We)}function hi(e,t){var r=fe;fe|=2;var i=zc();(Me!==e||We!==t)&&(Mt=null,kr(e,t));do try{Hh();break}catch(l){Mc(e,l)}while(!0);if(Oo(),fe=r,oi.current=i,Le!==null)throw Error(s(261));return Me=null,We=0,Ue}function Hh(){for(;Le!==null;)Fc(Le)}function Kh(){for(;Le!==null&&!yf();)Fc(Le)}function Fc(e){var t=qc(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Bc(e):Le=t,cl.current=null}function Bc(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Mh(r,t,ct),r!==null){Le=r;return}}else{if(r=zh(r,t),r!==null){r.flags&=32767,Le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Le=null;return}}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Ue===0&&(Ue=5)}function Sr(e,t,r){var i=ve,l=mt.transition;try{mt.transition=null,ve=1,Gh(e,t,r,i)}finally{mt.transition=l,ve=i}return null}function Gh(e,t,r,i){do en();while(nr!==null);if((fe&6)!==0)throw Error(s(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(Pf(e,d),e===Me&&(Le=Me=null,We=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ui||(ui=!0,Hc(vs,function(){return en(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=mt.transition,mt.transition=null;var h=ve;ve=1;var w=fe;fe|=4,cl.current=null,Bh(e,r),Oc(r,e),ph(wo),js=!!yo,wo=yo=null,e.current=r,Vh(r),wf(),fe=w,ve=h,mt.transition=d}else e.current=r;if(ui&&(ui=!1,nr=e,ci=l),d=e.pendingLanes,d===0&&(rr=null),kf(r.stateNode),nt(e,Oe()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(ai)throw ai=!1,e=hl,hl=null,e;return(ci&1)!==0&&e.tag!==0&&en(),d=e.pendingLanes,(d&1)!==0?e===pl?es++:(es=0,pl=e):es=0,Xt(),null}function en(){if(nr!==null){var e=Ta(ci),t=mt.transition,r=ve;try{if(mt.transition=null,ve=16>e?16:e,nr===null)var i=!1;else{if(e=nr,nr=null,ci=0,(fe&6)!==0)throw Error(s(331));var l=fe;for(fe|=4,W=e.current;W!==null;){var d=W,h=d.child;if((W.flags&16)!==0){var w=d.deletions;if(w!==null){for(var x=0;x<w.length;x++){var N=w[x];for(W=N;W!==null;){var L=W;switch(L.tag){case 0:case 11:case 15:Yn(8,L,d)}var I=L.child;if(I!==null)I.return=L,W=I;else for(;W!==null;){L=W;var R=L.sibling,V=L.return;if(Cc(L),L===N){W=null;break}if(R!==null){R.return=V,W=R;break}W=V}}}var q=d.alternate;if(q!==null){var K=q.child;if(K!==null){q.child=null;do{var Ae=K.sibling;K.sibling=null,K=Ae}while(K!==null)}}W=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,W=h;else e:for(;W!==null;){if(d=W,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Yn(9,d,d.return)}var b=d.sibling;if(b!==null){b.return=d.return,W=b;break e}W=d.return}}var k=e.current;for(W=k;W!==null;){h=W;var P=h.child;if((h.subtreeFlags&2064)!==0&&P!==null)P.return=h,W=P;else e:for(h=k;W!==null;){if(w=W,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ii(9,w)}}catch(J){Re(w,w.return,J)}if(w===h){W=null;break e}var U=w.sibling;if(U!==null){U.return=w.return,W=U;break e}W=w.return}}if(fe=l,Xt(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ys,e)}catch{}i=!0}return i}finally{ve=r,mt.transition=t}}return!1}function Vc(e,t,r){t=Jr(r,t),t=lc(e,t,1),e=er(e,t,1),t=Xe(),e!==null&&(jn(e,1,t),nt(e,t))}function Re(e,t,r){if(e.tag===3)Vc(e,e,r);else for(;t!==null;){if(t.tag===3){Vc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rr===null||!rr.has(i))){e=Jr(r,e),e=ac(t,e,1),t=er(t,e,1),e=Xe(),t!==null&&(jn(t,1,e),nt(t,e));break}}t=t.return}}function Qh(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,Me===e&&(We&r)===r&&(Ue===4||Ue===3&&(We&130023424)===We&&500>Oe()-fl?kr(e,0):dl|=r),nt(e,t)}function Wc(e,t){t===0&&((e.mode&1)===0?t=1:(t=_s,_s<<=1,(_s&130023424)===0&&(_s=4194304)));var r=Xe();e=$t(e,t),e!==null&&(jn(e,t,r),nt(e,r))}function Jh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wc(e,r)}function Yh(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),Wc(e,r)}var qc;qc=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)tt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return tt=!1,Dh(e,t,r);tt=(e.flags&131072)!==0}else tt=!1,Ce&&(t.flags&1048576)!==0&&ju(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ni(e,t),e=t.pendingProps;var l=Br(t,He.current);Gr(t,r),l=Vo(null,t,i,e,l,r);var d=Wo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(i)?(d=!0,Ms(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,$o(t),l.updater=ti,t.stateNode=l,l._reactInternals=t,Jo(t,i,e,r),t=el(null,t,i,!0,d,r)):(t.tag=0,Ce&&d&&Eo(t),Ye(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(ni(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=Zh(i),e=xt(i,e),l){case 0:t=Zo(null,t,i,e,r);break e;case 1:t=vc(null,t,i,e,r);break e;case 11:t=fc(null,t,i,e,r);break e;case 14:t=hc(null,t,i,xt(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:xt(i,l),Zo(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:xt(i,l),vc(e,t,i,l,r);case 3:e:{if(yc(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,l=d.element,Au(e,t),Gs(t,i,null,r);var h=t.memoizedState;if(i=h.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=Jr(Error(s(423)),t),t=wc(e,t,i,r,l);break e}else if(i!==l){l=Jr(Error(s(424)),t),t=wc(e,t,i,r,l);break e}else for(ut=Qt(t.stateNode.containerInfo.firstChild),at=t,Ce=!0,_t=null,r=Ru(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qr(),i===l){t=Dt(e,t,r);break e}Ye(e,t,i,r)}t=t.child}return t;case 5:return $u(t),e===null&&No(t),i=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,h=l.children,_o(i,l)?h=null:d!==null&&_o(i,d)&&(t.flags|=32),gc(e,t),Ye(e,t,h,r),t.child;case 6:return e===null&&No(t),null;case 13:return _c(e,t,r);case 4:return Uo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Hr(t,null,i,r):Ye(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:xt(i,l),fc(e,t,i,l,r);case 7:return Ye(e,t,t.pendingProps,r),t.child;case 8:return Ye(e,t,t.pendingProps.children,r),t.child;case 12:return Ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,d=t.memoizedProps,h=l.value,xe(qs,i._currentValue),i._currentValue=h,d!==null)if(wt(d.value,h)){if(d.children===l.children&&!Ze.current){t=Dt(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){h=d.child;for(var x=w.firstContext;x!==null;){if(x.context===i){if(d.tag===1){x=Ut(-1,r&-r),x.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var L=N.pending;L===null?x.next=x:(x.next=L.next,L.next=x),N.pending=x}}d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),Lo(d.return,r,t),w.lanes|=r;break}x=x.next}}else if(d.tag===10)h=d.type===t.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(s(341));h.lanes|=r,w=h.alternate,w!==null&&(w.lanes|=r),Lo(h,r,t),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===t){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}Ye(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Gr(t,r),l=ht(l),i=i(l),t.flags|=1,Ye(e,t,i,r),t.child;case 14:return i=t.type,l=xt(i,t.pendingProps),l=xt(i.type,l),hc(e,t,i,l,r);case 15:return pc(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:xt(i,l),ni(e,t),t.tag=1,et(i)?(e=!0,Ms(t)):e=!1,Gr(t,r),ic(t,i,l),Jo(t,i,l,r),el(null,t,i,!0,e,r);case 19:return kc(e,t,r);case 22:return mc(e,t,r)}throw Error(s(156,t.tag))};function Hc(e,t){return ba(e,t)}function Xh(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,i){return new Xh(e,t,r,i)}function _l(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zh(e){if(typeof e=="function")return _l(e)?1:0;if(e!=null){if(e=e.$$typeof,e===we)return 11;if(e===Ie)return 14}return 2}function or(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pi(e,t,r,i,l,d){var h=2;if(i=e,typeof e=="function")_l(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Z:return jr(r.children,l,d,t);case X:h=8,l|=8;break;case ee:return e=gt(12,r,t,l|2),e.elementType=ee,e.lanes=d,e;case Pe:return e=gt(13,r,t,l),e.elementType=Pe,e.lanes=d,e;case Se:return e=gt(19,r,t,l),e.elementType=Se,e.lanes=d,e;case ie:return mi(r,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case se:h=10;break e;case ue:h=9;break e;case we:h=11;break e;case Ie:h=14;break e;case qe:h=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=gt(h,r,t,l),t.elementType=e,t.type=i,t.lanes=d,t}function jr(e,t,r,i){return e=gt(7,e,i,t),e.lanes=r,e}function mi(e,t,r,i){return e=gt(22,e,i,t),e.elementType=ie,e.lanes=r,e.stateNode={isHidden:!1},e}function xl(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function kl(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ep(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Sl(e,t,r,i,l,d,h,w,x){return e=new ep(e,t,r,w,x),t===1?(t=1,d===!0&&(t|=8)):t=0,d=gt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$o(d),e}function tp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Kc(e){if(!e)return Yt;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(et(r))return xu(e,r,t)}return t}function Gc(e,t,r,i,l,d,h,w,x){return e=Sl(r,i,!0,e,l,d,h,w,x),e.context=Kc(null),r=e.current,i=Xe(),l=sr(r),d=Ut(i,l),d.callback=t??null,er(r,d,l),e.current.lanes=l,jn(e,l,i),nt(e,i),e}function gi(e,t,r,i){var l=t.current,d=Xe(),h=sr(l);return r=Kc(r),t.context===null?t.context=r:t.pendingContext=r,t=Ut(d,h),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=er(l,t,h),e!==null&&(jt(e,l,h,d),Ks(e,l,h)),h}function vi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jl(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function rp(){return null}var Jc=typeof reportError=="function"?reportError:function(e){console.error(e)};function bl(e){this._internalRoot=e}yi.prototype.render=bl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));gi(e,t,null,null)},yi.prototype.unmount=bl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){gi(null,e,null,null)}),t[Ot]=null}};function yi(e){this._internalRoot=e}yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Aa();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&$a(e)}};function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function np(e,t,r,i,l){if(l){if(typeof i=="function"){var d=i;i=function(){var N=vi(h);d.call(N)}}var h=Gc(t,i,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=h,e[Ot]=h.current,Dn(e.nodeType===8?e.parentNode:e),xr(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var w=i;i=function(){var N=vi(x);w.call(N)}}var x=Sl(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=x,e[Ot]=x.current,Dn(e.nodeType===8?e.parentNode:e),xr(function(){gi(t,x,r,i)}),x}function _i(e,t,r,i,l){var d=r._reactRootContainer;if(d){var h=d;if(typeof l=="function"){var w=l;l=function(){var x=vi(h);w.call(x)}}gi(t,h,e,l)}else h=np(r,t,e,l,i);return vi(h)}Ra=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sn(t.pendingLanes);r!==0&&(Qi(t,r|1),nt(t,Oe()),(fe&6)===0&&(Zr=Oe()+500,Xt()))}break;case 13:xr(function(){var i=$t(e,1);if(i!==null){var l=Xe();jt(i,e,1,l)}}),jl(e,1)}},Ji=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var r=Xe();jt(t,e,134217728,r)}jl(e,134217728)}},Oa=function(e){if(e.tag===13){var t=sr(e),r=$t(e,t);if(r!==null){var i=Xe();jt(r,e,t,i)}jl(e,t)}},Aa=function(){return ve},La=function(e,t){var r=ve;try{return ve=e,t()}finally{ve=r}},Bi=function(e,t,r){switch(t){case"input":if(Li(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=Us(i);if(!l)throw Error(s(90));sa(i),Li(i,l)}}}break;case"textarea":ua(e,r);break;case"select":t=r.value,t!=null&&Tr(e,!!r.multiple,t,!1)}},ya=vl,wa=xr;var sp={usingClientEntryPoint:!1,Events:[Fn,zr,Us,ga,va,vl]},ts={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ip={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sa(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||rp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xi.isDisabled&&xi.supportsFiber)try{ys=xi.inject(ip),Ct=xi}catch{}}return st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sp,st.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!El(t))throw Error(s(200));return tp(e,t,null,r)},st.createRoot=function(e,t){if(!El(e))throw Error(s(299));var r=!1,i="",l=Jc;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Sl(e,1,!1,null,null,r,!1,i,l),e[Ot]=t.current,Dn(e.nodeType===8?e.parentNode:e),new bl(t)},st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Sa(t),e=e===null?null:e.stateNode,e},st.flushSync=function(e){return xr(e)},st.hydrate=function(e,t,r){if(!wi(t))throw Error(s(200));return _i(null,e,t,!0,r)},st.hydrateRoot=function(e,t,r){if(!El(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,l=!1,d="",h=Jc;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=Gc(t,null,e,1,r??null,l,!1,d,h),e[Ot]=t.current,Dn(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new yi(t)},st.render=function(e,t,r){if(!wi(t))throw Error(s(200));return _i(null,e,t,!1,r)},st.unmountComponentAtNode=function(e){if(!wi(e))throw Error(s(40));return e._reactRootContainer?(xr(function(){_i(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1},st.unstable_batchedUpdates=vl,st.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!wi(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return _i(e,t,r,!1,i)},st.version="18.3.1-next-f1338f8080-20240426",st}var id;function mp(){if(id)return Nl.exports;id=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),Nl.exports=pp(),Nl.exports}var od;function gp(){if(od)return ki;od=1;var u=mp();return ki.createRoot=u.createRoot,ki.hydrateRoot=u.hydrateRoot,ki}var vp=gp();const yp=u=>u instanceof Error?u.message+`
`+u.stack:JSON.stringify(u,null,2);class wp extends dp.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}render(){return this.state.hasError?m.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[m.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),m.jsx("pre",{className:"mt-2 text-sm",children:yp(this.state.error)})]}):this.props.children}}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=(u,n)=>{const s=z.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:f,className:p="",children:g,...v},y)=>z.createElement("svg",{ref:y,..._p,width:a,height:a,stroke:o,strokeWidth:f?Number(c)*24/Number(a):c,className:["lucide",`lucide-${xp(u)}`,p].join(" "),...v},[...n.map(([_,E])=>z.createElement(_,E)),...Array.isArray(g)?g:[g]]));return s.displayName=`${u}`,s};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=vt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=vt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=vt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=vt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=vt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=vt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=vt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=vt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ep="modulepreload",Cp=function(u){return"/"+u},ad={},cs=function(n,s,o){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=Promise.allSettled(s.map(g=>{if(g=Cp(g),g in ad)return;ad[g]=!0;const v=g.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":Ep,v||(_.as="script"),_.crossOrigin="",_.href=g,p&&_.setAttribute("nonce",p),document.head.appendChild(_),v)return new Promise((E,j)=>{_.addEventListener("load",E),_.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return a.then(f=>{for(const p of f||[])p.status==="rejected"&&c(p.reason);return n().catch(c)})},Pp=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>mn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class Zl extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class Np extends Zl{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ud extends Zl{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class cd extends Zl{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var zl;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(zl||(zl={}));var Tp=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(y){try{v(o.next(y))}catch(_){f(_)}}function g(y){try{v(o.throw(y))}catch(_){f(_)}}function v(y){y.done?c(y.value):a(y.value).then(p,g)}v((o=o.apply(u,n||[])).next())})};class Rp{constructor(n,{headers:s={},customFetch:o,region:a=zl.Any}={}){this.url=n,this.headers=s,this.region=a,this.fetch=Pp(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return Tp(this,void 0,void 0,function*(){try{const{headers:a,method:c,body:f}=s;let p={},{region:g}=s;g||(g=this.region);const v=new URL(`${this.url}/${n}`);g&&g!=="any"&&(p["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let y;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(p["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(p["Content-Type"]="application/json",y=JSON.stringify(f)));const _=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:y}).catch(O=>{throw new Np(O)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new ud(_);if(!_.ok)throw new cd(_);let j=((o=_.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield _.json():j==="application/octet-stream"?C=yield _.blob():j==="text/event-stream"?C=_:j==="multipart/form-data"?C=yield _.formData():C=yield _.text(),{data:C,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof cd||a instanceof ud?a.context:void 0}}})}}var Fe={},tn={},rn={},nn={},sn={},on={},Op=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pn=Op();const Ap=pn.fetch,Fd=pn.fetch.bind(pn),Bd=pn.Headers,Lp=pn.Request,Ip=pn.Response,mn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bd,Request:Lp,Response:Ip,default:Fd,fetch:Ap},Symbol.toStringTag,{value:"Module"})),$p=lp(mn);var Si={},dd;function Vd(){if(dd)return Si;dd=1,Object.defineProperty(Si,"__esModule",{value:!0});class u extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Si.default=u,Si}var fd;function Wd(){if(fd)return on;fd=1;var u=on&&on.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(on,"__esModule",{value:!0});const n=u($p),s=u(Vd());class o{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=Object.assign({},this.headers),this.headers[c]=f,this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,_,E;let j=null,C=null,O=null,T=v.status,M=v.statusText;if(v.ok){if(this.method!=="HEAD"){const Q=await v.text();Q===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=Q:C=JSON.parse(Q))}const D=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(_=v.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");D&&F&&F.length>1&&(O=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(j={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,O=null,T=406,M="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const D=await v.text();try{j=JSON.parse(D),Array.isArray(j)&&v.status===404&&(C=[],j=null,T=200,M="OK")}catch{v.status===404&&D===""?(T=204,M="No Content"):j={message:D}}if(j&&this.isMaybeSingle&&(!((E=j==null?void 0:j.details)===null||E===void 0)&&E.includes("0 rows"))&&(j=null,T=200,M="OK"),j&&this.shouldThrowOnError)throw new s.default(j)}return{error:j,data:C,count:O,status:T,statusText:M}});return this.shouldThrowOnError||(g=g.catch(v=>{var y,_,E;return{error:{message:`${(y=v==null?void 0:v.name)!==null&&y!==void 0?y:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(_=v==null?void 0:v.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(E=v==null?void 0:v.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,f)}returns(){return this}overrideTypes(){return this}}return on.default=o,on}var hd;function qd(){if(hd)return sn;hd=1;var u=sn&&sn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sn,"__esModule",{value:!0});const n=u(Wd());class s extends n.default{select(a){let c=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:c=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const v=g?`${g}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${a}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,c,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(v,`${c-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:c=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:v="text"}={}){var y;const _=[a?"analyze":null,c?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${E}"; options=${_};`,v==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return sn.default=s,sn}var pd;function ea(){if(pd)return nn;pd=1;var u=nn&&nn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(nn,"__esModule",{value:!0});const n=u(qd());class s extends n.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${v}.${c}`),this}match(a){return Object.entries(a).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(a,c,f){return this.url.searchParams.append(a,`not.${c}.${f}`),this}or(a,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,c,f){return this.url.searchParams.append(a,`${c}.${f}`),this}}return nn.default=s,nn}var md;function Hd(){if(md)return rn;md=1;var u=rn&&rn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(rn,"__esModule",{value:!0});const n=u(ea());class s{constructor(a,{headers:c={},schema:f,fetch:p}){this.url=a,this.headers=c,this.schema=f,this.fetch=p}select(a,{head:c=!1,count:f}={}){const p=c?"HEAD":"GET";let g=!1;const v=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),f&&(this.headers.Prefer=`count=${f}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:c,defaultToNull:f=!0}={}){const p="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),c&&g.push(`count=${c}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const v=a.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(v.length>0){const y=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:c,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){const v="POST",y=[`resolution=${f?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&y.push(this.headers.Prefer),p&&y.push(`count=${p}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(a)){const _=a.reduce((E,j)=>E.concat(Object.keys(j)),[]);if(_.length>0){const E=[...new Set(_)].map(j=>`"${j}"`);this.url.searchParams.set("columns",E.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:c}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),this.headers.Prefer=p.join(","),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const c="DELETE",f=[];return a&&f.push(`count=${a}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return rn.default=s,rn}var ns={},ss={},gd;function Up(){return gd||(gd=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.version=void 0,ss.version="0.0.0-automated"),ss}var vd;function Dp(){if(vd)return ns;vd=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.DEFAULT_HEADERS=void 0;const u=Up();return ns.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${u.version}`},ns}var yd;function Mp(){if(yd)return tn;yd=1;var u=tn&&tn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(tn,"__esModule",{value:!0});const n=u(Hd()),s=u(ea()),o=Dp();class a{constructor(f,{headers:p={},schema:g,fetch:v}={}){this.url=f,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),p),this.schemaName=g,this.fetch=v}from(f){const p=new URL(`${this.url}/${f}`);return new n.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new a(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:g=!1,get:v=!1,count:y}={}){let _;const E=new URL(`${this.url}/rpc/${f}`);let j;g||v?(_=g?"HEAD":"GET",Object.entries(p).filter(([O,T])=>T!==void 0).map(([O,T])=>[O,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([O,T])=>{E.searchParams.append(O,T)})):(_="POST",j=p);const C=Object.assign({},this.headers);return y&&(C.Prefer=`count=${y}`),new s.default({method:_,url:E,headers:C,schema:this.schemaName,body:j,fetch:this.fetch,allowEmpty:!1})}}return tn.default=a,tn}var wd;function zp(){if(wd)return Fe;wd=1;var u=Fe&&Fe.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const n=u(Mp());Fe.PostgrestClient=n.default;const s=u(Hd());Fe.PostgrestQueryBuilder=s.default;const o=u(ea());Fe.PostgrestFilterBuilder=o.default;const a=u(qd());Fe.PostgrestTransformBuilder=a.default;const c=u(Wd());Fe.PostgrestBuilder=c.default;const f=u(Vd());return Fe.PostgrestError=f.default,Fe.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:c.default,PostgrestError:f.default},Fe}var Fp=zp();const Bp=Ud(Fp),{PostgrestClient:Vp,PostgrestQueryBuilder:Jg,PostgrestFilterBuilder:Yg,PostgrestTransformBuilder:Xg,PostgrestBuilder:Zg,PostgrestError:ev}=Bp;function Wp(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const qp=Wp(),Hp="2.11.15",Kp=`realtime-js/${Hp}`,Gp="1.0.0",Kd=1e4,Qp=1e3;var os;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(os||(os={}));var Je;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Je||(Je={}));var Et;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Et||(Et={}));var Fl;(function(u){u.websocket="websocket"})(Fl||(Fl={}));var Pr;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Pr||(Pr={}));class Jp{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const a=s.getUint8(1),c=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(n.slice(f,f+a));f=f+a;const g=o.decode(n.slice(f,f+c));f=f+c;const v=JSON.parse(o.decode(n.slice(f,n.byteLength)));return{ref:null,topic:p,event:g,payload:v}}}class Gd{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(ke||(ke={}));const _d=(u,n,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((c,f)=>(c[f]=Yp(f,u,n,a),c),{})},Yp=(u,n,s,o)=>{const a=n.find(p=>p.name===u),c=a==null?void 0:a.type,f=s[u];return c&&!o.includes(c)?Qd(c,f):Bl(f)},Qd=(u,n)=>{if(u.charAt(0)==="_"){const s=u.slice(1,u.length);return tm(n,s)}switch(u){case ke.bool:return Xp(n);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return Zp(n);case ke.json:case ke.jsonb:return em(n);case ke.timestamp:return rm(n);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Bl(n);default:return Bl(n)}},Bl=u=>u,Xp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},Zp=u=>{if(typeof u=="string"){const n=parseFloat(u);if(!Number.isNaN(n))return n}return u},em=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(n){return console.log(`JSON parse error: ${n}`),u}return u},tm=(u,n)=>{if(typeof u!="string")return u;const s=u.length-1,o=u[s];if(u[0]==="{"&&o==="}"){let c;const f=u.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>Qd(n,p))}return u},rm=u=>typeof u=="string"?u.replace(" ","T"):u,Jd=u=>{let n=u;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class Ol{constructor(n,s,o={},a=Kd){this.channel=n,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var xd;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(xd||(xd={}));class ls{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ls.syncState(this.state,a,c,f),this.pendingDiffs.forEach(g=>{this.state=ls.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ls.syncDiff(this.state,a,c,f),p())}),this.onJoin((a,c,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:f})}),this.onLeave((a,c,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,a){const c=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(c,(v,y)=>{f[v]||(g[v]=y)}),this.map(f,(v,y)=>{const _=c[v];if(_){const E=y.map(T=>T.presence_ref),j=_.map(T=>T.presence_ref),C=y.filter(T=>j.indexOf(T.presence_ref)<0),O=_.filter(T=>E.indexOf(T.presence_ref)<0);C.length>0&&(p[v]=C),O.length>0&&(g[v]=O)}else p[v]=y}),this.syncDiff(c,{joins:p,leaves:g},o,a)}static syncDiff(n,s,o,a){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(p,g)=>{var v;const y=(v=n[p])!==null&&v!==void 0?v:[];if(n[p]=this.cloneDeep(g),y.length>0){const _=n[p].map(j=>j.presence_ref),E=y.filter(j=>_.indexOf(j.presence_ref)<0);n[p].unshift(...E)}o(p,y,g)}),this.map(f,(p,g)=>{let v=n[p];if(!v)return;const y=g.map(_=>_.presence_ref);v=v.filter(_=>y.indexOf(_.presence_ref)<0),n[p]=v,a(p,v,g),v.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const a=n[o];return"metas"in a?s[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=a,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kd;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(kd||(kd={}));var Sd;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(Sd||(Sd={}));var Ft;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class ta{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ol(this,Et.join,this.params,this.timeout),this.rejoinTimer=new Gd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new ls(this),this.broadcastEndpointURL=Jd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:c,presence:f,private:p}}=this.params;this._onError(y=>n==null?void 0:n(Ft.CHANNEL_ERROR,y)),this._onClose(()=>n==null?void 0:n(Ft.CLOSED));const g={},v={broadcast:c,presence:f,postgres_changes:(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(y=>y.filter))!==null&&a!==void 0?a:[],private:p};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){n==null||n(Ft.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,j=(_=E==null?void 0:E.length)!==null&&_!==void 0?_:0,C=[];for(let O=0;O<j;O++){const T=E[O],{filter:{event:M,schema:G,table:D,filter:F}}=T,Q=y&&y[O];if(Q&&Q.event===M&&Q.schema===G&&Q.table===D&&Q.filter===F)C.push(Object.assign(Object.assign({},T),{id:Q.id}));else{this.unsubscribe(),this.state=Je.errored,n==null||n(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(Ft.SUBSCRIBED);return}}).receive("error",y=>{this.state=Je.errored,n==null||n(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this._on(n,s,o)}async send(n,s={}){var o,a;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=v.body)===null||a===void 0?void 0:a.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,g;const v=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Ol(this,Et.leave,{},n),o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,s,o){const a=new AbortController,c=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(c),f}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ol(this,n,s,o);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var a,c;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:v,join:y}=Et;if(o&&[p,g,v,y].indexOf(f)>=0&&o!==this._joinRef())return;let E=this._onMessage(f,s,o);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(j=>{var C,O,T;return((C=j.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(O=j.filter)===null||O===void 0?void 0:O.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===f}).map(j=>j.callback(E,o)):(c=this.bindings[f])===null||c===void 0||c.filter(j=>{var C,O,T,M,G,D;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const F=j.id,Q=(C=j.filter)===null||C===void 0?void 0:C.event;return F&&((O=s.ids)===null||O===void 0?void 0:O.includes(F))&&(Q==="*"||(Q==null?void 0:Q.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const F=(G=(M=j==null?void 0:j.filter)===null||M===void 0?void 0:M.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return F==="*"||F===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof E=="object"&&"ids"in E){const C=E.data,{schema:O,table:T,commit_timestamp:M,type:G,errors:D}=C;E=Object.assign(Object.assign({},{schema:O,table:T,commit_timestamp:M,eventType:G,new:{},old:{},errors:D}),this._getPayloadRecords(C))}j.callback(E,o)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const a=n.toLocaleLowerCase(),c={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&ta.isEqual(a.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Et.close,{},n)}_onError(n){this._on(Et.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=_d(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=_d(n.columns,n.old_record)),s}}const jd=()=>{},nm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sm{constructor(n,s){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kd,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jd,this.ref=0,this.logger=jd,this.conn=null,this.sendBuffer=[],this.serializer=new Jp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...p)=>cs(async()=>{const{default:g}=await Promise.resolve().then(()=>mn);return{default:g}},void 0).then(({default:g})=>g(...p)):f=fetch,(...p)=>f(...p)},this.endPoint=`${n}/${Fl.websocket}`,this.httpEndpoint=Jd(n),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const a=(o=s==null?void 0:s.params)===null||o===void 0?void 0:o.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,f)=>f(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Gd(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=qp),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gp}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(o=>o.teardown()))}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return Pr.Connecting;case os.open:return Pr.Open;case os.closing:return Pr.Closing;default:return Pr.Closed}}isConnected(){return this.connectionState()===Pr.Open}channel(n,s={config:{}}){const o=`realtime:${n}`,a=this.getChannels().find(c=>c.topic===o);if(a)return a;{const c=new ta(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:o,payload:a,ref:c}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${o} (${c})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const a={access_token:s,version:Kp};s&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Et.access_token,{access_token:s})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(Qp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:o,event:a,payload:c,ref:f}=s;o==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${o} ${a} ${f&&"("+f+")"||""}`,c),Array.from(this.channels).filter(p=>p._isMember(o)).forEach(p=>p._trigger(a,c,f)),this.stateChangeCallbacks.message.forEach(p=>p(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Et.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${n}${o}${a}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([nm],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}}class ra extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Be(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class im extends ra{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vl extends ra{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var om=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(y){try{v(o.next(y))}catch(_){f(_)}}function g(y){try{v(o.throw(y))}catch(_){f(_)}}function v(y){y.done?c(y.value):a(y.value).then(p,g)}v((o=o.apply(u,n||[])).next())})};const Yd=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>mn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},lm=()=>om(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>mn),void 0)).Response:Response}),Wl=u=>{if(Array.isArray(u))return u.map(s=>Wl(s));if(typeof u=="function"||u!==Object(u))return u;const n={};return Object.entries(u).forEach(([s,o])=>{const a=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[a]=Wl(o)}),n},am=u=>{if(typeof u!="object"||u===null)return!1;const n=Object.getPrototypeOf(u);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var Nr=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(y){try{v(o.next(y))}catch(_){f(_)}}function g(y){try{v(o.throw(y))}catch(_){f(_)}}function v(y){y.done?c(y.value):a(y.value).then(p,g)}v((o=o.apply(u,n||[])).next())})};const Al=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),um=(u,n,s)=>Nr(void 0,void 0,void 0,function*(){const o=yield lm();u instanceof o&&!(s!=null&&s.noResolveJson)?u.json().then(a=>{const c=u.status||500,f=(a==null?void 0:a.statusCode)||c+"";n(new im(Al(a),c,f))}).catch(a=>{n(new Vl(Al(a),a))}):n(new Vl(Al(u),u))}),cm=(u,n,s,o)=>{const a={method:u,headers:(n==null?void 0:n.headers)||{}};return u==="GET"||!o?a:(am(o)?(a.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),a.body=JSON.stringify(o)):a.body=o,Object.assign(Object.assign({},a),s))};function ds(u,n,s,o,a,c){return Nr(this,void 0,void 0,function*(){return new Promise((f,p)=>{u(s,cm(n,o,a,c)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>um(g,p,o))})})}function Pi(u,n,s,o){return Nr(this,void 0,void 0,function*(){return ds(u,"GET",n,s,o)})}function Bt(u,n,s,o,a){return Nr(this,void 0,void 0,function*(){return ds(u,"POST",n,o,a,s)})}function ql(u,n,s,o,a){return Nr(this,void 0,void 0,function*(){return ds(u,"PUT",n,o,a,s)})}function dm(u,n,s,o){return Nr(this,void 0,void 0,function*(){return ds(u,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function Xd(u,n,s,o,a){return Nr(this,void 0,void 0,function*(){return ds(u,"DELETE",n,o,a,s)})}var it=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(y){try{v(o.next(y))}catch(_){f(_)}}function g(y){try{v(o.throw(y))}catch(_){f(_)}}function v(y){y.done?c(y.value):a(y.value).then(p,g)}v((o=o.apply(u,n||[])).next())})};const fm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hm{constructor(n,s={},o,a){this.url=n,this.headers=s,this.bucketId=o,this.fetch=Yd(a)}uploadOrUpdate(n,s,o,a){return it(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},bd),a);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(p=Object.assign(Object.assign({},p),a.headers));const v=this._removeEmptyFolders(s),y=this._getFinalPath(v),_=yield(n=="PUT"?ql:Bt)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(Be(c))return{data:null,error:c};throw c}})}upload(n,s,o){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,a){return it(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const v=Object.assign({upsert:bd.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",v.cacheControl)):(g=o,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const _=yield ql(this.fetch,p.toString(),g,{headers:y});return{data:{path:c,fullPath:_.Key},error:null}}catch(g){if(Be(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return it(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const a=Object.assign({},this.headers);s!=null&&s.upsert&&(a["x-upsert"]="true");const c=yield Bt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+c.url),p=f.searchParams.get("token");if(!p)throw new ra("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}update(n,s,o){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return it(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}copy(n,s,o){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}createSignedUrl(n,s,o){return it(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),c=yield Bt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}createSignedUrls(n,s,o){return it(this,void 0,void 0,function*(){try{const a=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}download(n,s){return it(this,void 0,void 0,function*(){const a=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=c?`?${c}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield Pi(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Be(p))return{data:null,error:p};throw p}})}info(n){return it(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Pi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wl(o),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}exists(n){return it(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield dm(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Be(o)&&o instanceof Vl){const a=o.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),a=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&a.push(c);const p=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&a.push(g);let v=a.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${v}`)}}}remove(n){return it(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}list(n,s,o){return it(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},fm),s),{prefix:n||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const pm="2.10.4",mm={"X-Client-Info":`storage-js/${pm}`};var ln=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(y){try{v(o.next(y))}catch(_){f(_)}}function g(y){try{v(o.throw(y))}catch(_){f(_)}}function v(y){y.done?c(y.value):a(y.value).then(p,g)}v((o=o.apply(u,n||[])).next())})};class gm{constructor(n,s={},o,a){const c=new URL(n);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},mm),s),this.fetch=Yd(o)}listBuckets(){return ln(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}getBucket(n){return ln(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return ln(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return ln(this,void 0,void 0,function*(){try{return{data:yield ql(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}emptyBucket(n){return ln(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ln(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}}class vm extends gm{constructor(n,s={},o,a){super(n,s,o,a)}from(n){return new hm(this.url,this.headers,n,this.fetch)}}const ym="2.53.0";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const wm={"X-Client-Info":`supabase-js-${is}/${ym}`},_m={headers:wm},xm={schema:"public"},km={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sm={};var jm=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(y){try{v(o.next(y))}catch(_){f(_)}}function g(y){try{v(o.throw(y))}catch(_){f(_)}}function v(y){y.done?c(y.value):a(y.value).then(p,g)}v((o=o.apply(u,n||[])).next())})};const bm=u=>{let n;return u?n=u:typeof fetch>"u"?n=Fd:n=fetch,(...s)=>n(...s)},Em=()=>typeof Headers>"u"?Bd:Headers,Cm=(u,n,s)=>{const o=bm(s),a=Em();return(c,f)=>jm(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:u;let v=new a(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",u),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),o(c,Object.assign(Object.assign({},f),{headers:v}))})};var Pm=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(y){try{v(o.next(y))}catch(_){f(_)}}function g(y){try{v(o.throw(y))}catch(_){f(_)}}function v(y){y.done?c(y.value):a(y.value).then(p,g)}v((o=o.apply(u,n||[])).next())})};function Nm(u){return u.endsWith("/")?u:u+"/"}function Tm(u,n){var s,o;const{db:a,auth:c,realtime:f,global:p}=u,{db:g,auth:v,realtime:y,global:_}=n,E={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},v),c),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},_),p),{headers:Object.assign(Object.assign({},(s=_==null?void 0:_.headers)!==null&&s!==void 0?s:{}),(o=p==null?void 0:p.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Pm(this,void 0,void 0,function*(){return""})};return u.accessToken?E.accessToken=u.accessToken:delete E.accessToken,E}const Zd="2.71.1",fn=30*1e3,Hl=3,Ll=Hl*fn,Rm="http://localhost:9999",Om="supabase.auth.token",Am={"X-Client-Info":`gotrue-js/${Zd}`},Kl="X-Supabase-Api-Version",ef={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Im=10*60*1e3;class na extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function le(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class $m extends na{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Um(u){return le(u)&&u.name==="AuthApiError"}class tf extends na{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class dr extends na{constructor(n,s,o,a){super(n,o,a),this.name=s,this.status=o}}class ur extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dm(u){return le(u)&&u.name==="AuthSessionMissingError"}class ji extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bi extends dr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ei extends dr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mm(u){return le(u)&&u.name==="AuthImplicitGrantRedirectError"}class Ed extends dr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gl extends dr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Il(u){return le(u)&&u.name==="AuthRetryableFetchError"}class Cd extends dr{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Ql extends dr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pd=` 	
\r=`.split(""),zm=(()=>{const u=new Array(128);for(let n=0;n<u.length;n+=1)u[n]=-1;for(let n=0;n<Pd.length;n+=1)u[Pd[n].charCodeAt(0)]=-2;for(let n=0;n<Ni.length;n+=1)u[Ni[n].charCodeAt(0)]=n;return u})();function Nd(u,n,s){if(u!==null)for(n.queue=n.queue<<8|u,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Ni[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Ni[o]),n.queuedBits-=6}}function rf(u,n,s){const o=zm[u];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Td(u){const n=[],s=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=f=>{Vm(f,o,s)};for(let f=0;f<u.length;f+=1)rf(u.charCodeAt(f),a,c);return n.join("")}function Fm(u,n){if(u<=127){n(u);return}else if(u<=2047){n(192|u>>6),n(128|u&63);return}else if(u<=65535){n(224|u>>12),n(128|u>>6&63),n(128|u&63);return}else if(u<=1114111){n(240|u>>18),n(128|u>>12&63),n(128|u>>6&63),n(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function Bm(u,n){for(let s=0;s<u.length;s+=1){let o=u.charCodeAt(s);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Fm(o,n)}}function Vm(u,n,s){if(n.utf8seq===0){if(u<=127){s(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=u&31;else if(n.utf8seq===3)n.codepoint=u&15;else if(n.utf8seq===4)n.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|u&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Wm(u){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};for(let a=0;a<u.length;a+=1)rf(u.charCodeAt(a),s,o);return new Uint8Array(n)}function qm(u){const n=[];return Bm(u,s=>n.push(s)),new Uint8Array(n)}function Hm(u){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};return u.forEach(a=>Nd(a,s,o)),Nd(null,s,o),n.join("")}function Km(u){return Math.round(Date.now()/1e3)+u}function Gm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const n=Math.random()*16|0;return(u=="x"?n:n&3|8).toString(16)})}const bt=()=>typeof window<"u"&&typeof document<"u",br={tested:!1,writable:!1},nf=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(br.tested)return br.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),br.tested=!0,br.writable=!0}catch{br.tested=!0,br.writable=!1}return br.writable};function Qm(u){const n={},s=new URL(u);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,c)=>{n[c]=a})}catch{}return s.searchParams.forEach((o,a)=>{n[a]=o}),n}const sf=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>cs(async()=>{const{default:o}=await Promise.resolve().then(()=>mn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Jm=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",hn=async(u,n,s)=>{await u.setItem(n,JSON.stringify(s))},Er=async(u,n)=>{const s=await u.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ar=async(u,n)=>{await u.removeItem(n)};class Ri{constructor(){this.promise=new Ri.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}Ri.promiseConstructor=Promise;function $l(u){const n=u.split(".");if(n.length!==3)throw new Ql("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!Lm.test(n[o]))throw new Ql("JWT not in base64url format");return{header:JSON.parse(Td(n[0])),payload:JSON.parse(Td(n[1])),signature:Wm(n[2]),raw:{header:n[0],payload:n[1]}}}async function Ym(u){return await new Promise(n=>{setTimeout(()=>n(null),u)})}function Xm(u,n){return new Promise((o,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await u(c);if(!n(c,null,f)){o(f);return}}catch(f){if(!n(c,f)){a(f);return}}})()})}function Zm(u){return("0"+u.toString(16)).substr(-2)}function eg(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let c=0;c<56;c++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(n),Array.from(n,Zm).join("")}async function tg(u){const s=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function rg(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const s=await tg(u);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function an(u,n,s=!1){const o=eg();let a=o;s&&(a+="/PASSWORD_RECOVERY"),await hn(u,`${n}-code-verifier`,a);const c=await rg(o);return[c,o===c?"plain":"s256"]}const ng=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sg(u){const n=u.headers.get(Kl);if(!n||!n.match(ng))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function ig(u){if(!u)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(u<=n)throw new Error("JWT has expired")}function og(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function un(u){if(!lg.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ul(){const u={};return new Proxy(u,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rd(u){return JSON.parse(JSON.stringify(u))}var ag=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};const Cr=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),ug=[502,503,504];async function Od(u){var n;if(!Jm(u))throw new Gl(Cr(u),0);if(ug.includes(u.status))throw new Gl(Cr(u),u.status);let s;try{s=await u.json()}catch(c){throw new tf(Cr(c),c)}let o;const a=sg(u);if(a&&a.getTime()>=ef["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Cd(Cr(s),u.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new ur}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Cd(Cr(s),u.status,s.weak_password.reasons);throw new $m(Cr(s),u.status||500,o)}const cg=(u,n,s,o)=>{const a={method:u,headers:(n==null?void 0:n.headers)||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function de(u,n,s,o){var a;const c=Object.assign({},o==null?void 0:o.headers);c[Kl]||(c[Kl]=ef["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const f=(a=o==null?void 0:o.query)!==null&&a!==void 0?a:{};o!=null&&o.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await dg(u,n,s+p,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function dg(u,n,s,o,a,c){const f=cg(n,o,a,c);let p;try{p=await u(s,Object.assign({},f))}catch(g){throw console.error(g),new Gl(Cr(g),0)}if(p.ok||await Od(p),o!=null&&o.noResolveJson)return p;try{return await p.json()}catch(g){await Od(g)}}function zt(u){var n;let s=null;mg(u)&&(s=Object.assign({},u),u.expires_at||(s.expires_at=Km(u.expires_in)));const o=(n=u.user)!==null&&n!==void 0?n:u;return{data:{session:s,user:o},error:null}}function Ad(u){const n=zt(u);return!n.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=u.weak_password),n}function cr(u){var n;return{data:{user:(n=u.user)!==null&&n!==void 0?n:u},error:null}}function fg(u){return{data:u,error:null}}function hg(u){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c}=u,f=ag(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function pg(u){return u}function mg(u){return u.access_token&&u.refresh_token&&u.expires_in}const Dl=["global","local","others"];var gg=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};class vg{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=sf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=Dl[0]){if(Dl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dl.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:cr})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=gg(n,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o==null?void 0:o.newEmail,delete a.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:hg,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(le(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:cr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,a,c,f,p,g;try{const v={nextPage:null,lastPage:0,total:0},y=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=n==null?void 0:n.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:pg});if(y.error)throw y.error;const _=await y.json(),E=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(g=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(C=>{const O=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);v[`${T}Page`]=O}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(le(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){un(n);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:cr})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){un(n);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:cr})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){un(n);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:cr})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){un(n.userId);try{const{data:s,error:o}=await de(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(le(s))return{data:null,error:s};throw s}}async _deleteFactor(n){un(n.userId),un(n.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}}function Ld(u={}){return{getItem:n=>u[n]||null,setItem:(n,s)=>{u[n]=s},removeItem:n=>{delete u[n]}}}function yg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cn={debug:!!(globalThis&&nf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class of extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class wg extends of{}async function _g(u,n,s){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await s()}finally{cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(n===0)throw cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new wg(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(cn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}yg();const xg={url:Rm,storageKey:Om,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Am,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Id(u,n,s){return await s()}const dn={};class us{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},xg),n);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new vg({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=sf(a.fetch),this.lock=a.lock||Id,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:bt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=_g:this.lock=Id,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:nf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ld(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ld(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=dn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=dn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zd}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=Qm(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),bt()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Mm(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return le(s)?{error:s}:{error:new tf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,a;try{const c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=n==null?void 0:n.options)===null||a===void 0?void 0:a.captchaToken}},xform:zt}),{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(c){if(le(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,o,a;try{let c;if("email"in n){const{email:y,password:_,options:E}=n;let j=null,C=null;this.flowType==="pkce"&&([j,C]=await an(this.storage,this.storageKey)),c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:_,data:(s=E==null?void 0:E.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:j,code_challenge_method:C},xform:zt})}else if("phone"in n){const{phone:y,password:_,options:E}=n;c=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(o=E==null?void 0:E.data)!==null&&o!==void 0?o:{},channel:(a=E==null?void 0:E.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:zt})}else throw new bi("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(c){if(le(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:p}=n;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ad})}else if("phone"in n){const{phone:c,password:f,options:p}=n;s=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Ad})}else throw new bi("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ji}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,a,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=n.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,a,c,f,p,g,v,y,_,E,j;let C,O;if("message"in n)C=n.message,O=n.signature;else{const{chain:T,wallet:M,statement:G,options:D}=n;let F;if(bt())if(typeof M=="object")F=M;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))F=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=M}const Q=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in F&&F.signIn){const H=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),G?{statement:G}:null));let Z;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")Z=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)Z=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)C=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),O=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${Q.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(a=(o=D==null?void 0:D.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((v=D==null?void 0:D.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((_=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...D.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const H=await F.signMessage(new TextEncoder().encode(C),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=H}}try{const{data:T,error:M}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Hm(O)},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:zt});if(M)throw M;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new ji}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:M})}catch(T){if(le(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(n){const s=await Er(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/");try{const{data:c,error:f}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:zt});if(await ar(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ji}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:f})}catch(c){if(le(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:o,token:a,access_token:c,nonce:f}=n,p=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:zt}),{data:g,error:v}=p;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ji}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:v})}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,a,c,f;try{if("email"in n){const{email:p,options:g}=n;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await an(this.storage,this.storageKey));const{error:_}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:p,options:g}=n,{data:v,error:y}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y}}throw new bi("You must provide either an email or phone number.")}catch(p){if(le(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,o;try{let a,c;"options"in n&&(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:zt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,v=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(a){if(le(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(n){var s,o,a;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await an(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=n==null?void 0:n.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:fg})}catch(c){if(le(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new ur;const{error:a}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:a,options:c}=n,{error:f}=await de(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:o,type:a,options:c}=n,{data:f,error:p}=await de(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new bi("You must provide either an email or phone number and a type")}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Ll:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await Er(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=Ul()}if(this.storage.isServer&&n.user){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,v,y)=>(!f&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,v,y))})}return{data:{session:n},error:null}}const{session:a,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:cr}):await this._useSession(async s=>{var o,a,c;const{data:f,error:p}=s;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:cr})})}catch(s){if(le(s))return Dm(s)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:a,error:c}=o;if(c)throw c;if(!a.session)throw new ur;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await an(this.storage,this.storageKey));const{data:v,error:y}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:cr});if(y)throw y;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(le(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new ur;const s=Date.now()/1e3;let o=s,a=!0,c=null;const{payload:f}=$l(n.access_token);if(f.exp&&(o=f.exp,a=o<=s),a){const{session:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(le(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!(n!=null&&n.refresh_token))throw new ur;const{session:a,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(le(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!bt())throw new Ei("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ei(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ed("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ei("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Ed("No code detected.");const{data:G,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:c,refresh_token:f,expires_in:p,expires_at:g,token_type:v}=n;if(!c||!p||!f||!v)throw new Ei("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(p);let E=y+_;g&&(E=parseInt(g));const j=E-y;j*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${_}s`);const C=E-_;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,E,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,E,y);const{data:O,error:T}=await this._getUser(c);if(T)throw T;const M={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:_,expires_at:E,refresh_token:f,token_type:v,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:n.type},error:null}}catch(o){if(le(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Er(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return{error:c};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Um(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=Gm(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,a;try{const{data:{session:c},error:f}=s;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await an(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(le(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:a}=await this._useSession(async c=>{var f,p,g,v,y;const{data:_,error:E}=c;if(E)throw E;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return bt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:n.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(le(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,a;const{data:c,error:f}=s;if(f)throw f;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Xm(async a=>(a>0&&await Ym(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:zt})),(a,c)=>{const f=200*Math.pow(2,a);return c&&Il(c)&&Date.now()+f-o<fn})}catch(o){if(this._debug(s,"error",o),le(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),bt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Er(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await hn(this.userStorage,this.storageKey+"-user",f)),a.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:Ul()}else if(a&&!a.user&&!a.user){const f=await Er(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(a.user=f.user,await ar(this.storage,this.storageKey+"-user"),await hn(this.storage,this.storageKey,a)):a.user=Ul()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const c=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ll;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Ll}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Il(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&(f!=null&&f.user)?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ri;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new ur;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={session:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(a,"error",c),le(c)){const f={session:null,error:c};return Il(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(n,s,o=!0){const a=`#_notifyAllSubscribers(${n})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await hn(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const c=Rd(a);await hn(this.storage,this.storageKey,c)}else{const a=Rd(s);await hn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-n)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${fn}ms, refresh threshold is ${Hl} ticks`),a<=Hl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof of)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,f]=await an(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);a.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${a.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;return c?{data:null,error:c}:await de(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,a;const{data:c,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:g,error:v}=await de(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return v?{data:null,error:v}:(n.factorType==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(le(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return{data:null,error:c};const{data:f,error:p}=await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(le(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;return c?{data:null,error:c}:await de(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=a==null?void 0:a.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(le(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=(n==null?void 0:n.factors)||[],a=o.filter(f=>f.factor_type==="totp"&&f.status==="verified"),c=o.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:o,totp:a,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:a},error:c}=n;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=$l(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(p=>p.kid===n);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===n),o&&this.jwks_cached_at+Im>a)return o;const{data:c,error:f}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,o=c.keys.find(p=>p.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:j,error:C}=await this.getSession();if(C||!j.session)return{data:null,error:C};o=j.session.access_token}const{header:a,payload:c,signature:f,raw:{header:p,payload:g}}=$l(o);s!=null&&s.allowExpired||ig(c.exp);const v=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:j}=await this.getUser(o);if(j)throw j;return{data:{claims:c,header:a,signature:f},error:null}}const y=og(a.alg),_=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,f,qm(`${p}.${g}`)))throw new Ql("Invalid JWT signature");return{data:{claims:c,header:a,signature:f},error:null}}catch(o){if(le(o))return{data:null,error:o};throw o}}}us.nextInstanceID=0;const kg=us;class Sg extends kg{constructor(n){super(n)}}var jg=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(y){try{v(o.next(y))}catch(_){f(_)}}function g(y){try{v(o.throw(y))}catch(_){f(_)}}function v(y){y.done?c(y.value):a(y.value).then(p,g)}v((o=o.apply(u,n||[])).next())})};class bg{constructor(n,s,o){var a,c,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=Nm(n),g=new URL(p);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:xm,realtime:Sm,auth:Object.assign(Object.assign({},km),{storageKey:v}),global:_m},_=Tm(o??{},y);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=_.global.headers)!==null&&c!==void 0?c:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(E,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=_.auth)!==null&&f!==void 0?f:{},this.headers,_.global.fetch),this.fetch=Cm(s,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new Vp(new URL("rest/v1",g).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new vm(this.storageUrl.href,this.headers,this.fetch,o==null?void 0:o.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new Rp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return jg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,storageKey:c,flowType:f,lock:p,debug:g},v,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sg({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),v),storageKey:c,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,flowType:f,lock:p,debug:g,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new sm(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Eg=(u,n,s)=>new bg(u,n,s);function Cg(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const u=process.version.match(/^v(\d+)\./);return u?parseInt(u[1],10)<=18:!1}Cg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Pg="https://bjtjobxqqnngvponbuek.supabase.co",Ng="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJqdGpvYnhxcW5uZ3Zwb25idWVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM1MTU3NzgsImV4cCI6MjA2OTA5MTc3OH0.YNv7FmzZ2S02_fy8t7VggUEz6vR7jcgpzSDb45i1Um4",ye=Eg(Pg,Ng),lf=z.createContext(void 0);function Tg({children:u}){const[n,s]=z.useState(null),[o,a]=z.useState(!0);z.useEffect(()=>{async function g(){a(!0);try{const{data:{user:y}}=await ye.auth.getUser();s(y)}catch(y){console.error("Error loading user:",y)}finally{a(!1)}}g();const{data:{subscription:v}}=ye.auth.onAuthStateChange((y,_)=>{s((_==null?void 0:_.user)||null)});return()=>v.unsubscribe()},[]);const c=async(g,v)=>{const{error:y}=await ye.auth.signInWithPassword({email:g,password:v});return{error:y}},f=async(g,v,y)=>{const{data:_,error:E}=await ye.auth.signUp({email:g,password:v,options:{data:{full_name:y}}});return{error:E}},p=async()=>{await ye.auth.signOut()};return m.jsx(lf.Provider,{value:{user:n,loading:o,signIn:c,signUp:f,signOut:p},children:u})}function gn(){const u=z.useContext(lf);if(u===void 0)throw new Error("useAuth must be used within an AuthProvider");return u}function Oi({isOpen:u,onClose:n}){const[s,o]=z.useState(!1),[a,c]=z.useState(""),[f,p]=z.useState(""),[g,v]=z.useState(""),[y,_]=z.useState(!1),[E,j]=z.useState(""),{signIn:C,signUp:O}=gn();if(z.useEffect(()=>{u&&(o(!1),c(""),p(""),v(""),j(""))},[u]),!u)return null;const T=async M=>{M.preventDefault(),_(!0),j("");try{let G;if(s){if(!g.trim()){j("Name or alias is required");return}G=await O(a,f,g)}else G=await C(a,f);G.error?j(G.error.message):(n(),c(""),p(""),v(""),j(""))}catch{j("An unexpected error occurred")}finally{_(!1)}};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:n,children:m.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",onClick:M=>M.stopPropagation(),children:[m.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx(Xl,{className:"w-5 h-5"})}),m.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[m.jsx("button",{type:"button",onClick:()=>{o(!1),j("")},className:`flex-1 py-3 px-4 text-center font-medium text-sm transition-colors ${s?"text-gray-500 hover:text-gray-700":"text-purple-600 border-b-2 border-purple-600"}`,children:"Sign In"}),m.jsx("button",{type:"button",onClick:()=>{o(!0),j("")},className:`flex-1 py-3 px-4 text-center font-medium text-sm transition-colors ${s?"text-purple-600 border-b-2 border-purple-600":"text-gray-500 hover:text-gray-700"}`,children:"Sign Up"})]}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s?"Create Your Account":"Welcome Back"}),m.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name or Alias"}),m.jsx("input",{type:"text",id:"displayName",value:g,onChange:M=>v(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your name or preferred alias",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),m.jsx("input",{type:"email",id:"email",value:a,onChange:M=>c(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),m.jsx("input",{type:"password",id:"password",value:f,onChange:M=>p(M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Enter your password",required:!0,minLength:6})]}),E&&m.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:E}),m.jsx("button",{type:"submit",disabled:y,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:y?"Please wait...":s?"Create Account":"Sign In"})]})]})})}function Jl({isOpen:u,onClose:n,title:s,children:o}){return z.useEffect(()=>{const a=c=>{c.key==="Escape"&&n()};return u&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[u,n]),u?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:m.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl",onClick:a=>a.stopPropagation(),children:[m.jsxs("div",{className:"bg-purple-600 text-white px-6 py-4 rounded-t-lg flex items-center justify-between",children:[m.jsx("h2",{id:"modal-title",className:"text-xl font-bold",children:s}),m.jsx("button",{onClick:n,className:"text-white hover:text-purple-200 transition-colors p-1","aria-label":"Close dialog",children:m.jsx(Xl,{className:"w-5 h-5"})})]}),m.jsx("div",{className:"px-6 py-6",children:o})]})}):null}function Rg({isOpen:u,onClose:n}){return m.jsx(Jl,{isOpen:u,onClose:n,title:"ThirtyVoice - Quality Voice Insights",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Our Mission"}),m.jsx("blockquote",{className:"text-lg text-purple-600 font-medium italic mb-4 border-l-4 border-purple-600 pl-4",children:'"Forget attention, focus on value"'}),m.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We believe in authentic human thoughts shared in 30 seconds. No bots, no ads, no BS."}),m.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"Your voice matters. No perfection, no polish required. Just authentic insights that create real value for our community."})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Features"}),m.jsxs("ul",{className:"space-y-2 text-gray-700",children:[m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"text-purple-600 mr-2",children:""}),"Share authentic voice insights in 30 seconds"]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"text-purple-600 mr-2",children:""}),"Discover valuable perspectives from real people"]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"text-purple-600 mr-2",children:""}),"React and engage with meaningful content"]}),m.jsxs("li",{className:"flex items-start",children:[m.jsx("span",{className:"text-purple-600 mr-2",children:""}),"Build a community focused on substance over attention"]})]})]}),m.jsx("div",{className:"pt-4 border-t border-gray-200",children:m.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Join our community of authentic voices sharing real insights."})})]})})}function Og({isOpen:u,onClose:n}){const[s,o]=z.useState({name:"",email:"",feedbackType:"general",message:""}),[a,c]=z.useState(!1),[f,p]=z.useState(!1),[g,v]=z.useState(""),y=E=>{const{name:j,value:C}=E.target;o(O=>({...O,[j]:C}))},_=async E=>{E.preventDefault(),c(!0),v("");try{const{data:j,error:C}=await ye.functions.invoke("submit-feedback",{body:{name:s.name,email:s.email,feedbackType:s.feedbackType,message:s.message}});if(console.log("Edge function response:",{data:j,error:C}),C)throw console.error("Edge function returned error:",C),new Error(C.message||"Failed to submit feedback");if(j&&j.error)throw console.error("Backend returned error:",j.error),new Error(j.error.message||"Failed to submit feedback");if(!j||!j.success)throw console.error("Unexpected response format:",j),new Error("Unexpected response from server");console.log("Feedback submitted successfully:",j),p(!0),setTimeout(()=>{p(!1),o({name:"",email:"",feedbackType:"general",message:""}),n()},3e3)}catch(j){console.error("Feedback submission error:",j),v(j.message||"Failed to submit feedback. Please try again.")}finally{c(!1)}};return f?m.jsx(Jl,{isOpen:u,onClose:n,title:"Thank You!",children:m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-white text-lg",children:""})})}),m.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Feedback Submitted Successfully!"}),m.jsx("p",{className:"text-gray-600",children:"We appreciate your input and will review it shortly."})]})}):m.jsx(Jl,{isOpen:u,onClose:n,title:"We'd Love Your Feedback",children:m.jsxs("div",{className:"space-y-6",children:[m.jsx("p",{className:"text-gray-700",children:"Your thoughts help us improve ThirtyVoice for everyone."}),m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),m.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Your name"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),m.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:y,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"your.email@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"feedbackType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Feedback Type"}),m.jsxs("select",{id:"feedbackType",name:"feedbackType",value:s.feedbackType,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",children:[m.jsx("option",{value:"general",children:"General Feedback"}),m.jsx("option",{value:"bug",children:"Bug Report"}),m.jsx("option",{value:"feature",children:"Feature Request"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),m.jsx("textarea",{id:"message",name:"message",value:s.message,onChange:y,required:!0,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Tell us what's on your mind..."})]}),g&&m.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:g}),m.jsx("button",{type:"submit",disabled:a,className:"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors font-medium",children:a?"Submitting...":"Submit Feedback"})]}),m.jsx("div",{className:"pt-4 border-t border-gray-200",children:m.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Or reach us directly at: ",m.jsx("a",{href:"mailto:feedback@thirtyvoice.com",className:"text-purple-600 hover:text-purple-700",children:"feedback@thirtyvoice.com"})]})})]})})}function Ag({}){var E,j;const{user:u,signOut:n}=gn(),[s,o]=z.useState(!1),[a,c]=z.useState(!1),[f,p]=z.useState(!1),[g,v]=z.useState(!1),y=()=>{o(!0)},_=C=>C?C.split(" ").map(O=>O.charAt(0)).join("").toUpperCase().slice(0,2):"U";return m.jsxs(m.Fragment,{children:[m.jsx("header",{className:"bg-purple-600 text-white py-4 px-6",children:m.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center",children:m.jsx("h1",{className:"text-xl font-semibold",children:"ThirtyVoice"})}),m.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[m.jsx("button",{onClick:()=>p(!0),className:"text-white hover:text-purple-200 transition-colors",children:"About"}),m.jsx("button",{onClick:()=>v(!0),className:"text-white hover:text-purple-200 transition-colors",children:"Feedback"}),u?m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>c(!a),className:"flex items-center gap-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-3 py-2 rounded-lg transition-colors",children:[m.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-sm font-semibold",children:_((E=u.user_metadata)==null?void 0:E.full_name)}),m.jsx(Dd,{className:"w-4 h-4"})]}),a&&m.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10",children:[m.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[m.jsx("p",{className:"font-medium text-gray-900",children:((j=u.user_metadata)==null?void 0:j.full_name)||"User"}),m.jsx("p",{className:"text-sm text-gray-500",children:u.email})]}),m.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[m.jsx(bp,{className:"w-4 h-4"}),"My Profile"]}),m.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[m.jsx(kp,{className:"w-4 h-4"}),"Saved Notes"]}),m.jsx("hr",{className:"my-2"}),m.jsxs("button",{onClick:()=>{n(),c(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-gray-700 flex items-center gap-2",children:[m.jsx(Sp,{className:"w-4 h-4"}),"Sign Out"]})]})]}):m.jsx("button",{onClick:y,className:"bg-white text-purple-600 px-4 py-2 rounded-md font-medium hover:bg-purple-50 transition-colors",children:"Sign In"})]}),m.jsx("button",{className:"md:hidden text-white",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),m.jsx(Oi,{isOpen:s,onClose:()=>o(!1)}),m.jsx(Rg,{isOpen:f,onClose:()=>p(!1)}),m.jsx(Og,{isOpen:g,onClose:()=>v(!1)})]})}function Lg({isOpen:u,onClose:n,onSuccess:s}){const[o,a]=z.useState("choose"),[c,f]=z.useState(!1),[p,g]=z.useState(null),[v,y]=z.useState(null),[_,E]=z.useState(""),[j,C]=z.useState(""),[O,T]=z.useState(""),[M,G]=z.useState(!1),[D,F]=z.useState(""),[Q,H]=z.useState(!1),Z=z.useRef(null),X=z.useRef(null),ee=z.useRef(null);if(!u)return null;const se=async()=>{try{const ie=await navigator.mediaDevices.getUserMedia({audio:!0}),$=new MediaRecorder(ie);Z.current=$;const Y=[];$.ondataavailable=B=>{Y.push(B.data)},$.onstop=()=>{const B=new Blob(Y,{type:"audio/webm"});g(B),ie.getTracks().forEach(S=>S.stop())},$.start(),f(!0)}catch{F("Could not access microphone. Please check permissions.")}},ue=()=>{Z.current&&c&&(Z.current.stop(),f(!1))},we=()=>{if(p&&!Q){const ie=URL.createObjectURL(p);X.current=new Audio(ie),X.current.play(),H(!0),X.current.onended=()=>{H(!1),URL.revokeObjectURL(ie)}}else X.current&&Q&&(X.current.pause(),H(!1))},Pe=ie=>{var Y;const $=(Y=ie.target.files)==null?void 0:Y[0];$&&(["audio/mp3","audio/wav","audio/webm","audio/m4a","audio/mpeg"].includes($.type)||$.name.toLowerCase().match(/\.(mp3|wav|webm|m4a)$/)?(y($),F("")):F("Please upload a valid audio file (MP3, WAV, WebM, or M4A)"))},Se=async()=>{if(!_.trim()||!j.trim()){F("Title and description are required");return}const ie=p||v;if(!ie){F("Please record or upload an audio file");return}G(!0),F("");try{const $=new FileReader;$.readAsDataURL(ie),$.onload=async()=>{const Y=$.result,B=(v==null?void 0:v.name)||`recording-${Date.now()}.webm`,S=O.split(",").map(ae=>ae.trim()).filter(ae=>ae.length>0),{data:A,error:oe}=await ye.functions.invoke("upload-voice-note",{body:{audioData:Y,fileName:B,title:_,description:j,tags:S}});if(oe)throw oe;s(),n(),a("choose"),g(null),y(null),E(""),C(""),T("")},$.onerror=()=>{F("Failed to read audio file"),G(!1)}}catch($){F($.message||"Failed to upload voice note"),G(!1)}},Ie=()=>{a("choose"),g(null),y(null),E(""),C(""),T(""),F(""),G(!1),H(!1)},qe=()=>{Ie(),n()};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[m.jsx("button",{onClick:qe,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:m.jsx(Xl,{className:"w-5 h-5"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Share Your Voice"}),o==="choose"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-gray-600 mb-6",children:"Share your authentic insights in 30 seconds or less."}),m.jsxs("button",{onClick:()=>a("record"),className:"w-full flex items-center justify-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[m.jsx(Ci,{className:"w-6 h-6 text-purple-600"}),m.jsx("span",{className:"font-medium text-gray-700",children:"Record Audio"})]}),m.jsxs("button",{onClick:()=>a("upload"),className:"w-full flex items-center justify-center gap-3 p-4 border-2 border-purple-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[m.jsx(ld,{className:"w-6 h-6 text-purple-600"}),m.jsx("span",{className:"font-medium text-gray-700",children:"Upload Audio File"})]})]}),o==="record"&&m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"mb-4",children:p?m.jsxs("div",{className:"flex items-center justify-center gap-4",children:[m.jsx("button",{onClick:we,className:"w-12 h-12 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center transition-colors",children:Q?m.jsx(Ti,{className:"w-6 h-6 text-white"}):m.jsx(as,{className:"w-6 h-6 text-white ml-1"})}),m.jsx("button",{onClick:()=>{g(null),H(!1)},className:"text-gray-500 hover:text-gray-700 transition-colors",children:"Record Again"})]}):m.jsx("button",{onClick:c?ue:se,className:`w-20 h-20 rounded-full flex items-center justify-center transition-colors ${c?"bg-red-500 hover:bg-red-600":"bg-purple-600 hover:bg-purple-700"}`,children:c?m.jsx(zd,{className:"w-8 h-8 text-white"}):m.jsx(Ci,{className:"w-8 h-8 text-white"})})}),m.jsx("p",{className:"text-sm text-gray-600",children:c?"Recording... Click to stop":p?"Recording complete":"Click to start recording"})]})}),o==="upload"&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("input",{ref:ee,type:"file",accept:"audio/*",onChange:Pe,className:"hidden"}),v?m.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[m.jsx("p",{className:"font-medium text-gray-700",children:v.name}),m.jsxs("p",{className:"text-sm text-gray-500",children:[(v.size/1024/1024).toFixed(2)," MB"]}),m.jsx("button",{onClick:()=>y(null),className:"text-purple-600 hover:text-purple-700 text-sm mt-2 transition-colors",children:"Choose different file"})]}):m.jsxs("button",{onClick:()=>{var ie;return(ie=ee.current)==null?void 0:ie.click()},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors",children:[m.jsx(ld,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),m.jsx("p",{className:"text-gray-600",children:"Click to select audio file"}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"MP3, WAV, WebM, or M4A"})]})]}),(p||v)&&m.jsxs("div",{className:"space-y-4 mt-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Title / Main Point"}),m.jsx("input",{type:"text",id:"title",value:_,onChange:ie=>E(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"What's the main insight?",maxLength:100})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{id:"description",value:j,onChange:ie=>C(ie.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Provide more context about your voice note...",maxLength:500})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (optional)"}),m.jsx("input",{type:"text",id:"tags",value:O,onChange:ie=>T(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"technology, business, life (separated by commas)"})]}),D&&m.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:D}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>a("choose"),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Back"}),m.jsx("button",{onClick:Se,disabled:M,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:M?"Uploading...":"Share Voice Note"})]})]})]})})}function Ig({totalCount:u,onVoiceNoteAdded:n}){const{user:s}=gn(),[o,a]=z.useState(!1),[c,f]=z.useState(!1),p=()=>{if(!s){a(!0);return}f(!0)};return m.jsxs("section",{className:"bg-gray-50 py-12 px-6",children:[m.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[m.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Forget attention, focus on value"}),m.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Real human thoughts in 30 seconds. No bots, no ads, no BS."}),m.jsx("div",{className:"flex justify-center items-center mb-8",children:m.jsx("button",{onClick:p,className:"bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors",children:"Share Your Voice"})}),m.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[m.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Your Voice Matters"}),m.jsx("p",{className:"text-gray-600",children:"No perfection, no polish required. Just authentic insights"})]})]}),m.jsx(Oi,{isOpen:o,onClose:()=>a(!1)}),m.jsx(Lg,{isOpen:c,onClose:()=>f(!1),onSuccess:()=>{n==null||n()}})]})}function $g({totalCount:u}){return m.jsx("section",{className:"py-8 px-6 bg-white",children:m.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Community Voices"}),m.jsxs("p",{className:"text-xl text-gray-600",children:[m.jsx("span",{className:"font-semibold text-purple-600",children:u})," authentic stories shared"]})]})})}function Ug({value:u,onChange:n,placeholder:s="Search voice stories..."}){const o=z.useRef(null),a=c=>{n(c.target.value)};return m.jsxs("div",{className:"relative w-full max-w-md",children:[m.jsx(jp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),m.jsx("input",{ref:o,type:"text",placeholder:s,value:u,onChange:a,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg font-medium text-gray-900 bg-white transition-colors duration-200 outline-none text-base hover:border-gray-300 focus:border-purple-500 focus:shadow-md",autoComplete:"off",spellCheck:!1})]})}const $d=[{id:"all",label:"All Vibes"},{id:"funny-light",label:"Funny & Light"},{id:"deep-insights",label:"Deep Insights"},{id:"game-changer",label:"Game Changer"},{id:"creative-spark",label:"Creative Spark"},{id:"aha-moments",label:"Aha Moments"},{id:"food-for-thought",label:"Food for Thought"},{id:"needs-context",label:"Needs Context"},{id:"explore-more",label:"Explore More"}];function Dg({activeFilter:u,onFilterChange:n,searchQuery:s,onSearchChange:o}){var f;const[a,c]=z.useState(!1);return m.jsx("section",{className:"py-8 px-6 bg-white border-b",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Discover Voice Stories"}),m.jsx("div",{className:"mb-6",children:m.jsx(Ug,{value:s,onChange:o,placeholder:"Search voice stories..."})}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Filter by Vibe:"}),m.jsxs("button",{onClick:()=>c(!a),className:"md:hidden flex items-center gap-1 text-purple-600 hover:text-purple-700 transition-colors",children:[m.jsx("span",{className:"text-sm",children:"Show Filters"}),m.jsx(Dd,{className:`w-4 h-4 transform transition-transform ${a?"rotate-180":""}`})]})]}),m.jsx("div",{className:`flex flex-wrap gap-2 ${a?"block":"hidden md:flex"}`,children:$d.map(p=>m.jsx("button",{onClick:()=>n(p.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${u===p.id?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:p.label},p.id))})]}),(u!=="all"||s)&&m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[m.jsx("span",{children:"Showing:"}),s&&m.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:['"',s,'"']}),u!=="all"&&m.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full",children:(f=$d.find(p=>p.id===u))==null?void 0:f.label}),m.jsx("button",{onClick:()=>{n("all"),o("")},className:"text-purple-600 hover:text-purple-700 ml-2",children:"Clear all"})]})]})})}const af=z.createContext(void 0);function Mg({children:u}){const[n,s]=z.useState({currentTrackId:null,isPlaying:!1,currentTime:0,duration:0,isLoading:!1,error:null}),o=z.useRef(null),a=z.useRef({}),c=()=>{if(o.current){o.current.pause();const y=o.current,_=a.current;_.loadedmetadata&&y.removeEventListener("loadedmetadata",_.loadedmetadata),_.timeupdate&&y.removeEventListener("timeupdate",_.timeupdate),_.play&&y.removeEventListener("play",_.play),_.ended&&y.removeEventListener("ended",_.ended),_.error&&y.removeEventListener("error",_.error),o.current=null,a.current={}}},f=async(y,_,E,j)=>{try{if(n.currentTrackId===y&&o.current){n.isPlaying?(o.current.pause(),s(X=>({...X,isPlaying:!1}))):(await o.current.play(),s(X=>({...X,isPlaying:!0})));return}c(),s(X=>({...X,currentTrackId:y,isLoading:!0,error:null,isPlaying:!1}));const C=new Audio;C.autoplay=!1,C.controls=!1,o.current=C;let O=!1;const T=()=>{s(X=>({...X,duration:C.duration,isLoading:!1}))},M=()=>{s(X=>({...X,currentTime:C.currentTime}))},G=()=>{!O&&j&&(O=!0,j())},D=()=>{s(X=>({...X,isPlaying:!1,currentTime:0}))},F=X=>{if(console.error("Audio playback error:",X),E&&C.src!==E){console.log("WebM failed, trying MP3 fallback"),C.src=E,C.load();return}_.includes(".webm")&&!E&&console.log("WebM not supported, audio playback failed"),s(ee=>({...ee,error:"Audio format not supported in this browser.",isLoading:!1,isPlaying:!1}))};a.current={loadedmetadata:T,timeupdate:M,ended:D,error:F,play:G},C.addEventListener("loadedmetadata",T),C.addEventListener("timeupdate",M),C.addEventListener("play",G),C.addEventListener("ended",D),C.addEventListener("error",F);const Q=C.canPlayType("audio/webm")!=="",H=C.canPlayType("audio/mpeg")!=="";console.log("Browser support - WebM:",Q,"MP3:",H),E&&H?(console.log("Using MP3 format"),C.src=E):Q&&_?(console.log("Using WebM format"),C.src=_):E?(console.log("Fallback to MP3"),C.src=E):(console.log("Using original URL as fallback"),C.src=_),C.preload="metadata",C.load();const Z=()=>{C.play().then(()=>{s(X=>({...X,isPlaying:!0,isLoading:!1}))}).catch(X=>{console.error("Play failed:",X),s(ee=>({...ee,error:"Playback failed. Please try again.",isLoading:!1,isPlaying:!1}))})};if(C.readyState>=3)Z();else{const X=()=>{C.removeEventListener("canplay",X),Z()};C.addEventListener("canplay",X)}}catch(C){console.error("Failed to play audio:",C),s(O=>({...O,error:"Playback failed. Please try again.",isLoading:!1,isPlaying:!1}))}},p=()=>{o.current&&(o.current.pause(),s(y=>({...y,isPlaying:!1})))},g=y=>{o.current&&(o.current.currentTime=y,s(_=>({..._,currentTime:y})))},v=()=>{s(y=>({...y,error:null}))};return m.jsx(af.Provider,{value:{audioState:n,playTrack:f,pauseTrack:p,seekTo:g,clearError:v},children:u})}function uf(){const u=z.useContext(af);if(u===void 0)throw new Error("useAudio must be used within an AudioProvider");return u}function zg({voiceNoteId:u,audioUrl:n,mp3Url:s,duration:o,listenCount:a}){var O,T;const{audioState:c,playTrack:f,pauseTrack:p,clearError:g}=uf(),v=c.currentTrackId===u,y=v&&c.isPlaying,_=v&&c.isLoading,E=v&&c.error,j=M=>{const G=Math.floor(M/60),D=Math.floor(M%60);return`${G}:${D.toString().padStart(2,"0")}`},C=async()=>{E&&g(),y?p():await f(u,n,s,async()=>{try{const G=crypto.randomUUID();await ye.functions.invoke("increment-listen-count",{body:{voiceNoteId:u,sessionId:G}})}catch(G){console.error("Failed to increment listen count:",G)}})};return E?m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[m.jsx("button",{onClick:C,className:"w-10 h-10 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Retry audio",children:m.jsx(as,{className:"w-4 h-4 ml-0.5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-red-600 text-sm font-medium",children:(O=c.error)!=null&&O.includes("format not supported")?"Format not supported":"Audio error"}),m.jsx("p",{className:"text-red-500 text-xs",children:(T=c.error)!=null&&T.includes("format not supported")?"Try a different browser or device":"Tap to retry"})]})]}):m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[m.jsx("button",{onClick:C,disabled:_,className:"w-10 h-10 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 rounded-full flex items-center justify-center text-white transition-colors shadow-sm","aria-label":y?"Pause audio":"Play audio",children:_?m.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):y?m.jsx(Ti,{className:"w-4 h-4"}):m.jsx(as,{className:"w-4 h-4 ml-0.5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsx("span",{className:"text-gray-600 font-medium",children:j(o)}),m.jsxs("span",{className:"text-gray-500",children:[a," listens"]})]}),v&&c.duration>0&&m.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1",children:m.jsx("div",{className:"bg-purple-600 h-1 rounded-full transition-all duration-150",style:{width:`${c.currentTime/c.duration*100}%`}})})]})]})}function Fg({transcript:u,isVisible:n}){return!n||!u?null:m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 animate-in slide-in-from-top-2 duration-300","aria-live":"polite",children:m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[m.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Transcript"}),m.jsx("div",{className:"text-gray-800 leading-relaxed whitespace-pre-wrap",children:u})]})})}const Bg=({onComplete:u})=>{const[n,s]=z.useState(30);z.useEffect(()=>{if(n===0){u();return}const c=setInterval(()=>{s(n-1)},1e3);return()=>clearInterval(c)},[n,u]);const o=n<=5?"text-red-500 font-bold":"text-gray-800",a=`00:${String(n).padStart(2,"0")}`;return m.jsx("div",{role:"timer","aria-live":"polite",className:`text-2xl font-semibold ${o}`,children:a})};function Vg({onRecordingComplete:u,className:n=""}){const[s,o]=z.useState(!1),[a,c]=z.useState(null),[f,p]=z.useState(!1),[g,v]=z.useState(""),y=z.useRef(null),_=z.useRef(null),E=z.useRef(null),j=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,C=()=>j()?MediaRecorder.isTypeSupported("audio/mp4")?"audio/mp4":MediaRecorder.isTypeSupported("audio/mp3")?"audio/mp3":"audio/wav":MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4",O=async()=>{try{v(""),j()&&!E.current&&(E.current=new(window.AudioContext||window.webkitAudioContext));const F=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:j()?44100:void 0,channelCount:1}}),Q=C();console.log("Using audio format:",Q,"for iOS:",j());const H=new MediaRecorder(F,{mimeType:Q});y.current=H;const Z=[];H.ondataavailable=X=>{X.data.size>0&&Z.push(X.data)},H.onstop=()=>{const X=new Blob(Z,{type:Q});console.log("Created audio blob:",X.type,"size:",X.size),c(X),u(X),F.getTracks().forEach(ee=>ee.stop())},H.start(),o(!0)}catch(F){v("Could not access microphone. Please check permissions."),console.error("Recording error:",F)}},T=()=>{y.current&&s&&(y.current.stop(),o(!1))},M=()=>{T()},G=async()=>{if(a&&!f)try{j()&&E.current&&E.current.state==="suspended"&&await E.current.resume();const F=URL.createObjectURL(a);_.current=new Audio(F),j()&&(_.current.preload="auto",_.current.controls=!1,_.current.load()),_.current.onended=()=>{p(!1),URL.revokeObjectURL(F)},_.current.onerror=H=>{console.error("Audio playback error:",H),v("Could not play recording. Please try again."),p(!1),URL.revokeObjectURL(F)},_.current.oncanplaythrough=()=>{console.log("Audio can play through")};const Q=_.current.play();Q!==void 0?Q.then(()=>{console.log("Audio playback started successfully"),p(!0)}).catch(H=>{console.error("Audio play failed:",H),v("Could not play recording. Please try again."),p(!1),URL.revokeObjectURL(F)}):p(!0)}catch(F){console.error("Audio setup error:",F),v("Could not setup audio playback. Please try again.")}else _.current&&f&&(_.current.pause(),p(!1))},D=()=>{c(null),p(!1),v(""),_.current&&(_.current.pause(),_.current=null)};return g?m.jsxs("div",{className:`text-center ${n}`,children:[m.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:g}),m.jsx("button",{onClick:()=>v(""),className:"text-purple-600 hover:text-purple-700 text-sm",children:"Try Again"})]}):m.jsx("div",{className:`text-center space-y-4 ${n}`,children:a?m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[m.jsx("button",{onClick:G,className:"w-12 h-12 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center transition-colors",children:f?m.jsx(Ti,{className:"w-5 h-5 text-white"}):m.jsx(as,{className:"w-5 h-5 text-white ml-0.5"})}),m.jsx("button",{onClick:D,className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Record Again"})]}),m.jsx("p",{className:"text-sm text-gray-600",children:"Recording complete. Ready to submit."})]}):m.jsxs("div",{children:[s&&m.jsx("div",{className:"mb-4",children:m.jsx(Bg,{onComplete:M})}),m.jsx("button",{onClick:s?T:O,className:`w-16 h-16 rounded-full flex items-center justify-center transition-colors ${s?"bg-red-500 hover:bg-red-600":"bg-purple-600 hover:bg-purple-700"}`,children:s?m.jsx(zd,{className:"w-6 h-6 text-white"}):m.jsx(Ci,{className:"w-6 h-6 text-white"})}),m.jsx("p",{className:"text-sm text-gray-600 mt-2",children:s?"Recording... Click to stop or wait for timer":"Click to start recording (30 seconds max)"})]})})}function Wg({voiceNoteId:u,onReplySubmitted:n,onCancel:s}){const{user:o}=gn(),[a,c]=z.useState("text"),[f,p]=z.useState(""),[g,v]=z.useState(null),[y,_]=z.useState(!1),[E,j]=z.useState(""),C=async()=>{if(!f.trim()){j("Please enter a reply message");return}if(!o){j("You must be logged in to reply");return}_(!0),j("");try{const{error:M}=await ye.from("voice_note_replies").insert({voice_note_id:u,user_id:o.id,content_type:"text",text_content:f.trim()});if(M)throw M;n(),p("")}catch(M){j(M.message||"Failed to submit reply")}finally{_(!1)}},O=async()=>{if(!g){j("Please record a voice message");return}if(!o){j("You must be logged in to reply");return}_(!0),j("");try{const M=new FileReader;M.readAsDataURL(g),M.onload=async()=>{try{const G=M.result,D=`reply-${u}-${Date.now()}.webm`,{data:F,error:Q}=await ye.functions.invoke("upload-voice-reply",{body:{voiceNoteId:u,audioData:G,fileName:D}});if(Q)throw Q;n(),v(null)}catch(G){j(G.message||"Failed to submit voice reply")}finally{_(!1)}},M.onerror=()=>{j("Failed to process voice recording"),_(!1)}}catch(M){j(M.message||"Failed to submit voice reply"),_(!1)}},T=async()=>{a==="text"?await C():await O()};return m.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 mt-4",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Add a Reply"}),m.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden mb-4",children:[m.jsxs("button",{onClick:()=>c("text"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${a==="text"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(Md,{className:"w-4 h-4"}),"Write Reply"]}),m.jsxs("button",{onClick:()=>c("voice"),className:`flex-1 px-4 py-2 text-sm font-medium transition-colors flex items-center justify-center gap-2 ${a==="voice"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[m.jsx(Ci,{className:"w-4 h-4"}),"Voice Reply"]})]})]}),a==="text"?m.jsx("div",{className:"mb-4",children:m.jsx("textarea",{value:f,onChange:M=>p(M.target.value),placeholder:"Share your thoughts...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"})}):m.jsx("div",{className:"mb-4",children:m.jsx(Vg,{onRecordingComplete:v,className:"py-4"})}),E&&m.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:E}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),m.jsx("button",{onClick:T,disabled:y||a==="text"&&!f.trim()||a==="voice"&&!g,className:"flex-1 bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-400 disabled:cursor-not-allowed transition-colors",children:y?"Submitting...":"Submit Reply"})]})]})}function qg({reply:u}){var y,_,E;const{audioState:n,playTrack:s,pauseTrack:o}=uf(),a=n.currentTrackId===`reply-${u.id}`,c=a&&n.isPlaying,f=a&&n.isLoading,p=j=>j?j.split(" ").map(C=>C.charAt(0)).join("").toUpperCase().slice(0,2):"U",g=j=>j?new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",v=async()=>{u.content_type!=="voice"||!u.audio_url||(c?o():await s(`reply-${u.id}`,u.audio_url,u.audio_url_mp3))};return m.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 ml-8",children:[m.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[m.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-xs flex-shrink-0",children:p((y=u.user_profile)==null?void 0:y.full_name)}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:((_=u.user_profile)==null?void 0:_.full_name)||"Anonymous User"}),m.jsx("span",{className:"text-xs text-gray-500",children:g(u.created_at)})]}),((E=u.user_profile)==null?void 0:E.role)&&m.jsx("p",{className:"text-xs text-gray-600",children:u.user_profile.role})]})]}),u.content_type==="text"?m.jsx("div",{className:"text-gray-800 leading-relaxed",children:u.text_content}):m.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded border",children:[m.jsx("button",{onClick:v,disabled:f||!u.audio_url,className:"w-8 h-8 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 rounded-full flex items-center justify-center text-white transition-colors","aria-label":c?"Pause audio reply":"Play audio reply",children:f?m.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):c?m.jsx(Ti,{className:"w-3 h-3"}):m.jsx(as,{className:"w-3 h-3 ml-0.5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("span",{className:"text-sm text-gray-600",children:["Voice Reply",u.duration?`  ${Math.round(u.duration)}s`:""]}),a&&n.duration>0&&m.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1",children:m.jsx("div",{className:"bg-purple-600 h-1 rounded-full transition-all duration-150",style:{width:`${n.currentTime/n.duration*100}%`}})})]})]})]})}function Hg({voiceNoteId:u}){const{user:n}=gn(),[s,o]=z.useState([]),[a,c]=z.useState(!1),[f,p]=z.useState(!1),[g,v]=z.useState(!0),[y,_]=z.useState("");z.useEffect(()=>{E()},[u]);const E=async()=>{try{v(!0),_("");const{data:T,error:M}=await ye.from("voice_note_replies").select("*").eq("voice_note_id",u).order("created_at",{ascending:!0});if(M)throw M;if(!T||T.length===0){o([]);return}const G=[...new Set(T.map(Q=>Q.user_id))],{data:D}=await ye.from("user_profiles").select("id, full_name, role").in("id",G),F=T.map(Q=>({...Q,user_profile:(D==null?void 0:D.find(H=>H.id===Q.user_id))||{full_name:null,role:null}}));o(F)}catch(T){console.error("Error loading replies:",T),_("Failed to load replies")}finally{v(!1)}},j=()=>{if(!n){p(!0);return}c(!0)},C=()=>{c(!1),E()},O=()=>{c(!1)};return g?m.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:m.jsxs("div",{className:"text-center py-4",children:[m.jsx("div",{className:"w-6 h-6 border-2 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto"}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading replies..."})]})}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h4",{className:"text-sm font-medium text-gray-700",children:s.length===0?"No replies yet":`${s.length} ${s.length===1?"Reply":"Replies"}`}),!a&&m.jsx("button",{onClick:j,className:"text-purple-600 hover:text-purple-700 font-medium text-sm transition-colors",children:"Reply"})]}),y&&m.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md mb-4",children:y}),a&&m.jsx(Wg,{voiceNoteId:u,onReplySubmitted:C,onCancel:O}),s.length>0&&m.jsx("div",{className:"space-y-3 mt-4",children:s.map(T=>m.jsx(qg,{reply:T},T.id))})]}),m.jsx(Oi,{isOpen:f,onClose:()=>p(!1)})]})}const Ml=[{type:"humourous",emoji:"",label:"funny"},{type:"informative",emoji:"",label:"insightful"},{type:"game_changer",emoji:"",label:"game changer"},{type:"useful",emoji:"",label:"creative"},{type:"thought_provoking",emoji:"",label:"Aha!"},{type:"debatable",emoji:"",label:"debatable"}];function Kg({voiceNote:u,onReaction:n}){var Q,H,Z,X;const{user:s}=gn(),[o,a]=z.useState(!1),[c,f]=z.useState(()=>{const ee={};return Ml.forEach(se=>{ee[se.type]=u[`${se.type}_count`]||0}),ee}),[p,g]=z.useState(!1),[v,y]=z.useState(!1),[_,E]=z.useState({}),[j,C]=z.useState(!1),O=ee=>ee?ee.split(" ").map(se=>se.charAt(0)).join("").toUpperCase().slice(0,2):"U",T=ee=>ee?new Date(ee).toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"}):"Unknown",M=()=>{const ee=Ml.reduce((se,ue)=>{const we=u[`${ue.type}_count`]||0;return se+we},0);return Math.min(10,Math.max(1,Math.floor(ee/2)+5))},G=ee=>{const se=ee.toLowerCase(),ue=[];return(se.includes("tech")||se.includes("technology"))&&ue.push("#Technology"),(se.includes("business")||se.includes("entrepreneur"))&&ue.push("#Entrepreneurship"),(se.includes("politics")||se.includes("political"))&&ue.push("#Politics"),(se.includes("cricket")||se.includes("sport"))&&ue.push("#cricket"),(se.includes("food")||se.includes("restaurant"))&&ue.push("#Food"),(se.includes("health")||se.includes("fitness"))&&ue.push("#Health"),ue.length===0&&ue.push("#Insights"),ue};z.useEffect(()=>{(()=>{const se=G(u.action_text),ue={};se.forEach(we=>{ue[we]={count:0,userVoted:!1}}),E(ue)})()},[u.id,u.action_text]);const D=async ee=>{if(j)return;if(!s){y(!0);return}C(!0);const se=ee.replace("#","");try{const{data:{session:ue}}=await ye.auth.getSession();if(!ue)throw new Error("No session found");const we=_[ee]||{count:0,userVoted:!1},Pe=!we.userVoted,Se=Pe?we.count+1:Math.max(0,we.count-1);E(Ie=>({...Ie,[ee]:{count:Se,userVoted:Pe}}));try{const Ie=await ye.functions.invoke("handle-tag-vote",{body:{tagName:se,voiceNoteId:u.id},headers:{Authorization:`Bearer ${ue.access_token}`}});Ie.error&&console.warn("Tag vote edge function failed, but optimistic update applied:",Ie.error)}catch(Ie){console.warn("Tag vote edge function not available, using optimistic update only:",Ie)}}catch(ue){console.error("Failed to vote on tag:",ue),E(we=>we)}finally{C(!1)}},F=async ee=>{if(p)return;if(!s){y(!0);return}g(!0);const se={...c};try{f(Se=>({...Se,[ee]:Se[ee]+1}));const{data:{session:ue}}=await ye.auth.getSession();if(!ue)throw new Error("No session found");const we=await ye.functions.invoke("handle-vote",{body:{voiceNoteId:u.id,voteType:ee},headers:{Authorization:`Bearer ${ue.access_token}`}});if(we.error)throw we.error;const Pe=we.data;Pe.operation==="remove"?f(Se=>({...Se,[ee]:Math.max(0,Se[ee]-1)})):Pe.operation==="update"&&f(Se=>({...Se,[ee]:Se[ee]+1,[Pe.previousVoteType]:Math.max(0,Se[Pe.previousVoteType]-1)})),n==null||n(ee)}catch(ue){console.error("Failed to handle reaction:",ue),f(se)}finally{g(!1)}};return m.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm flex-shrink-0",children:O((Q=u.user_profile)==null?void 0:Q.full_name)}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("h3",{className:"font-semibold text-gray-900",children:((H=u.user_profile)==null?void 0:H.full_name)||"Anonymous User"}),m.jsx("span",{className:"text-sm text-gray-500",children:T(u.created_at)})]}),m.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[((Z=u.user_profile)==null?void 0:Z.role)||"Community Member",((X=u.user_profile)==null?void 0:X.company)&&` at ${u.user_profile.company}`]}),m.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:G(u.action_text).map((ee,se)=>{const ue=_[ee]||{count:0,userVoted:!1};return m.jsxs("button",{onClick:()=>D(ee),disabled:j,className:`
                    inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium transition-all duration-200
                    ${ue.userVoted?"bg-purple-100 text-purple-700 border border-purple-300 shadow-sm":"bg-gray-100 text-gray-600 border border-gray-200 hover:bg-purple-50 hover:text-purple-600 hover:border-purple-200"}
                    ${j?"cursor-not-allowed opacity-50":"cursor-pointer hover:shadow-sm"}
                  `,title:ue.userVoted?"Click to remove your vote":"Click to vote for this tag",children:[m.jsx("span",{children:ee}),ue.count>0&&m.jsx("span",{className:`
                      px-1.5 py-0.5 rounded-full text-xs leading-none font-semibold
                      ${ue.userVoted?"bg-purple-200 text-purple-800":"bg-gray-200 text-gray-700"}
                    `,children:ue.count})]},se)})})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-gray-800 leading-relaxed mb-3",children:u.action_text}),m.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-600 p-3 rounded-r-lg",children:m.jsxs("p",{className:"text-sm text-purple-800 font-medium",children:[" ",u.tldr_text]})})]}),m.jsx(zg,{voiceNoteId:u.id,audioUrl:u.audio_url,mp3Url:u.audio_url_mp3,duration:u.duration,listenCount:u.listen_count||150}),u.transcript&&m.jsx("div",{className:"mt-3",children:m.jsxs("button",{onClick:()=>a(!o),className:"flex items-center gap-1 text-sm text-purple-600 hover:text-purple-700 font-medium transition-colors",children:[m.jsx(Md,{className:"w-4 h-4"}),o?"Hide transcript":"View transcript"]})}),m.jsx(Fg,{transcript:u.transcript||"",isVisible:o}),m.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[m.jsx("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:Ml.map(ee=>{const se=c[ee.type]||0;return m.jsxs("button",{onClick:()=>F(ee.type),disabled:p,className:`flex items-center gap-1 px-2 py-1 rounded-full transition-colors text-xs ${p?"bg-gray-200 cursor-not-allowed":"bg-gray-100 hover:bg-gray-200"}`,children:[m.jsx("span",{children:ee.emoji}),m.jsx("span",{className:"text-gray-600",children:ee.label}),se>0&&m.jsx("span",{className:"font-medium text-gray-700",children:se})]},ee.type)})}),m.jsx("div",{className:"flex items-center justify-between text-sm text-gray-500",children:m.jsxs("span",{children:["Community Score: ",m.jsxs("span",{className:"font-semibold text-purple-600",children:[M(),"/10"]})]})})]}),m.jsx(Hg,{voiceNoteId:u.id}),m.jsx(Oi,{isOpen:v,onClose:()=>y(!1)})]})}function cf(u="all",n=""){const[s,o]=z.useState([]),[a,c]=z.useState(!0),[f,p]=z.useState(null),[g,v]=z.useState(0),y=async()=>{try{c(!0),p(null);const{count:j}=await ye.from("voice_notes").select("*",{count:"exact",head:!0});v(j||0);let C=ye.from("voice_notes").select("*").order("created_at",{ascending:!1}).limit(20);n.trim()&&(C=C.or(`action_text.ilike.%${n}%,tldr_text.ilike.%${n}%`)),u==="funny-light"?C=C.gt("humourous_count",0):u==="deep-insights"?C=C.gt("thought_provoking_count",0):u==="game-changer"?C=C.gt("game_changer_count",0):u==="creative-spark"?C=C.gt("useful_count",0):u==="aha-moments"&&(C=C.gt("informative_count",0));const{data:O,error:T}=await C;if(T)throw T;if(!O||O.length===0){o([]);return}const M=[...new Set(O.map(Z=>Z.user_id))],{data:G}=await ye.from("user_profiles").select("id, full_name, role, company, verified").in("id",M),D=O.map(Z=>Z.id),{data:F}=await ye.from("listen_counts").select("voice_note_id").in("voice_note_id",D),Q=(F||[]).reduce((Z,X)=>(Z[X.voice_note_id]=(Z[X.voice_note_id]||0)+1,Z),{}),H=O.map(Z=>({...Z,user_profile:(G==null?void 0:G.find(X=>X.id===Z.user_id))||{full_name:null,role:null,company:null,verified:!1},listen_count:Q[Z.id]||Z.listen_count||0}));o(H)}catch(j){console.error("Error loading voice notes:",j),p(j instanceof Error?j.message:"Failed to load voice notes")}finally{c(!1)}},_=async(j,C)=>{try{const{data:{user:O}}=await ye.auth.getUser();if(!O){console.log("User not logged in - reaction would require login");return}const{data:T}=await ye.from("voice_note_votes").select("*").eq("user_id",O.id).eq("voice_note_id",j).maybeSingle();T?T.vote_type===C?await ye.from("voice_note_votes").delete().eq("id",T.id):await ye.from("voice_note_votes").update({vote_type:C}).eq("id",T.id):await ye.from("voice_note_votes").insert({user_id:O.id,voice_note_id:j,vote_type:C}),await y()}catch(O){console.error("Error adding reaction:",O)}},E=async j=>{try{const{data:{user:C}}=await ye.auth.getUser();if(!C){console.log("User not logged in - save would require login");return}const{data:O}=await ye.from("voice_note_saves").select("*").eq("user_id",C.id).eq("voice_note_id",j).maybeSingle();O?await ye.from("voice_note_saves").delete().eq("id",O.id):await ye.from("voice_note_saves").insert({user_id:C.id,voice_note_id:j}),o(T=>T.map(M=>M.id===j?{...M,is_saved:!M.is_saved}:M))}catch(C){console.error("Error toggling save:",C)}};return z.useEffect(()=>{y()},[u,n]),{voiceNotes:s,loading:a,error:f,totalCount:g,addReaction:_,toggleSave:E,refresh:y}}function Gg(){const[u,n]=z.useState("all"),[s,o]=z.useState(""),{voiceNotes:a,loading:c,error:f,addReaction:p}=cf(u,s);return c&&a.length===0?m.jsx("div",{className:"flex justify-center items-center py-12",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Loading authentic stories..."})]})}):f?m.jsx("div",{className:"flex justify-center items-center py-12",children:m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load stories"}),m.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Try Again"})]})}):m.jsxs(m.Fragment,{children:[m.jsx(Dg,{activeFilter:u,onFilterChange:n,searchQuery:s,onSearchChange:o}),m.jsx("section",{className:"py-8 px-6 bg-gray-50 min-h-screen",children:m.jsx("div",{className:"max-w-6xl mx-auto",children:a.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No stories found"}),m.jsx("p",{className:"text-gray-500",children:"Try adjusting your filter or check back later"})]}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(g=>m.jsx(Kg,{voiceNote:g,onReaction:v=>p(g.id,v)},g.id))})})})]})}function Qg(){const{totalCount:u,refresh:n}=cf();return m.jsx(Tg,{children:m.jsx(Mg,{children:m.jsxs("div",{className:"min-h-screen bg-gray-50",children:[m.jsx(Ag,{}),m.jsx(Ig,{totalCount:u,onVoiceNoteAdded:n}),m.jsx($g,{totalCount:u}),m.jsx(Gg,{}),m.jsx("footer",{className:"bg-gray-800 text-white py-8 px-6",children:m.jsx("div",{className:"max-w-6xl mx-auto text-center",children:m.jsx("p",{className:"text-gray-300",children:" 2025 ThirtyVoice - Quality Voice Insights"})})})]})})})}vp.createRoot(document.getElementById("root")).render(m.jsx(z.StrictMode,{children:m.jsx(wp,{children:m.jsx(Qg,{})})}));
